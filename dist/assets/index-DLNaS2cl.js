var _9=Object.defineProperty;var hR=t=>{throw TypeError(t)};var w9=(t,e,n)=>e in t?_9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var lr=(t,e,n)=>w9(t,typeof e!="symbol"?e+"":e,n),Tw=(t,e,n)=>e.has(t)||hR("Cannot "+n);var se=(t,e,n)=>(Tw(t,e,"read from private field"),n?n.call(t):e.get(t)),$t=(t,e,n)=>e.has(t)?hR("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Pt=(t,e,n,r)=>(Tw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),mn=(t,e,n)=>(Tw(t,e,"access private method"),n);var m0=(t,e,n,r)=>({set _(i){Pt(t,e,i,n)},get _(){return se(t,e,r)}});function mO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Qy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gO={exports:{}},Jy={},vO={exports:{}},fn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm=Symbol.for("react.element"),S9=Symbol.for("react.portal"),b9=Symbol.for("react.fragment"),M9=Symbol.for("react.strict_mode"),E9=Symbol.for("react.profiler"),T9=Symbol.for("react.provider"),C9=Symbol.for("react.context"),A9=Symbol.for("react.forward_ref"),R9=Symbol.for("react.suspense"),P9=Symbol.for("react.memo"),I9=Symbol.for("react.lazy"),pR=Symbol.iterator;function N9(t){return t===null||typeof t!="object"?null:(t=pR&&t[pR]||t["@@iterator"],typeof t=="function"?t:null)}var xO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yO=Object.assign,_O={};function Wf(t,e,n){this.props=t,this.context=e,this.refs=_O,this.updater=n||xO}Wf.prototype.isReactComponent={};Wf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wO(){}wO.prototype=Wf.prototype;function eT(t,e,n){this.props=t,this.context=e,this.refs=_O,this.updater=n||xO}var tT=eT.prototype=new wO;tT.constructor=eT;yO(tT,Wf.prototype);tT.isPureReactComponent=!0;var mR=Array.isArray,SO=Object.prototype.hasOwnProperty,nT={current:null},bO={key:!0,ref:!0,__self:!0,__source:!0};function MO(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)SO.call(e,r)&&!bO.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Gm,type:t,key:s,ref:o,props:i,_owner:nT.current}}function D9(t,e){return{$$typeof:Gm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rT(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gm}function L9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gR=/\/+/g;function Cw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?L9(""+t.key):e.toString(36)}function Gv(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gm:case S9:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Cw(o,0):r,mR(i)?(n="",t!=null&&(n=t.replace(gR,"$&/")+"/"),Gv(i,e,n,"",function(c){return c})):i!=null&&(rT(i)&&(i=D9(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(gR,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",mR(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Cw(s,a);o+=Gv(s,e,n,l,i)}else if(l=N9(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Cw(s,a++),o+=Gv(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function g0(t,e,n){if(t==null)return t;var r=[],i=0;return Gv(t,r,"","",function(s){return e.call(n,s,i++)}),r}function O9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ei={current:null},Wv={transition:null},F9={ReactCurrentDispatcher:Ei,ReactCurrentBatchConfig:Wv,ReactCurrentOwner:nT};function EO(){throw Error("act(...) is not supported in production builds of React.")}fn.Children={map:g0,forEach:function(t,e,n){g0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return g0(t,function(){e++}),e},toArray:function(t){return g0(t,function(e){return e})||[]},only:function(t){if(!rT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fn.Component=Wf;fn.Fragment=b9;fn.Profiler=E9;fn.PureComponent=eT;fn.StrictMode=M9;fn.Suspense=R9;fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F9;fn.act=EO;fn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=yO({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=nT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)SO.call(e,l)&&!bO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Gm,type:t.type,key:i,ref:s,props:r,_owner:o}};fn.createContext=function(t){return t={$$typeof:C9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:T9,_context:t},t.Consumer=t};fn.createElement=MO;fn.createFactory=function(t){var e=MO.bind(null,t);return e.type=t,e};fn.createRef=function(){return{current:null}};fn.forwardRef=function(t){return{$$typeof:A9,render:t}};fn.isValidElement=rT;fn.lazy=function(t){return{$$typeof:I9,_payload:{_status:-1,_result:t},_init:O9}};fn.memo=function(t,e){return{$$typeof:P9,type:t,compare:e===void 0?null:e}};fn.startTransition=function(t){var e=Wv.transition;Wv.transition={};try{t()}finally{Wv.transition=e}};fn.unstable_act=EO;fn.useCallback=function(t,e){return Ei.current.useCallback(t,e)};fn.useContext=function(t){return Ei.current.useContext(t)};fn.useDebugValue=function(){};fn.useDeferredValue=function(t){return Ei.current.useDeferredValue(t)};fn.useEffect=function(t,e){return Ei.current.useEffect(t,e)};fn.useId=function(){return Ei.current.useId()};fn.useImperativeHandle=function(t,e,n){return Ei.current.useImperativeHandle(t,e,n)};fn.useInsertionEffect=function(t,e){return Ei.current.useInsertionEffect(t,e)};fn.useLayoutEffect=function(t,e){return Ei.current.useLayoutEffect(t,e)};fn.useMemo=function(t,e){return Ei.current.useMemo(t,e)};fn.useReducer=function(t,e,n){return Ei.current.useReducer(t,e,n)};fn.useRef=function(t){return Ei.current.useRef(t)};fn.useState=function(t){return Ei.current.useState(t)};fn.useSyncExternalStore=function(t,e,n){return Ei.current.useSyncExternalStore(t,e,n)};fn.useTransition=function(){return Ei.current.useTransition()};fn.version="18.3.1";vO.exports=fn;var E=vO.exports;const Qe=Qy(E),e_=mO({__proto__:null,default:Qe},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k9=E,U9=Symbol.for("react.element"),B9=Symbol.for("react.fragment"),z9=Object.prototype.hasOwnProperty,V9=k9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H9={key:!0,ref:!0,__self:!0,__source:!0};function TO(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)z9.call(e,r)&&!H9.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:U9,type:t,key:s,ref:o,props:i,_owner:V9.current}}Jy.Fragment=B9;Jy.jsx=TO;Jy.jsxs=TO;gO.exports=Jy;var T=gO.exports,CO={exports:{}},fs={},AO={exports:{}},RO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,H){var $=z.length;z.push(H);e:for(;0<$;){var oe=$-1>>>1,pe=z[oe];if(0<i(pe,H))z[oe]=H,z[$]=pe,$=oe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var H=z[0],$=z.pop();if($!==H){z[0]=$;e:for(var oe=0,pe=z.length,Me=pe>>>1;oe<Me;){var Ue=2*(oe+1)-1,at=z[Ue],ae=Ue+1,fe=z[ae];if(0>i(at,$))ae<pe&&0>i(fe,at)?(z[oe]=fe,z[ae]=$,oe=ae):(z[oe]=at,z[Ue]=$,oe=Ue);else if(ae<pe&&0>i(fe,$))z[oe]=fe,z[ae]=$,oe=ae;else break e}}return H}function i(z,H){var $=z.sortIndex-H.sortIndex;return $!==0?$:z.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=z)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function M(z){if(x=!1,S(z),!v)if(n(l)!==null)v=!0,Q(A);else{var H=n(c);H!==null&&ie(M,H.startTime-z)}}function A(z,H){v=!1,x&&(x=!1,g(D),D=-1),m=!0;var $=p;try{for(S(H),d=n(l);d!==null&&(!(d.expirationTime>H)||z&&!F());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,p=d.priorityLevel;var pe=oe(d.expirationTime<=H);H=t.unstable_now(),typeof pe=="function"?d.callback=pe:d===n(l)&&r(l),S(H)}else r(l);d=n(l)}if(d!==null)var Me=!0;else{var Ue=n(c);Ue!==null&&ie(M,Ue.startTime-H),Me=!1}return Me}finally{d=null,p=$,m=!1}}var R=!1,C=null,D=-1,N=5,I=-1;function F(){return!(t.unstable_now()-I<N)}function V(){if(C!==null){var z=t.unstable_now();I=z;var H=!0;try{H=C(!0,z)}finally{H?Y():(R=!1,C=null)}}else R=!1}var Y;if(typeof _=="function")Y=function(){_(V)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ee=G.port2;G.port1.onmessage=V,Y=function(){ee.postMessage(null)}}else Y=function(){y(V,0)};function Q(z){C=z,R||(R=!0,Y())}function ie(z,H){D=y(function(){z(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,Q(A))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var $=p;p=H;try{return z()}finally{p=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,H){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var $=p;p=z;try{return H()}finally{p=$}},t.unstable_scheduleCallback=function(z,H,$){var oe=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?oe+$:oe):$=oe,z){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=$+pe,z={id:u++,callback:H,priorityLevel:z,startTime:$,expirationTime:pe,sortIndex:-1},$>oe?(z.sortIndex=$,e(c,z),n(l)===null&&z===n(c)&&(x?(g(D),D=-1):x=!0,ie(M,$-oe))):(z.sortIndex=pe,e(l,z),v||m||(v=!0,Q(A))),z},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(z){var H=p;return function(){var $=p;p=H;try{return z.apply(this,arguments)}finally{p=$}}}})(RO);AO.exports=RO;var j9=AO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G9=E,cs=j9;function it(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PO=new Set,Hp={};function Ru(t,e){xf(t,e),xf(t+"Capture",e)}function xf(t,e){for(Hp[t]=e,t=0;t<e.length;t++)PO.add(e[t])}var Ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lb=Object.prototype.hasOwnProperty,W9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vR={},xR={};function X9(t){return Lb.call(xR,t)?!0:Lb.call(vR,t)?!1:W9.test(t)?xR[t]=!0:(vR[t]=!0,!1)}function $9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Y9(t,e,n,r){if(e===null||typeof e>"u"||$9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ti(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qr[t]=new Ti(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qr[e]=new Ti(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qr[t]=new Ti(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qr[t]=new Ti(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qr[t]=new Ti(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qr[t]=new Ti(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qr[t]=new Ti(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qr[t]=new Ti(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qr[t]=new Ti(t,5,!1,t.toLowerCase(),null,!1,!1)});var iT=/[\-:]([a-z])/g;function sT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(iT,sT);qr[e]=new Ti(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(iT,sT);qr[e]=new Ti(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(iT,sT);qr[e]=new Ti(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qr[t]=new Ti(t,1,!1,t.toLowerCase(),null,!1,!1)});qr.xlinkHref=new Ti("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qr[t]=new Ti(t,1,!1,t.toLowerCase(),null,!0,!0)});function oT(t,e,n,r){var i=qr.hasOwnProperty(e)?qr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Y9(e,n,i,r)&&(n=null),r||i===null?X9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Oa=G9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,v0=Symbol.for("react.element"),Cd=Symbol.for("react.portal"),Ad=Symbol.for("react.fragment"),aT=Symbol.for("react.strict_mode"),Ob=Symbol.for("react.profiler"),IO=Symbol.for("react.provider"),NO=Symbol.for("react.context"),lT=Symbol.for("react.forward_ref"),Fb=Symbol.for("react.suspense"),kb=Symbol.for("react.suspense_list"),cT=Symbol.for("react.memo"),al=Symbol.for("react.lazy"),DO=Symbol.for("react.offscreen"),yR=Symbol.iterator;function Eh(t){return t===null||typeof t!="object"?null:(t=yR&&t[yR]||t["@@iterator"],typeof t=="function"?t:null)}var ir=Object.assign,Aw;function ip(t){if(Aw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Aw=e&&e[1]||""}return`
`+Aw+t}var Rw=!1;function Pw(t,e){if(!t||Rw)return"";Rw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Rw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ip(t):""}function q9(t){switch(t.tag){case 5:return ip(t.type);case 16:return ip("Lazy");case 13:return ip("Suspense");case 19:return ip("SuspenseList");case 0:case 2:case 15:return t=Pw(t.type,!1),t;case 11:return t=Pw(t.type.render,!1),t;case 1:return t=Pw(t.type,!0),t;default:return""}}function Ub(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ad:return"Fragment";case Cd:return"Portal";case Ob:return"Profiler";case aT:return"StrictMode";case Fb:return"Suspense";case kb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case NO:return(t.displayName||"Context")+".Consumer";case IO:return(t._context.displayName||"Context")+".Provider";case lT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cT:return e=t.displayName||null,e!==null?e:Ub(t.type)||"Memo";case al:e=t._payload,t=t._init;try{return Ub(t(e))}catch{}}return null}function K9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ub(e);case 8:return e===aT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function kl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function LO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Z9(t){var e=LO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function x0(t){t._valueTracker||(t._valueTracker=Z9(t))}function OO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=LO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yx(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bb(t,e){var n=e.checked;return ir({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _R(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=kl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FO(t,e){e=e.checked,e!=null&&oT(t,"checked",e,!1)}function zb(t,e){FO(t,e);var n=kl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vb(t,e.type,n):e.hasOwnProperty("defaultValue")&&Vb(t,e.type,kl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wR(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Vb(t,e,n){(e!=="number"||yx(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var sp=Array.isArray;function $d(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+kl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Hb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(it(91));return ir({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function SR(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(it(92));if(sp(n)){if(1<n.length)throw Error(it(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:kl(n)}}function kO(t,e){var n=kl(e.value),r=kl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bR(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function UO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?UO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var y0,BO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(y0=y0||document.createElement("div"),y0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=y0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q9=["Webkit","ms","Moz","O"];Object.keys(gp).forEach(function(t){Q9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gp[e]=gp[t]})});function zO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||gp.hasOwnProperty(t)&&gp[t]?(""+e).trim():e+"px"}function VO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var J9=ir({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gb(t,e){if(e){if(J9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(it(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(it(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(it(61))}if(e.style!=null&&typeof e.style!="object")throw Error(it(62))}}function Wb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xb=null;function uT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $b=null,Yd=null,qd=null;function MR(t){if(t=$m(t)){if(typeof $b!="function")throw Error(it(280));var e=t.stateNode;e&&(e=s_(e),$b(t.stateNode,t.type,e))}}function HO(t){Yd?qd?qd.push(t):qd=[t]:Yd=t}function jO(){if(Yd){var t=Yd,e=qd;if(qd=Yd=null,MR(t),e)for(t=0;t<e.length;t++)MR(e[t])}}function GO(t,e){return t(e)}function WO(){}var Iw=!1;function XO(t,e,n){if(Iw)return t(e,n);Iw=!0;try{return GO(t,e,n)}finally{Iw=!1,(Yd!==null||qd!==null)&&(WO(),jO())}}function Gp(t,e){var n=t.stateNode;if(n===null)return null;var r=s_(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(it(231,e,typeof n));return n}var Yb=!1;if(Ta)try{var Th={};Object.defineProperty(Th,"passive",{get:function(){Yb=!0}}),window.addEventListener("test",Th,Th),window.removeEventListener("test",Th,Th)}catch{Yb=!1}function ej(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var vp=!1,_x=null,wx=!1,qb=null,tj={onError:function(t){vp=!0,_x=t}};function nj(t,e,n,r,i,s,o,a,l){vp=!1,_x=null,ej.apply(tj,arguments)}function rj(t,e,n,r,i,s,o,a,l){if(nj.apply(this,arguments),vp){if(vp){var c=_x;vp=!1,_x=null}else throw Error(it(198));wx||(wx=!0,qb=c)}}function Pu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $O(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ER(t){if(Pu(t)!==t)throw Error(it(188))}function ij(t){var e=t.alternate;if(!e){if(e=Pu(t),e===null)throw Error(it(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ER(i),t;if(s===r)return ER(i),e;s=s.sibling}throw Error(it(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(it(189))}}if(n.alternate!==r)throw Error(it(190))}if(n.tag!==3)throw Error(it(188));return n.stateNode.current===n?t:e}function YO(t){return t=ij(t),t!==null?qO(t):null}function qO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qO(t);if(e!==null)return e;t=t.sibling}return null}var KO=cs.unstable_scheduleCallback,TR=cs.unstable_cancelCallback,sj=cs.unstable_shouldYield,oj=cs.unstable_requestPaint,gr=cs.unstable_now,aj=cs.unstable_getCurrentPriorityLevel,dT=cs.unstable_ImmediatePriority,ZO=cs.unstable_UserBlockingPriority,Sx=cs.unstable_NormalPriority,lj=cs.unstable_LowPriority,QO=cs.unstable_IdlePriority,t_=null,Bo=null;function cj(t){if(Bo&&typeof Bo.onCommitFiberRoot=="function")try{Bo.onCommitFiberRoot(t_,t,void 0,(t.current.flags&128)===128)}catch{}}var ao=Math.clz32?Math.clz32:fj,uj=Math.log,dj=Math.LN2;function fj(t){return t>>>=0,t===0?32:31-(uj(t)/dj|0)|0}var _0=64,w0=4194304;function op(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bx(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=op(a):(s&=o,s!==0&&(r=op(s)))}else o=n&~i,o!==0?r=op(o):s!==0&&(r=op(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ao(e),i=1<<n,r|=t[n],e&=~i;return r}function hj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ao(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=hj(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Kb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function JO(){var t=_0;return _0<<=1,!(_0&4194240)&&(_0=64),t}function Nw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ao(e),t[e]=n}function mj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ao(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function fT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ao(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var On=0;function eF(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tF,hT,nF,rF,iF,Zb=!1,S0=[],Al=null,Rl=null,Pl=null,Wp=new Map,Xp=new Map,dl=[],gj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function CR(t,e){switch(t){case"focusin":case"focusout":Al=null;break;case"dragenter":case"dragleave":Rl=null;break;case"mouseover":case"mouseout":Pl=null;break;case"pointerover":case"pointerout":Wp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xp.delete(e.pointerId)}}function Ch(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=$m(e),e!==null&&hT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vj(t,e,n,r,i){switch(e){case"focusin":return Al=Ch(Al,t,e,n,r,i),!0;case"dragenter":return Rl=Ch(Rl,t,e,n,r,i),!0;case"mouseover":return Pl=Ch(Pl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Wp.set(s,Ch(Wp.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Xp.set(s,Ch(Xp.get(s)||null,t,e,n,r,i)),!0}return!1}function sF(t){var e=kc(t.target);if(e!==null){var n=Pu(e);if(n!==null){if(e=n.tag,e===13){if(e=$O(n),e!==null){t.blockedOn=e,iF(t.priority,function(){nF(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Xb=r,n.target.dispatchEvent(r),Xb=null}else return e=$m(n),e!==null&&hT(e),t.blockedOn=n,!1;e.shift()}return!0}function AR(t,e,n){Xv(t)&&n.delete(e)}function xj(){Zb=!1,Al!==null&&Xv(Al)&&(Al=null),Rl!==null&&Xv(Rl)&&(Rl=null),Pl!==null&&Xv(Pl)&&(Pl=null),Wp.forEach(AR),Xp.forEach(AR)}function Ah(t,e){t.blockedOn===e&&(t.blockedOn=null,Zb||(Zb=!0,cs.unstable_scheduleCallback(cs.unstable_NormalPriority,xj)))}function $p(t){function e(i){return Ah(i,t)}if(0<S0.length){Ah(S0[0],t);for(var n=1;n<S0.length;n++){var r=S0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Al!==null&&Ah(Al,t),Rl!==null&&Ah(Rl,t),Pl!==null&&Ah(Pl,t),Wp.forEach(e),Xp.forEach(e),n=0;n<dl.length;n++)r=dl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<dl.length&&(n=dl[0],n.blockedOn===null);)sF(n),n.blockedOn===null&&dl.shift()}var Kd=Oa.ReactCurrentBatchConfig,Mx=!0;function yj(t,e,n,r){var i=On,s=Kd.transition;Kd.transition=null;try{On=1,pT(t,e,n,r)}finally{On=i,Kd.transition=s}}function _j(t,e,n,r){var i=On,s=Kd.transition;Kd.transition=null;try{On=4,pT(t,e,n,r)}finally{On=i,Kd.transition=s}}function pT(t,e,n,r){if(Mx){var i=Qb(t,e,n,r);if(i===null)Hw(t,e,r,Ex,n),CR(t,r);else if(vj(i,t,e,n,r))r.stopPropagation();else if(CR(t,r),e&4&&-1<gj.indexOf(t)){for(;i!==null;){var s=$m(i);if(s!==null&&tF(s),s=Qb(t,e,n,r),s===null&&Hw(t,e,r,Ex,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Hw(t,e,r,null,n)}}var Ex=null;function Qb(t,e,n,r){if(Ex=null,t=uT(r),t=kc(t),t!==null)if(e=Pu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$O(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ex=t,null}function oF(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aj()){case dT:return 1;case ZO:return 4;case Sx:case lj:return 16;case QO:return 536870912;default:return 16}default:return 16}}var Sl=null,mT=null,$v=null;function aF(){if($v)return $v;var t,e=mT,n=e.length,r,i="value"in Sl?Sl.value:Sl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return $v=i.slice(t,1<r?1-r:void 0)}function Yv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function b0(){return!0}function RR(){return!1}function hs(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?b0:RR,this.isPropagationStopped=RR,this}return ir(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=b0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=b0)},persist:function(){},isPersistent:b0}),e}var Xf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gT=hs(Xf),Xm=ir({},Xf,{view:0,detail:0}),wj=hs(Xm),Dw,Lw,Rh,n_=ir({},Xm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rh&&(Rh&&t.type==="mousemove"?(Dw=t.screenX-Rh.screenX,Lw=t.screenY-Rh.screenY):Lw=Dw=0,Rh=t),Dw)},movementY:function(t){return"movementY"in t?t.movementY:Lw}}),PR=hs(n_),Sj=ir({},n_,{dataTransfer:0}),bj=hs(Sj),Mj=ir({},Xm,{relatedTarget:0}),Ow=hs(Mj),Ej=ir({},Xf,{animationName:0,elapsedTime:0,pseudoElement:0}),Tj=hs(Ej),Cj=ir({},Xf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Aj=hs(Cj),Rj=ir({},Xf,{data:0}),IR=hs(Rj),Pj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ij={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Nj[t])?!!e[t]:!1}function vT(){return Dj}var Lj=ir({},Xm,{key:function(t){if(t.key){var e=Pj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ij[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vT,charCode:function(t){return t.type==="keypress"?Yv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Oj=hs(Lj),Fj=ir({},n_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),NR=hs(Fj),kj=ir({},Xm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vT}),Uj=hs(kj),Bj=ir({},Xf,{propertyName:0,elapsedTime:0,pseudoElement:0}),zj=hs(Bj),Vj=ir({},n_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hj=hs(Vj),jj=[9,13,27,32],xT=Ta&&"CompositionEvent"in window,xp=null;Ta&&"documentMode"in document&&(xp=document.documentMode);var Gj=Ta&&"TextEvent"in window&&!xp,lF=Ta&&(!xT||xp&&8<xp&&11>=xp),DR=" ",LR=!1;function cF(t,e){switch(t){case"keyup":return jj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uF(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rd=!1;function Wj(t,e){switch(t){case"compositionend":return uF(e);case"keypress":return e.which!==32?null:(LR=!0,DR);case"textInput":return t=e.data,t===DR&&LR?null:t;default:return null}}function Xj(t,e){if(Rd)return t==="compositionend"||!xT&&cF(t,e)?(t=aF(),$v=mT=Sl=null,Rd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lF&&e.locale!=="ko"?null:e.data;default:return null}}var $j={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$j[t.type]:e==="textarea"}function dF(t,e,n,r){HO(r),e=Tx(e,"onChange"),0<e.length&&(n=new gT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var yp=null,Yp=null;function Yj(t){SF(t,0)}function r_(t){var e=Nd(t);if(OO(e))return t}function qj(t,e){if(t==="change")return e}var fF=!1;if(Ta){var Fw;if(Ta){var kw="oninput"in document;if(!kw){var FR=document.createElement("div");FR.setAttribute("oninput","return;"),kw=typeof FR.oninput=="function"}Fw=kw}else Fw=!1;fF=Fw&&(!document.documentMode||9<document.documentMode)}function kR(){yp&&(yp.detachEvent("onpropertychange",hF),Yp=yp=null)}function hF(t){if(t.propertyName==="value"&&r_(Yp)){var e=[];dF(e,Yp,t,uT(t)),XO(Yj,e)}}function Kj(t,e,n){t==="focusin"?(kR(),yp=e,Yp=n,yp.attachEvent("onpropertychange",hF)):t==="focusout"&&kR()}function Zj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return r_(Yp)}function Qj(t,e){if(t==="click")return r_(e)}function Jj(t,e){if(t==="input"||t==="change")return r_(e)}function eG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fo=typeof Object.is=="function"?Object.is:eG;function qp(t,e){if(fo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Lb.call(e,i)||!fo(t[i],e[i]))return!1}return!0}function UR(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function BR(t,e){var n=UR(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=UR(n)}}function pF(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pF(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mF(){for(var t=window,e=yx();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yx(t.document)}return e}function yT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tG(t){var e=mF(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pF(n.ownerDocument.documentElement,n)){if(r!==null&&yT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=BR(n,s);var o=BR(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nG=Ta&&"documentMode"in document&&11>=document.documentMode,Pd=null,Jb=null,_p=null,eM=!1;function zR(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;eM||Pd==null||Pd!==yx(r)||(r=Pd,"selectionStart"in r&&yT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_p&&qp(_p,r)||(_p=r,r=Tx(Jb,"onSelect"),0<r.length&&(e=new gT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Pd)))}function M0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Id={animationend:M0("Animation","AnimationEnd"),animationiteration:M0("Animation","AnimationIteration"),animationstart:M0("Animation","AnimationStart"),transitionend:M0("Transition","TransitionEnd")},Uw={},gF={};Ta&&(gF=document.createElement("div").style,"AnimationEvent"in window||(delete Id.animationend.animation,delete Id.animationiteration.animation,delete Id.animationstart.animation),"TransitionEvent"in window||delete Id.transitionend.transition);function i_(t){if(Uw[t])return Uw[t];if(!Id[t])return t;var e=Id[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gF)return Uw[t]=e[n];return t}var vF=i_("animationend"),xF=i_("animationiteration"),yF=i_("animationstart"),_F=i_("transitionend"),wF=new Map,VR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $l(t,e){wF.set(t,e),Ru(e,[t])}for(var Bw=0;Bw<VR.length;Bw++){var zw=VR[Bw],rG=zw.toLowerCase(),iG=zw[0].toUpperCase()+zw.slice(1);$l(rG,"on"+iG)}$l(vF,"onAnimationEnd");$l(xF,"onAnimationIteration");$l(yF,"onAnimationStart");$l("dblclick","onDoubleClick");$l("focusin","onFocus");$l("focusout","onBlur");$l(_F,"onTransitionEnd");xf("onMouseEnter",["mouseout","mouseover"]);xf("onMouseLeave",["mouseout","mouseover"]);xf("onPointerEnter",["pointerout","pointerover"]);xf("onPointerLeave",["pointerout","pointerover"]);Ru("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ru("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ru("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ru("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ru("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ru("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ap="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sG=new Set("cancel close invalid load scroll toggle".split(" ").concat(ap));function HR(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,rj(r,e,void 0,t),t.currentTarget=null}function SF(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;HR(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;HR(i,a,c),s=l}}}if(wx)throw t=qb,wx=!1,qb=null,t}function jn(t,e){var n=e[sM];n===void 0&&(n=e[sM]=new Set);var r=t+"__bubble";n.has(r)||(bF(e,t,2,!1),n.add(r))}function Vw(t,e,n){var r=0;e&&(r|=4),bF(n,t,r,e)}var E0="_reactListening"+Math.random().toString(36).slice(2);function Kp(t){if(!t[E0]){t[E0]=!0,PO.forEach(function(n){n!=="selectionchange"&&(sG.has(n)||Vw(n,!1,t),Vw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[E0]||(e[E0]=!0,Vw("selectionchange",!1,e))}}function bF(t,e,n,r){switch(oF(e)){case 1:var i=yj;break;case 4:i=_j;break;default:i=pT}n=i.bind(null,e,n,t),i=void 0,!Yb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hw(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=kc(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}XO(function(){var c=s,u=uT(n),d=[];e:{var p=wF.get(t);if(p!==void 0){var m=gT,v=t;switch(t){case"keypress":if(Yv(n)===0)break e;case"keydown":case"keyup":m=Oj;break;case"focusin":v="focus",m=Ow;break;case"focusout":v="blur",m=Ow;break;case"beforeblur":case"afterblur":m=Ow;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=PR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=bj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Uj;break;case vF:case xF:case yF:m=Tj;break;case _F:m=zj;break;case"scroll":m=wj;break;case"wheel":m=Hj;break;case"copy":case"cut":case"paste":m=Aj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=NR}var x=(e&4)!==0,y=!x&&t==="scroll",g=x?p!==null?p+"Capture":null:p;x=[];for(var _=c,S;_!==null;){S=_;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,g!==null&&(M=Gp(_,g),M!=null&&x.push(Zp(_,M,S)))),y)break;_=_.return}0<x.length&&(p=new m(p,v,null,n,u),d.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Xb&&(v=n.relatedTarget||n.fromElement)&&(kc(v)||v[Ca]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?kc(v):null,v!==null&&(y=Pu(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(x=PR,M="onMouseLeave",g="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(x=NR,M="onPointerLeave",g="onPointerEnter",_="pointer"),y=m==null?p:Nd(m),S=v==null?p:Nd(v),p=new x(M,_+"leave",m,n,u),p.target=y,p.relatedTarget=S,M=null,kc(u)===c&&(x=new x(g,_+"enter",v,n,u),x.target=S,x.relatedTarget=y,M=x),y=M,m&&v)t:{for(x=m,g=v,_=0,S=x;S;S=Qu(S))_++;for(S=0,M=g;M;M=Qu(M))S++;for(;0<_-S;)x=Qu(x),_--;for(;0<S-_;)g=Qu(g),S--;for(;_--;){if(x===g||g!==null&&x===g.alternate)break t;x=Qu(x),g=Qu(g)}x=null}else x=null;m!==null&&jR(d,p,m,x,!1),v!==null&&y!==null&&jR(d,y,v,x,!0)}}e:{if(p=c?Nd(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var A=qj;else if(OR(p))if(fF)A=Jj;else{A=Zj;var R=Kj}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(A=Qj);if(A&&(A=A(t,c))){dF(d,A,n,u);break e}R&&R(t,p,c),t==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&Vb(p,"number",p.value)}switch(R=c?Nd(c):window,t){case"focusin":(OR(R)||R.contentEditable==="true")&&(Pd=R,Jb=c,_p=null);break;case"focusout":_p=Jb=Pd=null;break;case"mousedown":eM=!0;break;case"contextmenu":case"mouseup":case"dragend":eM=!1,zR(d,n,u);break;case"selectionchange":if(nG)break;case"keydown":case"keyup":zR(d,n,u)}var C;if(xT)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Rd?cF(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(lF&&n.locale!=="ko"&&(Rd||D!=="onCompositionStart"?D==="onCompositionEnd"&&Rd&&(C=aF()):(Sl=u,mT="value"in Sl?Sl.value:Sl.textContent,Rd=!0)),R=Tx(c,D),0<R.length&&(D=new IR(D,t,null,n,u),d.push({event:D,listeners:R}),C?D.data=C:(C=uF(n),C!==null&&(D.data=C)))),(C=Gj?Wj(t,n):Xj(t,n))&&(c=Tx(c,"onBeforeInput"),0<c.length&&(u=new IR("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}SF(d,e)})}function Zp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Tx(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Gp(t,n),s!=null&&r.unshift(Zp(t,s,i)),s=Gp(t,e),s!=null&&r.push(Zp(t,s,i))),t=t.return}return r}function Qu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jR(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Gp(n,s),l!=null&&o.unshift(Zp(n,l,a))):i||(l=Gp(n,s),l!=null&&o.push(Zp(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var oG=/\r\n?/g,aG=/\u0000|\uFFFD/g;function GR(t){return(typeof t=="string"?t:""+t).replace(oG,`
`).replace(aG,"")}function T0(t,e,n){if(e=GR(e),GR(t)!==e&&n)throw Error(it(425))}function Cx(){}var tM=null,nM=null;function rM(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var iM=typeof setTimeout=="function"?setTimeout:void 0,lG=typeof clearTimeout=="function"?clearTimeout:void 0,WR=typeof Promise=="function"?Promise:void 0,cG=typeof queueMicrotask=="function"?queueMicrotask:typeof WR<"u"?function(t){return WR.resolve(null).then(t).catch(uG)}:iM;function uG(t){setTimeout(function(){throw t})}function jw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),$p(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$p(e)}function Il(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function XR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $f=Math.random().toString(36).slice(2),Lo="__reactFiber$"+$f,Qp="__reactProps$"+$f,Ca="__reactContainer$"+$f,sM="__reactEvents$"+$f,dG="__reactListeners$"+$f,fG="__reactHandles$"+$f;function kc(t){var e=t[Lo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ca]||n[Lo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=XR(t);t!==null;){if(n=t[Lo])return n;t=XR(t)}return e}t=n,n=t.parentNode}return null}function $m(t){return t=t[Lo]||t[Ca],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Nd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(it(33))}function s_(t){return t[Qp]||null}var oM=[],Dd=-1;function Yl(t){return{current:t}}function Wn(t){0>Dd||(t.current=oM[Dd],oM[Dd]=null,Dd--)}function Vn(t,e){Dd++,oM[Dd]=t.current,t.current=e}var Ul={},ci=Yl(Ul),ji=Yl(!1),hu=Ul;function yf(t,e){var n=t.type.contextTypes;if(!n)return Ul;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gi(t){return t=t.childContextTypes,t!=null}function Ax(){Wn(ji),Wn(ci)}function $R(t,e,n){if(ci.current!==Ul)throw Error(it(168));Vn(ci,e),Vn(ji,n)}function MF(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(it(108,K9(t)||"Unknown",i));return ir({},n,r)}function Rx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ul,hu=ci.current,Vn(ci,t),Vn(ji,ji.current),!0}function YR(t,e,n){var r=t.stateNode;if(!r)throw Error(it(169));n?(t=MF(t,e,hu),r.__reactInternalMemoizedMergedChildContext=t,Wn(ji),Wn(ci),Vn(ci,t)):Wn(ji),Vn(ji,n)}var ma=null,o_=!1,Gw=!1;function EF(t){ma===null?ma=[t]:ma.push(t)}function hG(t){o_=!0,EF(t)}function ql(){if(!Gw&&ma!==null){Gw=!0;var t=0,e=On;try{var n=ma;for(On=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ma=null,o_=!1}catch(i){throw ma!==null&&(ma=ma.slice(t+1)),KO(dT,ql),i}finally{On=e,Gw=!1}}return null}var Ld=[],Od=0,Px=null,Ix=0,Cs=[],As=0,pu=null,_a=1,wa="";function Pc(t,e){Ld[Od++]=Ix,Ld[Od++]=Px,Px=t,Ix=e}function TF(t,e,n){Cs[As++]=_a,Cs[As++]=wa,Cs[As++]=pu,pu=t;var r=_a;t=wa;var i=32-ao(r)-1;r&=~(1<<i),n+=1;var s=32-ao(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_a=1<<32-ao(e)+i|n<<i|r,wa=s+t}else _a=1<<s|n<<i|r,wa=t}function _T(t){t.return!==null&&(Pc(t,1),TF(t,1,0))}function wT(t){for(;t===Px;)Px=Ld[--Od],Ld[Od]=null,Ix=Ld[--Od],Ld[Od]=null;for(;t===pu;)pu=Cs[--As],Cs[As]=null,wa=Cs[--As],Cs[As]=null,_a=Cs[--As],Cs[As]=null}var ss=null,rs=null,Yn=!1,ro=null;function CF(t,e){var n=Ps(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qR(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ss=t,rs=Il(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ss=t,rs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=pu!==null?{id:_a,overflow:wa}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ps(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ss=t,rs=null,!0):!1;default:return!1}}function aM(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lM(t){if(Yn){var e=rs;if(e){var n=e;if(!qR(t,e)){if(aM(t))throw Error(it(418));e=Il(n.nextSibling);var r=ss;e&&qR(t,e)?CF(r,n):(t.flags=t.flags&-4097|2,Yn=!1,ss=t)}}else{if(aM(t))throw Error(it(418));t.flags=t.flags&-4097|2,Yn=!1,ss=t}}}function KR(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ss=t}function C0(t){if(t!==ss)return!1;if(!Yn)return KR(t),Yn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rM(t.type,t.memoizedProps)),e&&(e=rs)){if(aM(t))throw AF(),Error(it(418));for(;e;)CF(t,e),e=Il(e.nextSibling)}if(KR(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(it(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rs=Il(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rs=null}}else rs=ss?Il(t.stateNode.nextSibling):null;return!0}function AF(){for(var t=rs;t;)t=Il(t.nextSibling)}function _f(){rs=ss=null,Yn=!1}function ST(t){ro===null?ro=[t]:ro.push(t)}var pG=Oa.ReactCurrentBatchConfig;function Ph(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(it(309));var r=n.stateNode}if(!r)throw Error(it(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(it(284));if(!n._owner)throw Error(it(290,t))}return t}function A0(t,e){throw t=Object.prototype.toString.call(e),Error(it(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ZR(t){var e=t._init;return e(t._payload)}function RF(t){function e(g,_){if(t){var S=g.deletions;S===null?(g.deletions=[_],g.flags|=16):S.push(_)}}function n(g,_){if(!t)return null;for(;_!==null;)e(g,_),_=_.sibling;return null}function r(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function i(g,_){return g=Ol(g,_),g.index=0,g.sibling=null,g}function s(g,_,S){return g.index=S,t?(S=g.alternate,S!==null?(S=S.index,S<_?(g.flags|=2,_):S):(g.flags|=2,_)):(g.flags|=1048576,_)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,_,S,M){return _===null||_.tag!==6?(_=Zw(S,g.mode,M),_.return=g,_):(_=i(_,S),_.return=g,_)}function l(g,_,S,M){var A=S.type;return A===Ad?u(g,_,S.props.children,M,S.key):_!==null&&(_.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===al&&ZR(A)===_.type)?(M=i(_,S.props),M.ref=Ph(g,_,S),M.return=g,M):(M=tx(S.type,S.key,S.props,null,g.mode,M),M.ref=Ph(g,_,S),M.return=g,M)}function c(g,_,S,M){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Qw(S,g.mode,M),_.return=g,_):(_=i(_,S.children||[]),_.return=g,_)}function u(g,_,S,M,A){return _===null||_.tag!==7?(_=ou(S,g.mode,M,A),_.return=g,_):(_=i(_,S),_.return=g,_)}function d(g,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Zw(""+_,g.mode,S),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case v0:return S=tx(_.type,_.key,_.props,null,g.mode,S),S.ref=Ph(g,null,_),S.return=g,S;case Cd:return _=Qw(_,g.mode,S),_.return=g,_;case al:var M=_._init;return d(g,M(_._payload),S)}if(sp(_)||Eh(_))return _=ou(_,g.mode,S,null),_.return=g,_;A0(g,_)}return null}function p(g,_,S,M){var A=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return A!==null?null:a(g,_,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case v0:return S.key===A?l(g,_,S,M):null;case Cd:return S.key===A?c(g,_,S,M):null;case al:return A=S._init,p(g,_,A(S._payload),M)}if(sp(S)||Eh(S))return A!==null?null:u(g,_,S,M,null);A0(g,S)}return null}function m(g,_,S,M,A){if(typeof M=="string"&&M!==""||typeof M=="number")return g=g.get(S)||null,a(_,g,""+M,A);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case v0:return g=g.get(M.key===null?S:M.key)||null,l(_,g,M,A);case Cd:return g=g.get(M.key===null?S:M.key)||null,c(_,g,M,A);case al:var R=M._init;return m(g,_,S,R(M._payload),A)}if(sp(M)||Eh(M))return g=g.get(S)||null,u(_,g,M,A,null);A0(_,M)}return null}function v(g,_,S,M){for(var A=null,R=null,C=_,D=_=0,N=null;C!==null&&D<S.length;D++){C.index>D?(N=C,C=null):N=C.sibling;var I=p(g,C,S[D],M);if(I===null){C===null&&(C=N);break}t&&C&&I.alternate===null&&e(g,C),_=s(I,_,D),R===null?A=I:R.sibling=I,R=I,C=N}if(D===S.length)return n(g,C),Yn&&Pc(g,D),A;if(C===null){for(;D<S.length;D++)C=d(g,S[D],M),C!==null&&(_=s(C,_,D),R===null?A=C:R.sibling=C,R=C);return Yn&&Pc(g,D),A}for(C=r(g,C);D<S.length;D++)N=m(C,g,D,S[D],M),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?D:N.key),_=s(N,_,D),R===null?A=N:R.sibling=N,R=N);return t&&C.forEach(function(F){return e(g,F)}),Yn&&Pc(g,D),A}function x(g,_,S,M){var A=Eh(S);if(typeof A!="function")throw Error(it(150));if(S=A.call(S),S==null)throw Error(it(151));for(var R=A=null,C=_,D=_=0,N=null,I=S.next();C!==null&&!I.done;D++,I=S.next()){C.index>D?(N=C,C=null):N=C.sibling;var F=p(g,C,I.value,M);if(F===null){C===null&&(C=N);break}t&&C&&F.alternate===null&&e(g,C),_=s(F,_,D),R===null?A=F:R.sibling=F,R=F,C=N}if(I.done)return n(g,C),Yn&&Pc(g,D),A;if(C===null){for(;!I.done;D++,I=S.next())I=d(g,I.value,M),I!==null&&(_=s(I,_,D),R===null?A=I:R.sibling=I,R=I);return Yn&&Pc(g,D),A}for(C=r(g,C);!I.done;D++,I=S.next())I=m(C,g,D,I.value,M),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?D:I.key),_=s(I,_,D),R===null?A=I:R.sibling=I,R=I);return t&&C.forEach(function(V){return e(g,V)}),Yn&&Pc(g,D),A}function y(g,_,S,M){if(typeof S=="object"&&S!==null&&S.type===Ad&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case v0:e:{for(var A=S.key,R=_;R!==null;){if(R.key===A){if(A=S.type,A===Ad){if(R.tag===7){n(g,R.sibling),_=i(R,S.props.children),_.return=g,g=_;break e}}else if(R.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===al&&ZR(A)===R.type){n(g,R.sibling),_=i(R,S.props),_.ref=Ph(g,R,S),_.return=g,g=_;break e}n(g,R);break}else e(g,R);R=R.sibling}S.type===Ad?(_=ou(S.props.children,g.mode,M,S.key),_.return=g,g=_):(M=tx(S.type,S.key,S.props,null,g.mode,M),M.ref=Ph(g,_,S),M.return=g,g=M)}return o(g);case Cd:e:{for(R=S.key;_!==null;){if(_.key===R)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(g,_.sibling),_=i(_,S.children||[]),_.return=g,g=_;break e}else{n(g,_);break}else e(g,_);_=_.sibling}_=Qw(S,g.mode,M),_.return=g,g=_}return o(g);case al:return R=S._init,y(g,_,R(S._payload),M)}if(sp(S))return v(g,_,S,M);if(Eh(S))return x(g,_,S,M);A0(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(g,_.sibling),_=i(_,S),_.return=g,g=_):(n(g,_),_=Zw(S,g.mode,M),_.return=g,g=_),o(g)):n(g,_)}return y}var wf=RF(!0),PF=RF(!1),Nx=Yl(null),Dx=null,Fd=null,bT=null;function MT(){bT=Fd=Dx=null}function ET(t){var e=Nx.current;Wn(Nx),t._currentValue=e}function cM(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zd(t,e){Dx=t,bT=Fd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vi=!0),t.firstContext=null)}function Fs(t){var e=t._currentValue;if(bT!==t)if(t={context:t,memoizedValue:e,next:null},Fd===null){if(Dx===null)throw Error(it(308));Fd=t,Dx.dependencies={lanes:0,firstContext:t}}else Fd=Fd.next=t;return e}var Uc=null;function TT(t){Uc===null?Uc=[t]:Uc.push(t)}function IF(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,TT(e)):(n.next=i.next,i.next=n),e.interleaved=n,Aa(t,r)}function Aa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ll=!1;function CT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NF(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,bn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Aa(t,n)}return i=r.interleaved,i===null?(e.next=e,TT(r)):(e.next=i.next,i.next=e),r.interleaved=e,Aa(t,n)}function qv(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fT(t,n)}}function QR(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lx(t,e,n,r){var i=t.updateQueue;ll=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,x=a;switch(p=e,m=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){d=v.call(m,d,p);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,p=typeof v=="function"?v.call(m,d,p):v,p==null)break e;d=ir({},d,p);break e;case 2:ll=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);gu|=o,t.lanes=o,t.memoizedState=d}}function JR(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(it(191,i));i.call(r)}}}var Ym={},zo=Yl(Ym),Jp=Yl(Ym),em=Yl(Ym);function Bc(t){if(t===Ym)throw Error(it(174));return t}function AT(t,e){switch(Vn(em,e),Vn(Jp,t),Vn(zo,Ym),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jb(e,t)}Wn(zo),Vn(zo,e)}function Sf(){Wn(zo),Wn(Jp),Wn(em)}function DF(t){Bc(em.current);var e=Bc(zo.current),n=jb(e,t.type);e!==n&&(Vn(Jp,t),Vn(zo,n))}function RT(t){Jp.current===t&&(Wn(zo),Wn(Jp))}var Qn=Yl(0);function Ox(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ww=[];function PT(){for(var t=0;t<Ww.length;t++)Ww[t]._workInProgressVersionPrimary=null;Ww.length=0}var Kv=Oa.ReactCurrentDispatcher,Xw=Oa.ReactCurrentBatchConfig,mu=0,rr=null,Rr=null,Br=null,Fx=!1,wp=!1,tm=0,mG=0;function ti(){throw Error(it(321))}function IT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fo(t[n],e[n]))return!1;return!0}function NT(t,e,n,r,i,s){if(mu=s,rr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kv.current=t===null||t.memoizedState===null?yG:_G,t=n(r,i),wp){s=0;do{if(wp=!1,tm=0,25<=s)throw Error(it(301));s+=1,Br=Rr=null,e.updateQueue=null,Kv.current=wG,t=n(r,i)}while(wp)}if(Kv.current=kx,e=Rr!==null&&Rr.next!==null,mu=0,Br=Rr=rr=null,Fx=!1,e)throw Error(it(300));return t}function DT(){var t=tm!==0;return tm=0,t}function Po(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?rr.memoizedState=Br=t:Br=Br.next=t,Br}function ks(){if(Rr===null){var t=rr.alternate;t=t!==null?t.memoizedState:null}else t=Rr.next;var e=Br===null?rr.memoizedState:Br.next;if(e!==null)Br=e,Rr=t;else{if(t===null)throw Error(it(310));Rr=t,t={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Br===null?rr.memoizedState=Br=t:Br=Br.next=t}return Br}function nm(t,e){return typeof e=="function"?e(t):e}function $w(t){var e=ks(),n=e.queue;if(n===null)throw Error(it(311));n.lastRenderedReducer=t;var r=Rr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((mu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,rr.lanes|=u,gu|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,fo(r,e.memoizedState)||(Vi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,rr.lanes|=s,gu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yw(t){var e=ks(),n=e.queue;if(n===null)throw Error(it(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);fo(s,e.memoizedState)||(Vi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function LF(){}function OF(t,e){var n=rr,r=ks(),i=e(),s=!fo(r.memoizedState,i);if(s&&(r.memoizedState=i,Vi=!0),r=r.queue,LT(UF.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Br!==null&&Br.memoizedState.tag&1){if(n.flags|=2048,rm(9,kF.bind(null,n,r,i,e),void 0,null),Vr===null)throw Error(it(349));mu&30||FF(n,e,i)}return i}function FF(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rr.updateQueue,e===null?(e={lastEffect:null,stores:null},rr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kF(t,e,n,r){e.value=n,e.getSnapshot=r,BF(e)&&zF(t)}function UF(t,e,n){return n(function(){BF(e)&&zF(t)})}function BF(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fo(t,n)}catch{return!0}}function zF(t){var e=Aa(t,1);e!==null&&lo(e,t,1,-1)}function eP(t){var e=Po();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nm,lastRenderedState:t},e.queue=t,t=t.dispatch=xG.bind(null,rr,t),[e.memoizedState,t]}function rm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rr.updateQueue,e===null?(e={lastEffect:null,stores:null},rr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function VF(){return ks().memoizedState}function Zv(t,e,n,r){var i=Po();rr.flags|=t,i.memoizedState=rm(1|e,n,void 0,r===void 0?null:r)}function a_(t,e,n,r){var i=ks();r=r===void 0?null:r;var s=void 0;if(Rr!==null){var o=Rr.memoizedState;if(s=o.destroy,r!==null&&IT(r,o.deps)){i.memoizedState=rm(e,n,s,r);return}}rr.flags|=t,i.memoizedState=rm(1|e,n,s,r)}function tP(t,e){return Zv(8390656,8,t,e)}function LT(t,e){return a_(2048,8,t,e)}function HF(t,e){return a_(4,2,t,e)}function jF(t,e){return a_(4,4,t,e)}function GF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WF(t,e,n){return n=n!=null?n.concat([t]):null,a_(4,4,GF.bind(null,e,t),n)}function OT(){}function XF(t,e){var n=ks();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&IT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $F(t,e){var n=ks();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&IT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function YF(t,e,n){return mu&21?(fo(n,e)||(n=JO(),rr.lanes|=n,gu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vi=!0),t.memoizedState=n)}function gG(t,e){var n=On;On=n!==0&&4>n?n:4,t(!0);var r=Xw.transition;Xw.transition={};try{t(!1),e()}finally{On=n,Xw.transition=r}}function qF(){return ks().memoizedState}function vG(t,e,n){var r=Ll(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},KF(t))ZF(e,n);else if(n=IF(t,e,n,r),n!==null){var i=_i();lo(n,t,r,i),QF(n,e,r)}}function xG(t,e,n){var r=Ll(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(KF(t))ZF(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,fo(a,o)){var l=e.interleaved;l===null?(i.next=i,TT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=IF(t,e,i,r),n!==null&&(i=_i(),lo(n,t,r,i),QF(n,e,r))}}function KF(t){var e=t.alternate;return t===rr||e!==null&&e===rr}function ZF(t,e){wp=Fx=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function QF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fT(t,n)}}var kx={readContext:Fs,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useInsertionEffect:ti,useLayoutEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useMutableSource:ti,useSyncExternalStore:ti,useId:ti,unstable_isNewReconciler:!1},yG={readContext:Fs,useCallback:function(t,e){return Po().memoizedState=[t,e===void 0?null:e],t},useContext:Fs,useEffect:tP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zv(4194308,4,GF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zv(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zv(4,2,t,e)},useMemo:function(t,e){var n=Po();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Po();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=vG.bind(null,rr,t),[r.memoizedState,t]},useRef:function(t){var e=Po();return t={current:t},e.memoizedState=t},useState:eP,useDebugValue:OT,useDeferredValue:function(t){return Po().memoizedState=t},useTransition:function(){var t=eP(!1),e=t[0];return t=gG.bind(null,t[1]),Po().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rr,i=Po();if(Yn){if(n===void 0)throw Error(it(407));n=n()}else{if(n=e(),Vr===null)throw Error(it(349));mu&30||FF(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,tP(UF.bind(null,r,s,t),[t]),r.flags|=2048,rm(9,kF.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Po(),e=Vr.identifierPrefix;if(Yn){var n=wa,r=_a;n=(r&~(1<<32-ao(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=tm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mG++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_G={readContext:Fs,useCallback:XF,useContext:Fs,useEffect:LT,useImperativeHandle:WF,useInsertionEffect:HF,useLayoutEffect:jF,useMemo:$F,useReducer:$w,useRef:VF,useState:function(){return $w(nm)},useDebugValue:OT,useDeferredValue:function(t){var e=ks();return YF(e,Rr.memoizedState,t)},useTransition:function(){var t=$w(nm)[0],e=ks().memoizedState;return[t,e]},useMutableSource:LF,useSyncExternalStore:OF,useId:qF,unstable_isNewReconciler:!1},wG={readContext:Fs,useCallback:XF,useContext:Fs,useEffect:LT,useImperativeHandle:WF,useInsertionEffect:HF,useLayoutEffect:jF,useMemo:$F,useReducer:Yw,useRef:VF,useState:function(){return Yw(nm)},useDebugValue:OT,useDeferredValue:function(t){var e=ks();return Rr===null?e.memoizedState=t:YF(e,Rr.memoizedState,t)},useTransition:function(){var t=Yw(nm)[0],e=ks().memoizedState;return[t,e]},useMutableSource:LF,useSyncExternalStore:OF,useId:qF,unstable_isNewReconciler:!1};function Zs(t,e){if(t&&t.defaultProps){e=ir({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function uM(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ir({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var l_={isMounted:function(t){return(t=t._reactInternals)?Pu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_i(),i=Ll(t),s=Sa(r,i);s.payload=e,n!=null&&(s.callback=n),e=Nl(t,s,i),e!==null&&(lo(e,t,i,r),qv(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_i(),i=Ll(t),s=Sa(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Nl(t,s,i),e!==null&&(lo(e,t,i,r),qv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_i(),r=Ll(t),i=Sa(n,r);i.tag=2,e!=null&&(i.callback=e),e=Nl(t,i,r),e!==null&&(lo(e,t,r,n),qv(e,t,r))}};function nP(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!qp(n,r)||!qp(i,s):!0}function JF(t,e,n){var r=!1,i=Ul,s=e.contextType;return typeof s=="object"&&s!==null?s=Fs(s):(i=Gi(e)?hu:ci.current,r=e.contextTypes,s=(r=r!=null)?yf(t,i):Ul),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=l_,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function rP(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&l_.enqueueReplaceState(e,e.state,null)}function dM(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},CT(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Fs(s):(s=Gi(e)?hu:ci.current,i.context=yf(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(uM(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&l_.enqueueReplaceState(i,i.state,null),Lx(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function bf(t,e){try{var n="",r=e;do n+=q9(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function qw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fM(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var SG=typeof WeakMap=="function"?WeakMap:Map;function ek(t,e,n){n=Sa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bx||(Bx=!0,SM=r),fM(t,e)},n}function tk(t,e,n){n=Sa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fM(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){fM(t,e),typeof r!="function"&&(Dl===null?Dl=new Set([this]):Dl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function iP(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new SG;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=FG.bind(null,t,e,n),e.then(t,t))}function sP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function oP(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sa(-1,1),e.tag=2,Nl(n,e,1))),n.lanes|=1),t)}var bG=Oa.ReactCurrentOwner,Vi=!1;function gi(t,e,n,r){e.child=t===null?PF(e,null,n,r):wf(e,t.child,n,r)}function aP(t,e,n,r,i){n=n.render;var s=e.ref;return Zd(e,i),r=NT(t,e,n,r,s,i),n=DT(),t!==null&&!Vi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ra(t,e,i)):(Yn&&n&&_T(e),e.flags|=1,gi(t,e,r,i),e.child)}function lP(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!jT(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,nk(t,e,s,r,i)):(t=tx(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:qp,n(o,r)&&t.ref===e.ref)return Ra(t,e,i)}return e.flags|=1,t=Ol(s,r),t.ref=e.ref,t.return=e,e.child=t}function nk(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(qp(s,r)&&t.ref===e.ref)if(Vi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Vi=!0);else return e.lanes=t.lanes,Ra(t,e,i)}return hM(t,e,n,r,i)}function rk(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vn(Ud,es),es|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Vn(Ud,es),es|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Vn(Ud,es),es|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Vn(Ud,es),es|=r;return gi(t,e,i,n),e.child}function ik(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hM(t,e,n,r,i){var s=Gi(n)?hu:ci.current;return s=yf(e,s),Zd(e,i),n=NT(t,e,n,r,s,i),r=DT(),t!==null&&!Vi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ra(t,e,i)):(Yn&&r&&_T(e),e.flags|=1,gi(t,e,n,i),e.child)}function cP(t,e,n,r,i){if(Gi(n)){var s=!0;Rx(e)}else s=!1;if(Zd(e,i),e.stateNode===null)Qv(t,e),JF(e,n,r),dM(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Fs(c):(c=Gi(n)?hu:ci.current,c=yf(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&rP(e,o,r,c),ll=!1;var p=e.memoizedState;o.state=p,Lx(e,r,o,i),l=e.memoizedState,a!==r||p!==l||ji.current||ll?(typeof u=="function"&&(uM(e,n,u,r),l=e.memoizedState),(a=ll||nP(e,n,a,r,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,NF(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Zs(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fs(l):(l=Gi(n)?hu:ci.current,l=yf(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&rP(e,o,r,l),ll=!1,p=e.memoizedState,o.state=p,Lx(e,r,o,i);var v=e.memoizedState;a!==d||p!==v||ji.current||ll?(typeof m=="function"&&(uM(e,n,m,r),v=e.memoizedState),(c=ll||nP(e,n,c,r,p,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return pM(t,e,n,r,s,i)}function pM(t,e,n,r,i,s){ik(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&YR(e,n,!1),Ra(t,e,s);r=e.stateNode,bG.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wf(e,t.child,null,s),e.child=wf(e,null,a,s)):gi(t,e,a,s),e.memoizedState=r.state,i&&YR(e,n,!0),e.child}function sk(t){var e=t.stateNode;e.pendingContext?$R(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$R(t,e.context,!1),AT(t,e.containerInfo)}function uP(t,e,n,r,i){return _f(),ST(i),e.flags|=256,gi(t,e,n,r),e.child}var mM={dehydrated:null,treeContext:null,retryLane:0};function gM(t){return{baseLanes:t,cachePool:null,transitions:null}}function ok(t,e,n){var r=e.pendingProps,i=Qn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Vn(Qn,i&1),t===null)return lM(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=d_(o,r,0,null),t=ou(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=gM(n),e.memoizedState=mM,t):FT(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return MG(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ol(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ol(a,s):(s=ou(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?gM(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=mM,r}return s=t.child,t=s.sibling,r=Ol(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function FT(t,e){return e=d_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function R0(t,e,n,r){return r!==null&&ST(r),wf(e,t.child,null,n),t=FT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MG(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=qw(Error(it(422))),R0(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=d_({mode:"visible",children:r.children},i,0,null),s=ou(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&wf(e,t.child,null,o),e.child.memoizedState=gM(o),e.memoizedState=mM,s);if(!(e.mode&1))return R0(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(it(419)),r=qw(s,r,void 0),R0(t,e,o,r)}if(a=(o&t.childLanes)!==0,Vi||a){if(r=Vr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Aa(t,i),lo(r,t,i,-1))}return HT(),r=qw(Error(it(421))),R0(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=kG.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,rs=Il(i.nextSibling),ss=e,Yn=!0,ro=null,t!==null&&(Cs[As++]=_a,Cs[As++]=wa,Cs[As++]=pu,_a=t.id,wa=t.overflow,pu=e),e=FT(e,r.children),e.flags|=4096,e)}function dP(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cM(t.return,e,n)}function Kw(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ak(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(gi(t,e,r.children,n),r=Qn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dP(t,n,e);else if(t.tag===19)dP(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Vn(Qn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ox(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Kw(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ox(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Kw(e,!0,n,null,s);break;case"together":Kw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ra(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(it(153));if(e.child!==null){for(t=e.child,n=Ol(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ol(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function EG(t,e,n){switch(e.tag){case 3:sk(e),_f();break;case 5:DF(e);break;case 1:Gi(e.type)&&Rx(e);break;case 4:AT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Vn(Nx,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Vn(Qn,Qn.current&1),e.flags|=128,null):n&e.child.childLanes?ok(t,e,n):(Vn(Qn,Qn.current&1),t=Ra(t,e,n),t!==null?t.sibling:null);Vn(Qn,Qn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ak(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Vn(Qn,Qn.current),r)break;return null;case 22:case 23:return e.lanes=0,rk(t,e,n)}return Ra(t,e,n)}var lk,vM,ck,uk;lk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vM=function(){};ck=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Bc(zo.current);var s=null;switch(n){case"input":i=Bb(t,i),r=Bb(t,r),s=[];break;case"select":i=ir({},i,{value:void 0}),r=ir({},r,{value:void 0}),s=[];break;case"textarea":i=Hb(t,i),r=Hb(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cx)}Gb(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hp.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&jn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};uk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ih(t,e){if(!Yn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ni(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TG(t,e,n){var r=e.pendingProps;switch(wT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ni(e),null;case 1:return Gi(e.type)&&Ax(),ni(e),null;case 3:return r=e.stateNode,Sf(),Wn(ji),Wn(ci),PT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(C0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ro!==null&&(EM(ro),ro=null))),vM(t,e),ni(e),null;case 5:RT(e);var i=Bc(em.current);if(n=e.type,t!==null&&e.stateNode!=null)ck(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(it(166));return ni(e),null}if(t=Bc(zo.current),C0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Lo]=e,r[Qp]=s,t=(e.mode&1)!==0,n){case"dialog":jn("cancel",r),jn("close",r);break;case"iframe":case"object":case"embed":jn("load",r);break;case"video":case"audio":for(i=0;i<ap.length;i++)jn(ap[i],r);break;case"source":jn("error",r);break;case"img":case"image":case"link":jn("error",r),jn("load",r);break;case"details":jn("toggle",r);break;case"input":_R(r,s),jn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},jn("invalid",r);break;case"textarea":SR(r,s),jn("invalid",r)}Gb(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&T0(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&T0(r.textContent,a,t),i=["children",""+a]):Hp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&jn("scroll",r)}switch(n){case"input":x0(r),wR(r,s,!0);break;case"textarea":x0(r),bR(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cx)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=UO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Lo]=e,t[Qp]=r,lk(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wb(n,r),n){case"dialog":jn("cancel",t),jn("close",t),i=r;break;case"iframe":case"object":case"embed":jn("load",t),i=r;break;case"video":case"audio":for(i=0;i<ap.length;i++)jn(ap[i],t);i=r;break;case"source":jn("error",t),i=r;break;case"img":case"image":case"link":jn("error",t),jn("load",t),i=r;break;case"details":jn("toggle",t),i=r;break;case"input":_R(t,r),i=Bb(t,r),jn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ir({},r,{value:void 0}),jn("invalid",t);break;case"textarea":SR(t,r),i=Hb(t,r),jn("invalid",t);break;default:i=r}Gb(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?VO(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&BO(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&jp(t,l):typeof l=="number"&&jp(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Hp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&jn("scroll",t):l!=null&&oT(t,s,l,o))}switch(n){case"input":x0(t),wR(t,r,!1);break;case"textarea":x0(t),bR(t);break;case"option":r.value!=null&&t.setAttribute("value",""+kl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?$d(t,!!r.multiple,s,!1):r.defaultValue!=null&&$d(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cx)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ni(e),null;case 6:if(t&&e.stateNode!=null)uk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(it(166));if(n=Bc(em.current),Bc(zo.current),C0(e)){if(r=e.stateNode,n=e.memoizedProps,r[Lo]=e,(s=r.nodeValue!==n)&&(t=ss,t!==null))switch(t.tag){case 3:T0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&T0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Lo]=e,e.stateNode=r}return ni(e),null;case 13:if(Wn(Qn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Yn&&rs!==null&&e.mode&1&&!(e.flags&128))AF(),_f(),e.flags|=98560,s=!1;else if(s=C0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(it(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(it(317));s[Lo]=e}else _f(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ni(e),s=!1}else ro!==null&&(EM(ro),ro=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qn.current&1?Pr===0&&(Pr=3):HT())),e.updateQueue!==null&&(e.flags|=4),ni(e),null);case 4:return Sf(),vM(t,e),t===null&&Kp(e.stateNode.containerInfo),ni(e),null;case 10:return ET(e.type._context),ni(e),null;case 17:return Gi(e.type)&&Ax(),ni(e),null;case 19:if(Wn(Qn),s=e.memoizedState,s===null)return ni(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ih(s,!1);else{if(Pr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ox(t),o!==null){for(e.flags|=128,Ih(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Vn(Qn,Qn.current&1|2),e.child}t=t.sibling}s.tail!==null&&gr()>Mf&&(e.flags|=128,r=!0,Ih(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ox(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ih(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Yn)return ni(e),null}else 2*gr()-s.renderingStartTime>Mf&&n!==1073741824&&(e.flags|=128,r=!0,Ih(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gr(),e.sibling=null,n=Qn.current,Vn(Qn,r?n&1|2:n&1),e):(ni(e),null);case 22:case 23:return VT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?es&1073741824&&(ni(e),e.subtreeFlags&6&&(e.flags|=8192)):ni(e),null;case 24:return null;case 25:return null}throw Error(it(156,e.tag))}function CG(t,e){switch(wT(e),e.tag){case 1:return Gi(e.type)&&Ax(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sf(),Wn(ji),Wn(ci),PT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return RT(e),null;case 13:if(Wn(Qn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(it(340));_f()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Wn(Qn),null;case 4:return Sf(),null;case 10:return ET(e.type._context),null;case 22:case 23:return VT(),null;case 24:return null;default:return null}}var P0=!1,oi=!1,AG=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function kd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fr(t,e,r)}else n.current=null}function xM(t,e,n){try{n()}catch(r){fr(t,e,r)}}var fP=!1;function RG(t,e){if(tM=Mx,t=mF(),yT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,p=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(nM={focusedElem:t,selectionRange:n},Mx=!1,Dt=e;Dt!==null;)if(e=Dt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Dt=t;else for(;Dt!==null;){e=Dt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,y=v.memoizedState,g=e.stateNode,_=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:Zs(e.type,x),y);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(it(163))}}catch(M){fr(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,Dt=t;break}Dt=e.return}return v=fP,fP=!1,v}function Sp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&xM(e,n,s)}i=i.next}while(i!==r)}}function c_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yM(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dk(t){var e=t.alternate;e!==null&&(t.alternate=null,dk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Lo],delete e[Qp],delete e[sM],delete e[dG],delete e[fG])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fk(t){return t.tag===5||t.tag===3||t.tag===4}function hP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _M(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cx));else if(r!==4&&(t=t.child,t!==null))for(_M(t,e,n),t=t.sibling;t!==null;)_M(t,e,n),t=t.sibling}function wM(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wM(t,e,n),t=t.sibling;t!==null;)wM(t,e,n),t=t.sibling}var jr=null,to=!1;function Xa(t,e,n){for(n=n.child;n!==null;)hk(t,e,n),n=n.sibling}function hk(t,e,n){if(Bo&&typeof Bo.onCommitFiberUnmount=="function")try{Bo.onCommitFiberUnmount(t_,n)}catch{}switch(n.tag){case 5:oi||kd(n,e);case 6:var r=jr,i=to;jr=null,Xa(t,e,n),jr=r,to=i,jr!==null&&(to?(t=jr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jr.removeChild(n.stateNode));break;case 18:jr!==null&&(to?(t=jr,n=n.stateNode,t.nodeType===8?jw(t.parentNode,n):t.nodeType===1&&jw(t,n),$p(t)):jw(jr,n.stateNode));break;case 4:r=jr,i=to,jr=n.stateNode.containerInfo,to=!0,Xa(t,e,n),jr=r,to=i;break;case 0:case 11:case 14:case 15:if(!oi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&xM(n,e,o),i=i.next}while(i!==r)}Xa(t,e,n);break;case 1:if(!oi&&(kd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){fr(n,e,a)}Xa(t,e,n);break;case 21:Xa(t,e,n);break;case 22:n.mode&1?(oi=(r=oi)||n.memoizedState!==null,Xa(t,e,n),oi=r):Xa(t,e,n);break;default:Xa(t,e,n)}}function pP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new AG),e.forEach(function(r){var i=UG.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function js(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:jr=a.stateNode,to=!1;break e;case 3:jr=a.stateNode.containerInfo,to=!0;break e;case 4:jr=a.stateNode.containerInfo,to=!0;break e}a=a.return}if(jr===null)throw Error(it(160));hk(s,o,i),jr=null,to=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){fr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pk(e,t),e=e.sibling}function pk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(js(e,t),To(t),r&4){try{Sp(3,t,t.return),c_(3,t)}catch(x){fr(t,t.return,x)}try{Sp(5,t,t.return)}catch(x){fr(t,t.return,x)}}break;case 1:js(e,t),To(t),r&512&&n!==null&&kd(n,n.return);break;case 5:if(js(e,t),To(t),r&512&&n!==null&&kd(n,n.return),t.flags&32){var i=t.stateNode;try{jp(i,"")}catch(x){fr(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&FO(i,s),Wb(a,o);var c=Wb(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?VO(i,d):u==="dangerouslySetInnerHTML"?BO(i,d):u==="children"?jp(i,d):oT(i,u,d,c)}switch(a){case"input":zb(i,s);break;case"textarea":kO(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?$d(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?$d(i,!!s.multiple,s.defaultValue,!0):$d(i,!!s.multiple,s.multiple?[]:"",!1))}i[Qp]=s}catch(x){fr(t,t.return,x)}}break;case 6:if(js(e,t),To(t),r&4){if(t.stateNode===null)throw Error(it(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){fr(t,t.return,x)}}break;case 3:if(js(e,t),To(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$p(e.containerInfo)}catch(x){fr(t,t.return,x)}break;case 4:js(e,t),To(t);break;case 13:js(e,t),To(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(BT=gr())),r&4&&pP(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(oi=(c=oi)||u,js(e,t),oi=c):js(e,t),To(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Dt=t,u=t.child;u!==null;){for(d=Dt=u;Dt!==null;){switch(p=Dt,m=p.child,p.tag){case 0:case 11:case 14:case 15:Sp(4,p,p.return);break;case 1:kd(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){fr(r,n,x)}}break;case 5:kd(p,p.return);break;case 22:if(p.memoizedState!==null){gP(d);continue}}m!==null?(m.return=p,Dt=m):gP(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zO("display",o))}catch(x){fr(t,t.return,x)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){fr(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:js(e,t),To(t),r&4&&pP(t);break;case 21:break;default:js(e,t),To(t)}}function To(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fk(n)){var r=n;break e}n=n.return}throw Error(it(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(jp(i,""),r.flags&=-33);var s=hP(t);wM(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=hP(t);_M(t,a,o);break;default:throw Error(it(161))}}catch(l){fr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PG(t,e,n){Dt=t,mk(t)}function mk(t,e,n){for(var r=(t.mode&1)!==0;Dt!==null;){var i=Dt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||P0;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||oi;a=P0;var c=oi;if(P0=o,(oi=l)&&!c)for(Dt=i;Dt!==null;)o=Dt,l=o.child,o.tag===22&&o.memoizedState!==null?vP(i):l!==null?(l.return=o,Dt=l):vP(i);for(;s!==null;)Dt=s,mk(s),s=s.sibling;Dt=i,P0=a,oi=c}mP(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Dt=s):mP(t)}}function mP(t){for(;Dt!==null;){var e=Dt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:oi||c_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!oi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Zs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&JR(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}JR(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&$p(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(it(163))}oi||e.flags&512&&yM(e)}catch(p){fr(e,e.return,p)}}if(e===t){Dt=null;break}if(n=e.sibling,n!==null){n.return=e.return,Dt=n;break}Dt=e.return}}function gP(t){for(;Dt!==null;){var e=Dt;if(e===t){Dt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Dt=n;break}Dt=e.return}}function vP(t){for(;Dt!==null;){var e=Dt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{c_(4,e)}catch(l){fr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){fr(e,i,l)}}var s=e.return;try{yM(e)}catch(l){fr(e,s,l)}break;case 5:var o=e.return;try{yM(e)}catch(l){fr(e,o,l)}}}catch(l){fr(e,e.return,l)}if(e===t){Dt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Dt=a;break}Dt=e.return}}var IG=Math.ceil,Ux=Oa.ReactCurrentDispatcher,kT=Oa.ReactCurrentOwner,Ns=Oa.ReactCurrentBatchConfig,bn=0,Vr=null,Er=null,Xr=0,es=0,Ud=Yl(0),Pr=0,im=null,gu=0,u_=0,UT=0,bp=null,Bi=null,BT=0,Mf=1/0,pa=null,Bx=!1,SM=null,Dl=null,I0=!1,bl=null,zx=0,Mp=0,bM=null,Jv=-1,ex=0;function _i(){return bn&6?gr():Jv!==-1?Jv:Jv=gr()}function Ll(t){return t.mode&1?bn&2&&Xr!==0?Xr&-Xr:pG.transition!==null?(ex===0&&(ex=JO()),ex):(t=On,t!==0||(t=window.event,t=t===void 0?16:oF(t.type)),t):1}function lo(t,e,n,r){if(50<Mp)throw Mp=0,bM=null,Error(it(185));Wm(t,n,r),(!(bn&2)||t!==Vr)&&(t===Vr&&(!(bn&2)&&(u_|=n),Pr===4&&fl(t,Xr)),Wi(t,r),n===1&&bn===0&&!(e.mode&1)&&(Mf=gr()+500,o_&&ql()))}function Wi(t,e){var n=t.callbackNode;pj(t,e);var r=bx(t,t===Vr?Xr:0);if(r===0)n!==null&&TR(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&TR(n),e===1)t.tag===0?hG(xP.bind(null,t)):EF(xP.bind(null,t)),cG(function(){!(bn&6)&&ql()}),n=null;else{switch(eF(r)){case 1:n=dT;break;case 4:n=ZO;break;case 16:n=Sx;break;case 536870912:n=QO;break;default:n=Sx}n=bk(n,gk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gk(t,e){if(Jv=-1,ex=0,bn&6)throw Error(it(327));var n=t.callbackNode;if(Qd()&&t.callbackNode!==n)return null;var r=bx(t,t===Vr?Xr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vx(t,r);else{e=r;var i=bn;bn|=2;var s=xk();(Vr!==t||Xr!==e)&&(pa=null,Mf=gr()+500,su(t,e));do try{LG();break}catch(a){vk(t,a)}while(!0);MT(),Ux.current=s,bn=i,Er!==null?e=0:(Vr=null,Xr=0,e=Pr)}if(e!==0){if(e===2&&(i=Kb(t),i!==0&&(r=i,e=MM(t,i))),e===1)throw n=im,su(t,0),fl(t,r),Wi(t,gr()),n;if(e===6)fl(t,r);else{if(i=t.current.alternate,!(r&30)&&!NG(i)&&(e=Vx(t,r),e===2&&(s=Kb(t),s!==0&&(r=s,e=MM(t,s))),e===1))throw n=im,su(t,0),fl(t,r),Wi(t,gr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(it(345));case 2:Ic(t,Bi,pa);break;case 3:if(fl(t,r),(r&130023424)===r&&(e=BT+500-gr(),10<e)){if(bx(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_i(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=iM(Ic.bind(null,t,Bi,pa),e);break}Ic(t,Bi,pa);break;case 4:if(fl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ao(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=gr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*IG(r/1960))-r,10<r){t.timeoutHandle=iM(Ic.bind(null,t,Bi,pa),r);break}Ic(t,Bi,pa);break;case 5:Ic(t,Bi,pa);break;default:throw Error(it(329))}}}return Wi(t,gr()),t.callbackNode===n?gk.bind(null,t):null}function MM(t,e){var n=bp;return t.current.memoizedState.isDehydrated&&(su(t,e).flags|=256),t=Vx(t,e),t!==2&&(e=Bi,Bi=n,e!==null&&EM(e)),t}function EM(t){Bi===null?Bi=t:Bi.push.apply(Bi,t)}function NG(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!fo(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fl(t,e){for(e&=~UT,e&=~u_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ao(e),r=1<<n;t[n]=-1,e&=~r}}function xP(t){if(bn&6)throw Error(it(327));Qd();var e=bx(t,0);if(!(e&1))return Wi(t,gr()),null;var n=Vx(t,e);if(t.tag!==0&&n===2){var r=Kb(t);r!==0&&(e=r,n=MM(t,r))}if(n===1)throw n=im,su(t,0),fl(t,e),Wi(t,gr()),n;if(n===6)throw Error(it(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ic(t,Bi,pa),Wi(t,gr()),null}function zT(t,e){var n=bn;bn|=1;try{return t(e)}finally{bn=n,bn===0&&(Mf=gr()+500,o_&&ql())}}function vu(t){bl!==null&&bl.tag===0&&!(bn&6)&&Qd();var e=bn;bn|=1;var n=Ns.transition,r=On;try{if(Ns.transition=null,On=1,t)return t()}finally{On=r,Ns.transition=n,bn=e,!(bn&6)&&ql()}}function VT(){es=Ud.current,Wn(Ud)}function su(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lG(n)),Er!==null)for(n=Er.return;n!==null;){var r=n;switch(wT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ax();break;case 3:Sf(),Wn(ji),Wn(ci),PT();break;case 5:RT(r);break;case 4:Sf();break;case 13:Wn(Qn);break;case 19:Wn(Qn);break;case 10:ET(r.type._context);break;case 22:case 23:VT()}n=n.return}if(Vr=t,Er=t=Ol(t.current,null),Xr=es=e,Pr=0,im=null,UT=u_=gu=0,Bi=bp=null,Uc!==null){for(e=0;e<Uc.length;e++)if(n=Uc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Uc=null}return t}function vk(t,e){do{var n=Er;try{if(MT(),Kv.current=kx,Fx){for(var r=rr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fx=!1}if(mu=0,Br=Rr=rr=null,wp=!1,tm=0,kT.current=null,n===null||n.return===null){Pr=1,im=e,Er=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Xr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=sP(o);if(m!==null){m.flags&=-257,oP(m,o,a,s,e),m.mode&1&&iP(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var x=new Set;x.add(l),e.updateQueue=x}else v.add(l);break e}else{if(!(e&1)){iP(s,c,e),HT();break e}l=Error(it(426))}}else if(Yn&&a.mode&1){var y=sP(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),oP(y,o,a,s,e),ST(bf(l,a));break e}}s=l=bf(l,a),Pr!==4&&(Pr=2),bp===null?bp=[s]:bp.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=ek(s,l,e);QR(s,g);break e;case 1:a=l;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Dl===null||!Dl.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=tk(s,a,e);QR(s,M);break e}}s=s.return}while(s!==null)}_k(n)}catch(A){e=A,Er===n&&n!==null&&(Er=n=n.return);continue}break}while(!0)}function xk(){var t=Ux.current;return Ux.current=kx,t===null?kx:t}function HT(){(Pr===0||Pr===3||Pr===2)&&(Pr=4),Vr===null||!(gu&268435455)&&!(u_&268435455)||fl(Vr,Xr)}function Vx(t,e){var n=bn;bn|=2;var r=xk();(Vr!==t||Xr!==e)&&(pa=null,su(t,e));do try{DG();break}catch(i){vk(t,i)}while(!0);if(MT(),bn=n,Ux.current=r,Er!==null)throw Error(it(261));return Vr=null,Xr=0,Pr}function DG(){for(;Er!==null;)yk(Er)}function LG(){for(;Er!==null&&!sj();)yk(Er)}function yk(t){var e=Sk(t.alternate,t,es);t.memoizedProps=t.pendingProps,e===null?_k(t):Er=e,kT.current=null}function _k(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=CG(n,e),n!==null){n.flags&=32767,Er=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pr=6,Er=null;return}}else if(n=TG(n,e,es),n!==null){Er=n;return}if(e=e.sibling,e!==null){Er=e;return}Er=e=t}while(e!==null);Pr===0&&(Pr=5)}function Ic(t,e,n){var r=On,i=Ns.transition;try{Ns.transition=null,On=1,OG(t,e,n,r)}finally{Ns.transition=i,On=r}return null}function OG(t,e,n,r){do Qd();while(bl!==null);if(bn&6)throw Error(it(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(it(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(mj(t,s),t===Vr&&(Er=Vr=null,Xr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||I0||(I0=!0,bk(Sx,function(){return Qd(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ns.transition,Ns.transition=null;var o=On;On=1;var a=bn;bn|=4,kT.current=null,RG(t,n),pk(n,t),tG(nM),Mx=!!tM,nM=tM=null,t.current=n,PG(n),oj(),bn=a,On=o,Ns.transition=s}else t.current=n;if(I0&&(I0=!1,bl=t,zx=i),s=t.pendingLanes,s===0&&(Dl=null),cj(n.stateNode),Wi(t,gr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bx)throw Bx=!1,t=SM,SM=null,t;return zx&1&&t.tag!==0&&Qd(),s=t.pendingLanes,s&1?t===bM?Mp++:(Mp=0,bM=t):Mp=0,ql(),null}function Qd(){if(bl!==null){var t=eF(zx),e=Ns.transition,n=On;try{if(Ns.transition=null,On=16>t?16:t,bl===null)var r=!1;else{if(t=bl,bl=null,zx=0,bn&6)throw Error(it(331));var i=bn;for(bn|=4,Dt=t.current;Dt!==null;){var s=Dt,o=s.child;if(Dt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Dt=c;Dt!==null;){var u=Dt;switch(u.tag){case 0:case 11:case 15:Sp(8,u,s)}var d=u.child;if(d!==null)d.return=u,Dt=d;else for(;Dt!==null;){u=Dt;var p=u.sibling,m=u.return;if(dk(u),u===c){Dt=null;break}if(p!==null){p.return=m,Dt=p;break}Dt=m}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}Dt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Dt=o;else e:for(;Dt!==null;){if(s=Dt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Sp(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Dt=g;break e}Dt=s.return}}var _=t.current;for(Dt=_;Dt!==null;){o=Dt;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Dt=S;else e:for(o=_;Dt!==null;){if(a=Dt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:c_(9,a)}}catch(A){fr(a,a.return,A)}if(a===o){Dt=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,Dt=M;break e}Dt=a.return}}if(bn=i,ql(),Bo&&typeof Bo.onPostCommitFiberRoot=="function")try{Bo.onPostCommitFiberRoot(t_,t)}catch{}r=!0}return r}finally{On=n,Ns.transition=e}}return!1}function yP(t,e,n){e=bf(n,e),e=ek(t,e,1),t=Nl(t,e,1),e=_i(),t!==null&&(Wm(t,1,e),Wi(t,e))}function fr(t,e,n){if(t.tag===3)yP(t,t,n);else for(;e!==null;){if(e.tag===3){yP(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dl===null||!Dl.has(r))){t=bf(n,t),t=tk(e,t,1),e=Nl(e,t,1),t=_i(),e!==null&&(Wm(e,1,t),Wi(e,t));break}}e=e.return}}function FG(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_i(),t.pingedLanes|=t.suspendedLanes&n,Vr===t&&(Xr&n)===n&&(Pr===4||Pr===3&&(Xr&130023424)===Xr&&500>gr()-BT?su(t,0):UT|=n),Wi(t,e)}function wk(t,e){e===0&&(t.mode&1?(e=w0,w0<<=1,!(w0&130023424)&&(w0=4194304)):e=1);var n=_i();t=Aa(t,e),t!==null&&(Wm(t,e,n),Wi(t,n))}function kG(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wk(t,n)}function UG(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(it(314))}r!==null&&r.delete(e),wk(t,n)}var Sk;Sk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ji.current)Vi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vi=!1,EG(t,e,n);Vi=!!(t.flags&131072)}else Vi=!1,Yn&&e.flags&1048576&&TF(e,Ix,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qv(t,e),t=e.pendingProps;var i=yf(e,ci.current);Zd(e,n),i=NT(null,e,r,t,i,n);var s=DT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gi(r)?(s=!0,Rx(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,CT(e),i.updater=l_,e.stateNode=i,i._reactInternals=e,dM(e,r,t,n),e=pM(null,e,r,!0,s,n)):(e.tag=0,Yn&&s&&_T(e),gi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qv(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=zG(r),t=Zs(r,t),i){case 0:e=hM(null,e,r,t,n);break e;case 1:e=cP(null,e,r,t,n);break e;case 11:e=aP(null,e,r,t,n);break e;case 14:e=lP(null,e,r,Zs(r.type,t),n);break e}throw Error(it(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zs(r,i),hM(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zs(r,i),cP(t,e,r,i,n);case 3:e:{if(sk(e),t===null)throw Error(it(387));r=e.pendingProps,s=e.memoizedState,i=s.element,NF(t,e),Lx(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=bf(Error(it(423)),e),e=uP(t,e,r,n,i);break e}else if(r!==i){i=bf(Error(it(424)),e),e=uP(t,e,r,n,i);break e}else for(rs=Il(e.stateNode.containerInfo.firstChild),ss=e,Yn=!0,ro=null,n=PF(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_f(),r===i){e=Ra(t,e,n);break e}gi(t,e,r,n)}e=e.child}return e;case 5:return DF(e),t===null&&lM(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,rM(r,i)?o=null:s!==null&&rM(r,s)&&(e.flags|=32),ik(t,e),gi(t,e,o,n),e.child;case 6:return t===null&&lM(e),null;case 13:return ok(t,e,n);case 4:return AT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wf(e,null,r,n):gi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zs(r,i),aP(t,e,r,i,n);case 7:return gi(t,e,e.pendingProps,n),e.child;case 8:return gi(t,e,e.pendingProps.children,n),e.child;case 12:return gi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Vn(Nx,r._currentValue),r._currentValue=o,s!==null)if(fo(s.value,o)){if(s.children===i.children&&!ji.current){e=Ra(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Sa(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),cM(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(it(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),cM(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}gi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zd(e,n),i=Fs(i),r=r(i),e.flags|=1,gi(t,e,r,n),e.child;case 14:return r=e.type,i=Zs(r,e.pendingProps),i=Zs(r.type,i),lP(t,e,r,i,n);case 15:return nk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zs(r,i),Qv(t,e),e.tag=1,Gi(r)?(t=!0,Rx(e)):t=!1,Zd(e,n),JF(e,r,i),dM(e,r,i,n),pM(null,e,r,!0,t,n);case 19:return ak(t,e,n);case 22:return rk(t,e,n)}throw Error(it(156,e.tag))};function bk(t,e){return KO(t,e)}function BG(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ps(t,e,n,r){return new BG(t,e,n,r)}function jT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zG(t){if(typeof t=="function")return jT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lT)return 11;if(t===cT)return 14}return 2}function Ol(t,e){var n=t.alternate;return n===null?(n=Ps(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tx(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")jT(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ad:return ou(n.children,i,s,e);case aT:o=8,i|=8;break;case Ob:return t=Ps(12,n,e,i|2),t.elementType=Ob,t.lanes=s,t;case Fb:return t=Ps(13,n,e,i),t.elementType=Fb,t.lanes=s,t;case kb:return t=Ps(19,n,e,i),t.elementType=kb,t.lanes=s,t;case DO:return d_(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case IO:o=10;break e;case NO:o=9;break e;case lT:o=11;break e;case cT:o=14;break e;case al:o=16,r=null;break e}throw Error(it(130,t==null?t:typeof t,""))}return e=Ps(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ou(t,e,n,r){return t=Ps(7,t,r,e),t.lanes=n,t}function d_(t,e,n,r){return t=Ps(22,t,r,e),t.elementType=DO,t.lanes=n,t.stateNode={isHidden:!1},t}function Zw(t,e,n){return t=Ps(6,t,null,e),t.lanes=n,t}function Qw(t,e,n){return e=Ps(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VG(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nw(0),this.expirationTimes=Nw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function GT(t,e,n,r,i,s,o,a,l){return t=new VG(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ps(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},CT(s),t}function HG(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Mk(t){if(!t)return Ul;t=t._reactInternals;e:{if(Pu(t)!==t||t.tag!==1)throw Error(it(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(it(171))}if(t.tag===1){var n=t.type;if(Gi(n))return MF(t,n,e)}return e}function Ek(t,e,n,r,i,s,o,a,l){return t=GT(n,r,!0,t,i,s,o,a,l),t.context=Mk(null),n=t.current,r=_i(),i=Ll(n),s=Sa(r,i),s.callback=e??null,Nl(n,s,i),t.current.lanes=i,Wm(t,i,r),Wi(t,r),t}function f_(t,e,n,r){var i=e.current,s=_i(),o=Ll(i);return n=Mk(n),e.context===null?e.context=n:e.pendingContext=n,e=Sa(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Nl(i,e,o),t!==null&&(lo(t,i,o,s),qv(t,i,o)),o}function Hx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _P(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function WT(t,e){_P(t,e),(t=t.alternate)&&_P(t,e)}function jG(){return null}var Tk=typeof reportError=="function"?reportError:function(t){console.error(t)};function XT(t){this._internalRoot=t}h_.prototype.render=XT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(it(409));f_(t,e,null,null)};h_.prototype.unmount=XT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vu(function(){f_(null,t,null,null)}),e[Ca]=null}};function h_(t){this._internalRoot=t}h_.prototype.unstable_scheduleHydration=function(t){if(t){var e=rF();t={blockedOn:null,target:t,priority:e};for(var n=0;n<dl.length&&e!==0&&e<dl[n].priority;n++);dl.splice(n,0,t),n===0&&sF(t)}};function $T(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wP(){}function GG(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Hx(o);s.call(c)}}var o=Ek(e,r,t,0,null,!1,!1,"",wP);return t._reactRootContainer=o,t[Ca]=o.current,Kp(t.nodeType===8?t.parentNode:t),vu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Hx(l);a.call(c)}}var l=GT(t,0,!1,null,null,!1,!1,"",wP);return t._reactRootContainer=l,t[Ca]=l.current,Kp(t.nodeType===8?t.parentNode:t),vu(function(){f_(e,l,n,r)}),l}function m_(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Hx(o);a.call(l)}}f_(e,o,t,i)}else o=GG(n,e,t,i,r);return Hx(o)}tF=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=op(e.pendingLanes);n!==0&&(fT(e,n|1),Wi(e,gr()),!(bn&6)&&(Mf=gr()+500,ql()))}break;case 13:vu(function(){var r=Aa(t,1);if(r!==null){var i=_i();lo(r,t,1,i)}}),WT(t,1)}};hT=function(t){if(t.tag===13){var e=Aa(t,134217728);if(e!==null){var n=_i();lo(e,t,134217728,n)}WT(t,134217728)}};nF=function(t){if(t.tag===13){var e=Ll(t),n=Aa(t,e);if(n!==null){var r=_i();lo(n,t,e,r)}WT(t,e)}};rF=function(){return On};iF=function(t,e){var n=On;try{return On=t,e()}finally{On=n}};$b=function(t,e,n){switch(e){case"input":if(zb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=s_(r);if(!i)throw Error(it(90));OO(r),zb(r,i)}}}break;case"textarea":kO(t,n);break;case"select":e=n.value,e!=null&&$d(t,!!n.multiple,e,!1)}};GO=zT;WO=vu;var WG={usingClientEntryPoint:!1,Events:[$m,Nd,s_,HO,jO,zT]},Nh={findFiberByHostInstance:kc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XG={bundleType:Nh.bundleType,version:Nh.version,rendererPackageName:Nh.rendererPackageName,rendererConfig:Nh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=YO(t),t===null?null:t.stateNode},findFiberByHostInstance:Nh.findFiberByHostInstance||jG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var N0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!N0.isDisabled&&N0.supportsFiber)try{t_=N0.inject(XG),Bo=N0}catch{}}fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WG;fs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$T(e))throw Error(it(200));return HG(t,e,null,n)};fs.createRoot=function(t,e){if(!$T(t))throw Error(it(299));var n=!1,r="",i=Tk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=GT(t,1,!1,null,null,n,!1,r,i),t[Ca]=e.current,Kp(t.nodeType===8?t.parentNode:t),new XT(e)};fs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(it(188)):(t=Object.keys(t).join(","),Error(it(268,t)));return t=YO(e),t=t===null?null:t.stateNode,t};fs.flushSync=function(t){return vu(t)};fs.hydrate=function(t,e,n){if(!p_(e))throw Error(it(200));return m_(null,t,e,!0,n)};fs.hydrateRoot=function(t,e,n){if(!$T(t))throw Error(it(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Tk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ek(e,null,t,1,n??null,i,!1,s,o),t[Ca]=e.current,Kp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new h_(e)};fs.render=function(t,e,n){if(!p_(e))throw Error(it(200));return m_(null,t,e,!1,n)};fs.unmountComponentAtNode=function(t){if(!p_(t))throw Error(it(40));return t._reactRootContainer?(vu(function(){m_(null,null,t,!1,function(){t._reactRootContainer=null,t[Ca]=null})}),!0):!1};fs.unstable_batchedUpdates=zT;fs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!p_(n))throw Error(it(200));if(t==null||t._reactInternals===void 0)throw Error(it(38));return m_(t,e,n,!1,r)};fs.version="18.3.1-next-f1338f8080-20240426";function Ck(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ck)}catch(t){console.error(t)}}Ck(),CO.exports=fs;var Yf=CO.exports;const YT=Qy(Yf),$G=mO({__proto__:null,default:YT},[Yf]);var Ak,SP=Yf;Ak=SP.createRoot,SP.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $n(){return $n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$n.apply(this,arguments)}var Sr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Sr||(Sr={}));const bP="popstate";function YG(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return sm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:yu(i)}return KG(e,n,null,t)}function cn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qG(){return Math.random().toString(36).substr(2,8)}function MP(t,e){return{usr:t.state,key:t.key,idx:e}}function sm(t,e,n,r){return n===void 0&&(n=null),$n({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Kl(e):e,{state:n,key:e&&e.key||r||qG()})}function yu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Kl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function KG(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Sr.Pop,l=null,c=u();c==null&&(c=0,o.replaceState($n({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Sr.Pop;let y=u(),g=y==null?null:y-c;c=y,l&&l({action:a,location:x.location,delta:g})}function p(y,g){a=Sr.Push;let _=sm(x.location,y,g);c=u()+1;let S=MP(_,c),M=x.createHref(_);try{o.pushState(S,"",M)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(M)}s&&l&&l({action:a,location:x.location,delta:1})}function m(y,g){a=Sr.Replace;let _=sm(x.location,y,g);c=u();let S=MP(_,c),M=x.createHref(_);o.replaceState(S,"",M),s&&l&&l({action:a,location:x.location,delta:0})}function v(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof y=="string"?y:yu(y);return _=_.replace(/ $/,"%20"),cn(g,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,g)}let x={get action(){return a},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(bP,d),l=y,()=>{i.removeEventListener(bP,d),l=null}},createHref(y){return e(i,y)},createURL:v,encodeLocation(y){let g=v(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(y){return o.go(y)}};return x}var Ln;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ln||(Ln={}));const ZG=new Set(["lazy","caseSensitive","path","id","index","children"]);function QG(t){return t.index===!0}function jx(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(cn(i.index!==!0||!i.children,"Cannot specify children on an index route"),cn(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),QG(i)){let l=$n({},i,e(i),{id:a});return r[a]=l,l}else{let l=$n({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=jx(i.children,e,o,r)),l}})}function Lc(t,e,n){return n===void 0&&(n="/"),nx(t,e,n,!1)}function nx(t,e,n,r){let i=typeof e=="string"?Kl(e):e,s=Iu(i.pathname||"/",n);if(s==null)return null;let o=Pk(t);JG(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=uW(s);a=lW(o[l],c,r)}return a}function Rk(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Pk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(cn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ba([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(cn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Pk(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:oW(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Ik(s.path))i(s,o,l)}),e}function Ik(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Ik(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function JG(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aW(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const eW=/^:[\w-]+$/,tW=3,nW=2,rW=1,iW=10,sW=-2,EP=t=>t==="*";function oW(t,e){let n=t.split("/"),r=n.length;return n.some(EP)&&(r+=sW),e&&(r+=nW),n.filter(i=>!EP(i)).reduce((i,s)=>i+(eW.test(s)?tW:s===""?rW:iW),r)}function aW(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function lW(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=TP({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=TP({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:ba([s,d.pathname]),pathnameBase:pW(ba([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=ba([s,d.pathnameBase]))}return o}function TP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=cW(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:p,isOptional:m}=u;if(p==="*"){let x=a[d]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const v=a[d];return m&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function cW(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),xu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function uW(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Iu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const dW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fW=t=>dW.test(t);function hW(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Kl(t):t,s;if(n)if(fW(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),xu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=CP(n.substring(1),"/"):s=CP(n,e)}else s=e;return{pathname:s,search:mW(r),hash:gW(i)}}function CP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Nk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qT(t,e){let n=Nk(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function KT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Kl(t):(i=$n({},t),cn(!i.pathname||!i.pathname.includes("?"),Jw("?","pathname","search",i)),cn(!i.pathname||!i.pathname.includes("#"),Jw("#","pathname","hash",i)),cn(!i.search||!i.search.includes("#"),Jw("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=hW(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ba=t=>t.join("/").replace(/\/\/+/g,"/"),pW=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mW=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gW=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Gx{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function om(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Dk=["post","put","patch","delete"],vW=new Set(Dk),xW=["get",...Dk],yW=new Set(xW),_W=new Set([301,302,303,307,308]),wW=new Set([307,308]),eS={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},SW={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Dh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ZT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bW=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Lk="remix-router-transitions";function MW(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;cn(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let re=t.detectErrorBoundary;i=le=>({hasErrorBoundary:re(le)})}else i=bW;let s={},o=jx(t.routes,i,void 0,s),a,l=t.basename||"/",c=t.dataStrategy||AW,u=t.patchRoutesOnNavigation,d=$n({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,m=new Set,v=null,x=null,y=null,g=t.hydrationData!=null,_=Lc(o,t.history.location,l),S=!1,M=null;if(_==null&&!u){let re=Fi(404,{pathname:t.history.location.pathname}),{matches:le,route:ge}=UP(o);_=le,M={[ge.id]:re}}_&&!t.hydrationData&&Ut(_,o,t.history.location.pathname).active&&(_=null);let A;if(_)if(_.some(re=>re.route.lazy))A=!1;else if(!_.some(re=>re.route.loader))A=!0;else if(d.v7_partialHydration){let re=t.hydrationData?t.hydrationData.loaderData:null,le=t.hydrationData?t.hydrationData.errors:null;if(le){let ge=_.findIndex(ze=>le[ze.route.id]!==void 0);A=_.slice(0,ge+1).every(ze=>!CM(ze.route,re,le))}else A=_.every(ge=>!CM(ge.route,re,le))}else A=t.hydrationData!=null;else if(A=!1,_=[],d.v7_partialHydration){let re=Ut(null,o,t.history.location.pathname);re.active&&re.matches&&(S=!0,_=re.matches)}let R,C={historyAction:t.history.action,location:t.history.location,matches:_,initialized:A,navigation:eS,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||M,fetchers:new Map,blockers:new Map},D=Sr.Pop,N=!1,I,F=!1,V=new Map,Y=null,G=!1,ee=!1,Q=[],ie=new Set,z=new Map,H=0,$=-1,oe=new Map,pe=new Set,Me=new Map,Ue=new Map,at=new Set,ae=new Map,fe=new Map,je;function ct(){if(p=t.history.listen(re=>{let{action:le,location:ge,delta:ze}=re;if(je){je(),je=void 0;return}xu(fe.size===0||ze!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ft=ye({currentLocation:C.location,nextLocation:ge,historyAction:le});if(ft&&ze!=null){let At=new Promise(ht=>{je=ht});t.history.go(ze*-1),ne(ft,{state:"blocked",location:ge,proceed(){ne(ft,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),At.then(()=>t.history.go(ze))},reset(){let ht=new Map(C.blockers);ht.set(ft,Dh),Be({blockers:ht})}});return}return Ae(le,ge)}),n){HW(e,V);let re=()=>jW(e,V);e.addEventListener("pagehide",re),Y=()=>e.removeEventListener("pagehide",re)}return C.initialized||Ae(Sr.Pop,C.location,{initialHydration:!0}),R}function st(){p&&p(),Y&&Y(),m.clear(),I&&I.abort(),C.fetchers.forEach((re,le)=>Rt(le)),C.blockers.forEach((re,le)=>St(le))}function ut(re){return m.add(re),()=>m.delete(re)}function Be(re,le){le===void 0&&(le={}),C=$n({},C,re);let ge=[],ze=[];d.v7_fetcherPersist&&C.fetchers.forEach((ft,At)=>{ft.state==="idle"&&(at.has(At)?ze.push(At):ge.push(At))}),at.forEach(ft=>{!C.fetchers.has(ft)&&!z.has(ft)&&ze.push(ft)}),[...m].forEach(ft=>ft(C,{deletedFetchers:ze,viewTransitionOpts:le.viewTransitionOpts,flushSync:le.flushSync===!0})),d.v7_fetcherPersist?(ge.forEach(ft=>C.fetchers.delete(ft)),ze.forEach(ft=>Rt(ft))):ze.forEach(ft=>at.delete(ft))}function Ye(re,le,ge){var ze,ft;let{flushSync:At}=ge===void 0?{}:ge,ht=C.actionData!=null&&C.navigation.formMethod!=null&&no(C.navigation.formMethod)&&C.navigation.state==="loading"&&((ze=re.state)==null?void 0:ze._isRedirect)!==!0,bt;le.actionData?Object.keys(le.actionData).length>0?bt=le.actionData:bt=null:ht?bt=C.actionData:bt=null;let It=le.loaderData?FP(C.loaderData,le.loaderData,le.matches||[],le.errors):C.loaderData,L=C.blockers;L.size>0&&(L=new Map(L),L.forEach((ue,xe)=>L.set(xe,Dh)));let B=N===!0||C.navigation.formMethod!=null&&no(C.navigation.formMethod)&&((ft=re.state)==null?void 0:ft._isRedirect)!==!0;a&&(o=a,a=void 0),G||D===Sr.Pop||(D===Sr.Push?t.history.push(re,re.state):D===Sr.Replace&&t.history.replace(re,re.state));let Z;if(D===Sr.Pop){let ue=V.get(C.location.pathname);ue&&ue.has(re.pathname)?Z={currentLocation:C.location,nextLocation:re}:V.has(re.pathname)&&(Z={currentLocation:re,nextLocation:C.location})}else if(F){let ue=V.get(C.location.pathname);ue?ue.add(re.pathname):(ue=new Set([re.pathname]),V.set(C.location.pathname,ue)),Z={currentLocation:C.location,nextLocation:re}}Be($n({},le,{actionData:bt,loaderData:It,historyAction:D,location:re,initialized:!0,navigation:eS,revalidation:"idle",restoreScrollPosition:mt(re,le.matches||C.matches),preventScrollReset:B,blockers:L}),{viewTransitionOpts:Z,flushSync:At===!0}),D=Sr.Pop,N=!1,F=!1,G=!1,ee=!1,Q=[]}async function Te(re,le){if(typeof re=="number"){t.history.go(re);return}let ge=TM(C.location,C.matches,l,d.v7_prependBasename,re,d.v7_relativeSplatPath,le==null?void 0:le.fromRouteId,le==null?void 0:le.relative),{path:ze,submission:ft,error:At}=AP(d.v7_normalizeFormMethod,!1,ge,le),ht=C.location,bt=sm(C.location,ze,le&&le.state);bt=$n({},bt,t.history.encodeLocation(bt));let It=le&&le.replace!=null?le.replace:void 0,L=Sr.Push;It===!0?L=Sr.Replace:It===!1||ft!=null&&no(ft.formMethod)&&ft.formAction===C.location.pathname+C.location.search&&(L=Sr.Replace);let B=le&&"preventScrollReset"in le?le.preventScrollReset===!0:void 0,Z=(le&&le.flushSync)===!0,ue=ye({currentLocation:ht,nextLocation:bt,historyAction:L});if(ue){ne(ue,{state:"blocked",location:bt,proceed(){ne(ue,{state:"proceeding",proceed:void 0,reset:void 0,location:bt}),Te(re,le)},reset(){let xe=new Map(C.blockers);xe.set(ue,Dh),Be({blockers:xe})}});return}return await Ae(L,bt,{submission:ft,pendingError:At,preventScrollReset:B,replace:le&&le.replace,enableViewTransition:le&&le.viewTransition,flushSync:Z})}function j(){if(Ne(),Be({revalidation:"loading"}),C.navigation.state!=="submitting"){if(C.navigation.state==="idle"){Ae(C.historyAction,C.location,{startUninterruptedRevalidation:!0});return}Ae(D||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:F===!0})}}async function Ae(re,le,ge){I&&I.abort(),I=null,D=re,G=(ge&&ge.startUninterruptedRevalidation)===!0,ke(C.location,C.matches),N=(ge&&ge.preventScrollReset)===!0,F=(ge&&ge.enableViewTransition)===!0;let ze=a||o,ft=ge&&ge.overrideNavigation,At=ge!=null&&ge.initialHydration&&C.matches&&C.matches.length>0&&!S?C.matches:Lc(ze,le,l),ht=(ge&&ge.flushSync)===!0;if(At&&C.initialized&&!ee&&LW(C.location,le)&&!(ge&&ge.submission&&no(ge.submission.formMethod))){Ye(le,{matches:At},{flushSync:ht});return}let bt=Ut(At,ze,le.pathname);if(bt.active&&bt.matches&&(At=bt.matches),!At){let{error:ve,notFoundMatches:Ie,route:De}=Je(le.pathname);Ye(le,{matches:Ie,loaderData:{},errors:{[De.id]:ve}},{flushSync:ht});return}I=new AbortController;let It=Ju(t.history,le,I.signal,ge&&ge.submission),L;if(ge&&ge.pendingError)L=[Oc(At).route.id,{type:Ln.error,error:ge.pendingError}];else if(ge&&ge.submission&&no(ge.submission.formMethod)){let ve=await Ve(It,le,ge.submission,At,bt.active,{replace:ge.replace,flushSync:ht});if(ve.shortCircuited)return;if(ve.pendingActionResult){let[Ie,De]=ve.pendingActionResult;if(ts(De)&&om(De.error)&&De.error.status===404){I=null,Ye(le,{matches:ve.matches,loaderData:{},errors:{[Ie]:De.error}});return}}At=ve.matches||At,L=ve.pendingActionResult,ft=tS(le,ge.submission),ht=!1,bt.active=!1,It=Ju(t.history,It.url,It.signal)}let{shortCircuited:B,matches:Z,loaderData:ue,errors:xe}=await qe(It,le,At,bt.active,ft,ge&&ge.submission,ge&&ge.fetcherSubmission,ge&&ge.replace,ge&&ge.initialHydration===!0,ht,L);B||(I=null,Ye(le,$n({matches:Z||At},kP(L),{loaderData:ue,errors:xe})))}async function Ve(re,le,ge,ze,ft,At){At===void 0&&(At={}),Ne();let ht=zW(le,ge);if(Be({navigation:ht},{flushSync:At.flushSync===!0}),ft){let L=await Yt(ze,le.pathname,re.signal);if(L.type==="aborted")return{shortCircuited:!0};if(L.type==="error"){let B=Oc(L.partialMatches).route.id;return{matches:L.partialMatches,pendingActionResult:[B,{type:Ln.error,error:L.error}]}}else if(L.matches)ze=L.matches;else{let{notFoundMatches:B,error:Z,route:ue}=Je(le.pathname);return{matches:B,pendingActionResult:[ue.id,{type:Ln.error,error:Z}]}}}let bt,It=lp(ze,le);if(!It.route.action&&!It.route.lazy)bt={type:Ln.error,error:Fi(405,{method:re.method,pathname:le.pathname,routeId:It.route.id})};else if(bt=(await de("action",C,re,[It],ze,null))[It.route.id],re.signal.aborted)return{shortCircuited:!0};if(zc(bt)){let L;return At&&At.replace!=null?L=At.replace:L=DP(bt.response.headers.get("Location"),new URL(re.url),l)===C.location.pathname+C.location.search,await U(re,bt,!0,{submission:ge,replace:L}),{shortCircuited:!0}}if(Ml(bt))throw Fi(400,{type:"defer-action"});if(ts(bt)){let L=Oc(ze,It.route.id);return(At&&At.replace)!==!0&&(D=Sr.Push),{matches:ze,pendingActionResult:[L.route.id,bt]}}return{matches:ze,pendingActionResult:[It.route.id,bt]}}async function qe(re,le,ge,ze,ft,At,ht,bt,It,L,B){let Z=ft||tS(le,At),ue=At||ht||zP(Z),xe=!G&&(!d.v7_partialHydration||!It);if(ze){if(xe){let $e=Fe(B);Be($n({navigation:Z},$e!==void 0?{actionData:$e}:{}),{flushSync:L})}let Ce=await Yt(ge,le.pathname,re.signal);if(Ce.type==="aborted")return{shortCircuited:!0};if(Ce.type==="error"){let $e=Oc(Ce.partialMatches).route.id;return{matches:Ce.partialMatches,loaderData:{},errors:{[$e]:Ce.error}}}else if(Ce.matches)ge=Ce.matches;else{let{error:$e,notFoundMatches:Ze,route:Ke}=Je(le.pathname);return{matches:Ze,loaderData:{},errors:{[Ke.id]:$e}}}}let ve=a||o,[Ie,De]=PP(t.history,C,ge,ue,le,d.v7_partialHydration&&It===!0,d.v7_skipActionErrorRevalidation,ee,Q,ie,at,Me,pe,ve,l,B);if(nt(Ce=>!(ge&&ge.some($e=>$e.route.id===Ce))||Ie&&Ie.some($e=>$e.route.id===Ce)),$=++H,Ie.length===0&&De.length===0){let Ce=Bt();return Ye(le,$n({matches:ge,loaderData:{},errors:B&&ts(B[1])?{[B[0]]:B[1].error}:null},kP(B),Ce?{fetchers:new Map(C.fetchers)}:{}),{flushSync:L}),{shortCircuited:!0}}if(xe){let Ce={};if(!ze){Ce.navigation=Z;let $e=Fe(B);$e!==void 0&&(Ce.actionData=$e)}De.length>0&&(Ce.fetchers=pt(De)),Be(Ce,{flushSync:L})}De.forEach(Ce=>{Pe(Ce.key),Ce.controller&&z.set(Ce.key,Ce.controller)});let ot=()=>De.forEach(Ce=>Pe(Ce.key));I&&I.signal.addEventListener("abort",ot);let{loaderResults:k,fetcherResults:q}=await be(C,ge,Ie,De,re);if(re.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",ot),De.forEach(Ce=>z.delete(Ce.key));let J=D0(k);if(J)return await U(re,J.result,!0,{replace:bt}),{shortCircuited:!0};if(J=D0(q),J)return pe.add(J.key),await U(re,J.result,!0,{replace:bt}),{shortCircuited:!0};let{loaderData:me,errors:te}=OP(C,ge,k,B,De,q,ae);ae.forEach((Ce,$e)=>{Ce.subscribe(Ze=>{(Ze||Ce.done)&&ae.delete($e)})}),d.v7_partialHydration&&It&&C.errors&&(te=$n({},C.errors,te));let Se=Bt(),Oe=Tt($),We=Se||Oe||De.length>0;return $n({matches:ge,loaderData:me,errors:te},We?{fetchers:new Map(C.fetchers)}:{})}function Fe(re){if(re&&!ts(re[1]))return{[re[0]]:re[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function pt(re){return re.forEach(le=>{let ge=C.fetchers.get(le.key),ze=Lh(void 0,ge?ge.data:void 0);C.fetchers.set(le.key,ze)}),new Map(C.fetchers)}function et(re,le,ge,ze){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Pe(re);let ft=(ze&&ze.flushSync)===!0,At=a||o,ht=TM(C.location,C.matches,l,d.v7_prependBasename,ge,d.v7_relativeSplatPath,le,ze==null?void 0:ze.relative),bt=Lc(At,ht,l),It=Ut(bt,At,ht);if(It.active&&It.matches&&(bt=It.matches),!bt){gt(re,le,Fi(404,{pathname:ht}),{flushSync:ft});return}let{path:L,submission:B,error:Z}=AP(d.v7_normalizeFormMethod,!0,ht,ze);if(Z){gt(re,le,Z,{flushSync:ft});return}let ue=lp(bt,L),xe=(ze&&ze.preventScrollReset)===!0;if(B&&no(B.formMethod)){vt(re,le,L,ue,bt,It.active,ft,xe,B);return}Me.set(re,{routeId:le,path:L}),W(re,le,L,ue,bt,It.active,ft,xe,B)}async function vt(re,le,ge,ze,ft,At,ht,bt,It){Ne(),Me.delete(re);function L(rt){if(!rt.route.action&&!rt.route.lazy){let Ft=Fi(405,{method:It.formMethod,pathname:ge,routeId:le});return gt(re,le,Ft,{flushSync:ht}),!0}return!1}if(!At&&L(ze))return;let B=C.fetchers.get(re);we(re,VW(It,B),{flushSync:ht});let Z=new AbortController,ue=Ju(t.history,ge,Z.signal,It);if(At){let rt=await Yt(ft,new URL(ue.url).pathname,ue.signal,re);if(rt.type==="aborted")return;if(rt.type==="error"){gt(re,le,rt.error,{flushSync:ht});return}else if(rt.matches){if(ft=rt.matches,ze=lp(ft,ge),L(ze))return}else{gt(re,le,Fi(404,{pathname:ge}),{flushSync:ht});return}}z.set(re,Z);let xe=H,Ie=(await de("action",C,ue,[ze],ft,re))[ze.route.id];if(ue.signal.aborted){z.get(re)===Z&&z.delete(re);return}if(d.v7_fetcherPersist&&at.has(re)){if(zc(Ie)||ts(Ie)){we(re,rl(void 0));return}}else{if(zc(Ie))if(z.delete(re),$>xe){we(re,rl(void 0));return}else return pe.add(re),we(re,Lh(It)),U(ue,Ie,!1,{fetcherSubmission:It,preventScrollReset:bt});if(ts(Ie)){gt(re,le,Ie.error);return}}if(Ml(Ie))throw Fi(400,{type:"defer-action"});let De=C.navigation.location||C.location,ot=Ju(t.history,De,Z.signal),k=a||o,q=C.navigation.state!=="idle"?Lc(k,C.navigation.location,l):C.matches;cn(q,"Didn't find any matches after fetcher action");let J=++H;oe.set(re,J);let me=Lh(It,Ie.data);C.fetchers.set(re,me);let[te,Se]=PP(t.history,C,q,It,De,!1,d.v7_skipActionErrorRevalidation,ee,Q,ie,at,Me,pe,k,l,[ze.route.id,Ie]);Se.filter(rt=>rt.key!==re).forEach(rt=>{let Ft=rt.key,Nt=C.fetchers.get(Ft),Xt=Lh(void 0,Nt?Nt.data:void 0);C.fetchers.set(Ft,Xt),Pe(Ft),rt.controller&&z.set(Ft,rt.controller)}),Be({fetchers:new Map(C.fetchers)});let Oe=()=>Se.forEach(rt=>Pe(rt.key));Z.signal.addEventListener("abort",Oe);let{loaderResults:We,fetcherResults:Ce}=await be(C,q,te,Se,ot);if(Z.signal.aborted)return;Z.signal.removeEventListener("abort",Oe),oe.delete(re),z.delete(re),Se.forEach(rt=>z.delete(rt.key));let $e=D0(We);if($e)return U(ot,$e.result,!1,{preventScrollReset:bt});if($e=D0(Ce),$e)return pe.add($e.key),U(ot,$e.result,!1,{preventScrollReset:bt});let{loaderData:Ze,errors:Ke}=OP(C,q,We,void 0,Se,Ce,ae);if(C.fetchers.has(re)){let rt=rl(Ie.data);C.fetchers.set(re,rt)}Tt(J),C.navigation.state==="loading"&&J>$?(cn(D,"Expected pending action"),I&&I.abort(),Ye(C.navigation.location,{matches:q,loaderData:Ze,errors:Ke,fetchers:new Map(C.fetchers)})):(Be({errors:Ke,loaderData:FP(C.loaderData,Ze,q,Ke),fetchers:new Map(C.fetchers)}),ee=!1)}async function W(re,le,ge,ze,ft,At,ht,bt,It){let L=C.fetchers.get(re);we(re,Lh(It,L?L.data:void 0),{flushSync:ht});let B=new AbortController,Z=Ju(t.history,ge,B.signal);if(At){let Ie=await Yt(ft,new URL(Z.url).pathname,Z.signal,re);if(Ie.type==="aborted")return;if(Ie.type==="error"){gt(re,le,Ie.error,{flushSync:ht});return}else if(Ie.matches)ft=Ie.matches,ze=lp(ft,ge);else{gt(re,le,Fi(404,{pathname:ge}),{flushSync:ht});return}}z.set(re,B);let ue=H,ve=(await de("loader",C,Z,[ze],ft,re))[ze.route.id];if(Ml(ve)&&(ve=await QT(ve,Z.signal,!0)||ve),z.get(re)===B&&z.delete(re),!Z.signal.aborted){if(at.has(re)){we(re,rl(void 0));return}if(zc(ve))if($>ue){we(re,rl(void 0));return}else{pe.add(re),await U(Z,ve,!1,{preventScrollReset:bt});return}if(ts(ve)){gt(re,le,ve.error);return}cn(!Ml(ve),"Unhandled fetcher deferred data"),we(re,rl(ve.data))}}async function U(re,le,ge,ze){let{submission:ft,fetcherSubmission:At,preventScrollReset:ht,replace:bt}=ze===void 0?{}:ze;le.response.headers.has("X-Remix-Revalidate")&&(ee=!0);let It=le.response.headers.get("Location");cn(It,"Expected a Location header on the redirect Response"),It=DP(It,new URL(re.url),l);let L=sm(C.location,It,{_isRedirect:!0});if(n){let Ie=!1;if(le.response.headers.has("X-Remix-Reload-Document"))Ie=!0;else if(ZT.test(It)){const De=t.history.createURL(It);Ie=De.origin!==e.location.origin||Iu(De.pathname,l)==null}if(Ie){bt?e.location.replace(It):e.location.assign(It);return}}I=null;let B=bt===!0||le.response.headers.has("X-Remix-Replace")?Sr.Replace:Sr.Push,{formMethod:Z,formAction:ue,formEncType:xe}=C.navigation;!ft&&!At&&Z&&ue&&xe&&(ft=zP(C.navigation));let ve=ft||At;if(wW.has(le.response.status)&&ve&&no(ve.formMethod))await Ae(B,L,{submission:$n({},ve,{formAction:It}),preventScrollReset:ht||N,enableViewTransition:ge?F:void 0});else{let Ie=tS(L,ft);await Ae(B,L,{overrideNavigation:Ie,fetcherSubmission:At,preventScrollReset:ht||N,enableViewTransition:ge?F:void 0})}}async function de(re,le,ge,ze,ft,At){let ht,bt={};try{ht=await RW(c,re,le,ge,ze,ft,At,s,i)}catch(It){return ze.forEach(L=>{bt[L.route.id]={type:Ln.error,error:It}}),bt}for(let[It,L]of Object.entries(ht))if(OW(L)){let B=L.result;bt[It]={type:Ln.redirect,response:NW(B,ge,It,ft,l,d.v7_relativeSplatPath)}}else bt[It]=await IW(L);return bt}async function be(re,le,ge,ze,ft){let At=re.matches,ht=de("loader",re,ft,ge,le,null),bt=Promise.all(ze.map(async B=>{if(B.matches&&B.match&&B.controller){let ue=(await de("loader",re,Ju(t.history,B.path,B.controller.signal),[B.match],B.matches,B.key))[B.match.route.id];return{[B.key]:ue}}else return Promise.resolve({[B.key]:{type:Ln.error,error:Fi(404,{pathname:B.path})}})})),It=await ht,L=(await bt).reduce((B,Z)=>Object.assign(B,Z),{});return await Promise.all([UW(le,It,ft.signal,At,re.loaderData),BW(le,L,ze)]),{loaderResults:It,fetcherResults:L}}function Ne(){ee=!0,Q.push(...nt()),Me.forEach((re,le)=>{z.has(le)&&ie.add(le),Pe(le)})}function we(re,le,ge){ge===void 0&&(ge={}),C.fetchers.set(re,le),Be({fetchers:new Map(C.fetchers)},{flushSync:(ge&&ge.flushSync)===!0})}function gt(re,le,ge,ze){ze===void 0&&(ze={});let ft=Oc(C.matches,le);Rt(re),Be({errors:{[ft.route.id]:ge},fetchers:new Map(C.fetchers)},{flushSync:(ze&&ze.flushSync)===!0})}function tt(re){return Ue.set(re,(Ue.get(re)||0)+1),at.has(re)&&at.delete(re),C.fetchers.get(re)||SW}function Rt(re){let le=C.fetchers.get(re);z.has(re)&&!(le&&le.state==="loading"&&oe.has(re))&&Pe(re),Me.delete(re),oe.delete(re),pe.delete(re),d.v7_fetcherPersist&&at.delete(re),ie.delete(re),C.fetchers.delete(re)}function wt(re){let le=(Ue.get(re)||0)-1;le<=0?(Ue.delete(re),at.add(re),d.v7_fetcherPersist||Rt(re)):Ue.set(re,le),Be({fetchers:new Map(C.fetchers)})}function Pe(re){let le=z.get(re);le&&(le.abort(),z.delete(re))}function He(re){for(let le of re){let ge=tt(le),ze=rl(ge.data);C.fetchers.set(le,ze)}}function Bt(){let re=[],le=!1;for(let ge of pe){let ze=C.fetchers.get(ge);cn(ze,"Expected fetcher: "+ge),ze.state==="loading"&&(pe.delete(ge),re.push(ge),le=!0)}return He(re),le}function Tt(re){let le=[];for(let[ge,ze]of oe)if(ze<re){let ft=C.fetchers.get(ge);cn(ft,"Expected fetcher: "+ge),ft.state==="loading"&&(Pe(ge),oe.delete(ge),le.push(ge))}return He(le),le.length>0}function lt(re,le){let ge=C.blockers.get(re)||Dh;return fe.get(re)!==le&&fe.set(re,le),ge}function St(re){C.blockers.delete(re),fe.delete(re)}function ne(re,le){let ge=C.blockers.get(re)||Dh;cn(ge.state==="unblocked"&&le.state==="blocked"||ge.state==="blocked"&&le.state==="blocked"||ge.state==="blocked"&&le.state==="proceeding"||ge.state==="blocked"&&le.state==="unblocked"||ge.state==="proceeding"&&le.state==="unblocked","Invalid blocker state transition: "+ge.state+" -> "+le.state);let ze=new Map(C.blockers);ze.set(re,le),Be({blockers:ze})}function ye(re){let{currentLocation:le,nextLocation:ge,historyAction:ze}=re;if(fe.size===0)return;fe.size>1&&xu(!1,"A router only supports one blocker at a time");let ft=Array.from(fe.entries()),[At,ht]=ft[ft.length-1],bt=C.blockers.get(At);if(!(bt&&bt.state==="proceeding")&&ht({currentLocation:le,nextLocation:ge,historyAction:ze}))return At}function Je(re){let le=Fi(404,{pathname:re}),ge=a||o,{matches:ze,route:ft}=UP(ge);return nt(),{notFoundMatches:ze,route:ft,error:le}}function nt(re){let le=[];return ae.forEach((ge,ze)=>{(!re||re(ze))&&(ge.cancel(),le.push(ze),ae.delete(ze))}),le}function Ge(re,le,ge){if(v=re,y=le,x=ge||null,!g&&C.navigation===eS){g=!0;let ze=mt(C.location,C.matches);ze!=null&&Be({restoreScrollPosition:ze})}return()=>{v=null,y=null,x=null}}function Le(re,le){return x&&x(re,le.map(ze=>Rk(ze,C.loaderData)))||re.key}function ke(re,le){if(v&&y){let ge=Le(re,le);v[ge]=y()}}function mt(re,le){if(v){let ge=Le(re,le),ze=v[ge];if(typeof ze=="number")return ze}return null}function Ut(re,le,ge){if(u)if(re){if(Object.keys(re[0].params).length>0)return{active:!0,matches:nx(le,ge,l,!0)}}else return{active:!0,matches:nx(le,ge,l,!0)||[]};return{active:!1,matches:null}}async function Yt(re,le,ge,ze){if(!u)return{type:"success",matches:re};let ft=re;for(;;){let At=a==null,ht=a||o,bt=s;try{await u({signal:ge,path:le,matches:ft,fetcherKey:ze,patch:(B,Z)=>{ge.aborted||NP(B,Z,ht,bt,i)}})}catch(B){return{type:"error",error:B,partialMatches:ft}}finally{At&&!ge.aborted&&(o=[...o])}if(ge.aborted)return{type:"aborted"};let It=Lc(ht,le,l);if(It)return{type:"success",matches:It};let L=nx(ht,le,l,!0);if(!L||ft.length===L.length&&ft.every((B,Z)=>B.route.id===L[Z].route.id))return{type:"success",matches:null};ft=L}}function Nn(re){s={},a=jx(re,i,void 0,s)}function Bn(re,le){let ge=a==null;NP(re,le,a||o,s,i),ge&&(o=[...o],Be({}))}return R={get basename(){return l},get future(){return d},get state(){return C},get routes(){return o},get window(){return e},initialize:ct,subscribe:ut,enableScrollRestoration:Ge,navigate:Te,fetch:et,revalidate:j,createHref:re=>t.history.createHref(re),encodeLocation:re=>t.history.encodeLocation(re),getFetcher:tt,deleteFetcher:wt,dispose:st,getBlocker:lt,deleteBlocker:St,patchRoutes:Bn,_internalFetchControllers:z,_internalActiveDeferreds:ae,_internalSetRoutes:Nn},R}function EW(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function TM(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=KT(i||".",qT(l,s),Iu(t.pathname,n)||t.pathname,a==="path");if(i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c){let d=JT(u.search);if(c.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let p=new URLSearchParams(u.search),m=p.getAll("index");p.delete("index"),m.filter(x=>x).forEach(x=>p.append("index",x));let v=p.toString();u.search=v?"?"+v:""}}return r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:ba([n,u.pathname])),yu(u)}function AP(t,e,n,r){if(!r||!EW(r))return{path:n};if(r.formMethod&&!kW(r.formMethod))return{path:n,error:Fi(405,{method:r.formMethod})};let i=()=>({path:n,error:Fi(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=kk(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!no(o))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,v)=>{let[x,y]=v;return""+m+x+"="+y+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!no(o))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}cn(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=AM(r.formData),c=r.formData;else if(r.body instanceof FormData)l=AM(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=LP(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=LP(l)}catch{return i()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(no(u.formMethod))return{path:n,submission:u};let d=Kl(n);return e&&d.search&&JT(d.search)&&l.append("index",""),d.search="?"+l,{path:yu(d),submission:u}}function RP(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function PP(t,e,n,r,i,s,o,a,l,c,u,d,p,m,v,x){let y=x?ts(x[1])?x[1].error:x[1].data:void 0,g=t.createURL(e.location),_=t.createURL(i),S=n;s&&e.errors?S=RP(n,Object.keys(e.errors)[0],!0):x&&ts(x[1])&&(S=RP(n,x[0]));let M=x?x[1].statusCode:void 0,A=o&&M&&M>=400,R=S.filter((D,N)=>{let{route:I}=D;if(I.lazy)return!0;if(I.loader==null)return!1;if(s)return CM(I,e.loaderData,e.errors);if(TW(e.loaderData,e.matches[N],D)||l.some(Y=>Y===D.route.id))return!0;let F=e.matches[N],V=D;return IP(D,$n({currentUrl:g,currentParams:F.params,nextUrl:_,nextParams:V.params},r,{actionResult:y,actionStatus:M,defaultShouldRevalidate:A?!1:a||g.pathname+g.search===_.pathname+_.search||g.search!==_.search||Ok(F,V)}))}),C=[];return d.forEach((D,N)=>{if(s||!n.some(G=>G.route.id===D.routeId)||u.has(N))return;let I=Lc(m,D.path,v);if(!I){C.push({key:N,routeId:D.routeId,path:D.path,matches:null,match:null,controller:null});return}let F=e.fetchers.get(N),V=lp(I,D.path),Y=!1;p.has(N)?Y=!1:c.has(N)?(c.delete(N),Y=!0):F&&F.state!=="idle"&&F.data===void 0?Y=a:Y=IP(V,$n({currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:y,actionStatus:M,defaultShouldRevalidate:A?!1:a})),Y&&C.push({key:N,routeId:D.routeId,path:D.path,matches:I,match:V,controller:new AbortController})}),[R,C]}function CM(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function TW(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Ok(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function IP(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function NP(t,e,n,r,i){var s;let o;if(t){let c=r[t];cn(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),o=c.children}else o=n;let a=e.filter(c=>!o.some(u=>Fk(c,u))),l=jx(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...l)}function Fk(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>Fk(n,s))}):!1}async function CW(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];cn(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";xu(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!ZG.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,$n({},e(i),{lazy:void 0}))}async function AW(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function RW(t,e,n,r,i,s,o,a,l,c){let u=s.map(m=>m.route.lazy?CW(m.route,l,a):void 0),d=s.map((m,v)=>{let x=u[v],y=i.some(_=>_.route.id===m.route.id);return $n({},m,{shouldLoad:y,resolve:async _=>(_&&r.method==="GET"&&(m.route.lazy||m.route.loader)&&(y=!0),y?PW(e,r,m,x,_,c):Promise.resolve({type:Ln.data,result:void 0}))})}),p=await t({matches:d,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return p}async function PW(t,e,n,r,i,s){let o,a,l=c=>{let u,d=new Promise((v,x)=>u=x);a=()=>u(),e.signal.addEventListener("abort",a);let p=v=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:s},...v!==void 0?[v]:[]),m=(async()=>{try{return{type:"data",result:await(i?i(x=>p(x)):p())}}catch(v){return{type:"error",result:v}}})();return Promise.race([m,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(p=>{u=p}),r]);if(u!==void 0)throw u;o=d}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw Fi(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:Ln.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw Fi(404,{pathname:d})}cn(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Ln.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function IW(t){let{result:e,type:n}=t;if(Uk(e)){let d;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(p){return{type:Ln.error,error:p}}return n===Ln.error?{type:Ln.error,error:new Gx(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:Ln.data,data:d,statusCode:e.status,headers:e.headers}}if(n===Ln.error){if(BP(e)){var r,i;if(e.data instanceof Error){var s,o;return{type:Ln.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:Ln.error,error:new Gx(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:om(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:Ln.error,error:e,statusCode:om(e)?e.status:void 0}}if(FW(e)){var a,l;return{type:Ln.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(BP(e)){var c,u;return{type:Ln.data,data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:Ln.data,data:e}}function NW(t,e,n,r,i,s){let o=t.headers.get("Location");if(cn(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ZT.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=TM(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function DP(t,e,n){if(ZT.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Iu(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Ju(t,e,n,r){let i=t.createURL(kk(e)).toString(),s={signal:n};if(r&&no(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=AM(r.formData):s.body=r.formData}return new Request(i,s)}function AM(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function LP(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function DW(t,e,n,r,i){let s={},o=null,a,l=!1,c={},u=n&&ts(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let p=d.route.id,m=e[p];if(cn(!zc(m),"Cannot handle redirect results in processLoaderData"),ts(m)){let v=m.error;u!==void 0&&(v=u,u=void 0),o=o||{};{let x=Oc(t,p);o[x.route.id]==null&&(o[x.route.id]=v)}s[p]=void 0,l||(l=!0,a=om(m.error)?m.error.status:500),m.headers&&(c[p]=m.headers)}else Ml(m)?(r.set(p,m.deferredData),s[p]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(c[p]=m.headers)):(s[p]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(c[p]=m.headers))}),u!==void 0&&n&&(o={[n[0]]:u},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function OP(t,e,n,r,i,s,o){let{loaderData:a,errors:l}=DW(e,n,r,o);return i.forEach(c=>{let{key:u,match:d,controller:p}=c,m=s[u];if(cn(m,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(ts(m)){let v=Oc(t.matches,d==null?void 0:d.route.id);l&&l[v.route.id]||(l=$n({},l,{[v.route.id]:m.error})),t.fetchers.delete(u)}else if(zc(m))cn(!1,"Unhandled fetcher revalidation redirect");else if(Ml(m))cn(!1,"Unhandled fetcher deferred data");else{let v=rl(m.data);t.fetchers.set(u,v)}}),{loaderData:a,errors:l}}function FP(t,e,n,r){let i=$n({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function kP(t){return t?ts(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Oc(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function UP(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Fi(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Gx(t||500,a,new Error(l),!0)}function D0(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(zc(i))return{key:r,result:i}}}function kk(t){let e=typeof t=="string"?Kl(t):t;return yu($n({},e,{hash:""}))}function LW(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function OW(t){return Uk(t.result)&&_W.has(t.result.status)}function Ml(t){return t.type===Ln.deferred}function ts(t){return t.type===Ln.error}function zc(t){return(t&&t.type)===Ln.redirect}function BP(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function FW(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Uk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function kW(t){return yW.has(t.toLowerCase())}function no(t){return vW.has(t.toLowerCase())}async function UW(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],c=t.find(p=>(p==null?void 0:p.route.id)===a);if(!c)continue;let u=r.find(p=>p.route.id===c.route.id),d=u!=null&&!Ok(u,c)&&(i&&i[c.route.id])!==void 0;Ml(l)&&d&&await QT(l,n,!1).then(p=>{p&&(e[a]=p)})}}async function BW(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(c=>(c==null?void 0:c.route.id)===s)&&Ml(a)&&(cn(o,"Expected an AbortController for revalidating fetcher deferred result"),await QT(a,o.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function QT(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ln.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ln.error,error:i}}return{type:Ln.data,data:t.deferredData.data}}}function JT(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function lp(t,e){let n=typeof e=="string"?Kl(e).search:e.search;if(t[t.length-1].route.index&&JT(n||""))return t[t.length-1];let r=Nk(t);return r[r.length-1]}function zP(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function tS(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function zW(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Lh(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function VW(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function rl(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function HW(t,e){try{let n=t.sessionStorage.getItem(Lk);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function jW(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Lk,JSON.stringify(n))}catch(r){xu(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wx(){return Wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wx.apply(this,arguments)}const qm=E.createContext(null),eC=E.createContext(null),Zl=E.createContext(null),tC=E.createContext(null),Ql=E.createContext({outlet:null,matches:[],isDataRoute:!1}),Bk=E.createContext(null);function GW(t,e){let{relative:n}=e===void 0?{}:e;Km()||cn(!1);let{basename:r,navigator:i}=E.useContext(Zl),{hash:s,pathname:o,search:a}=Vk(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ba([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Km(){return E.useContext(tC)!=null}function Fa(){return Km()||cn(!1),E.useContext(tC).location}function zk(t){E.useContext(Zl).static||E.useLayoutEffect(t)}function WW(){let{isDataRoute:t}=E.useContext(Ql);return t?o7():XW()}function XW(){Km()||cn(!1);let t=E.useContext(qm),{basename:e,future:n,navigator:r}=E.useContext(Zl),{matches:i}=E.useContext(Ql),{pathname:s}=Fa(),o=JSON.stringify(qT(i,n.v7_relativeSplatPath)),a=E.useRef(!1);return zk(()=>{a.current=!0}),E.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=KT(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ba([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}const $W=E.createContext(null);function YW(t){let e=E.useContext(Ql).outlet;return e&&E.createElement($W.Provider,{value:t},e)}function Vk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(Zl),{matches:i}=E.useContext(Ql),{pathname:s}=Fa(),o=JSON.stringify(qT(i,r.v7_relativeSplatPath));return E.useMemo(()=>KT(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function qW(t,e,n,r){Km()||cn(!1);let{navigator:i}=E.useContext(Zl),{matches:s}=E.useContext(Ql),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Fa(),u;u=c;let d=u.pathname||"/",p=d;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(x.length).join("/")}let m=Lc(t,{pathname:p});return e7(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:ba([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:ba([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r)}function KW(){let t=s7(),e=om(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,null)}const ZW=E.createElement(KW,null);class QW extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(Ql.Provider,{value:this.props.routeContext},E.createElement(Bk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JW(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(qm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Ql.Provider,{value:e},r)}function e7(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||cn(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:p,errors:m}=n,v=d.route.loader&&p[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,p)=>{let m,v=!1,x=null,y=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,x=d.route.errorElement||ZW,l&&(c<0&&p===0?(a7("route-fallback"),v=!0,y=null):c===p&&(v=!0,y=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,p+1)),_=()=>{let S;return m?S=x:v?S=y:d.route.Component?S=E.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=u,E.createElement(JW,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:S})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?E.createElement(QW,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:_(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):_()},null)}var Hk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Hk||{}),jk=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(jk||{});function t7(t){let e=E.useContext(qm);return e||cn(!1),e}function nC(t){let e=E.useContext(eC);return e||cn(!1),e}function n7(t){let e=E.useContext(Ql);return e||cn(!1),e}function Gk(t){let e=n7(),n=e.matches[e.matches.length-1];return n.route.id||cn(!1),n.route.id}function r7(){return nC().navigation}function i7(){let{matches:t,loaderData:e}=nC();return E.useMemo(()=>t.map(n=>Rk(n,e)),[t,e])}function s7(){var t;let e=E.useContext(Bk),n=nC(),r=Gk();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function o7(){let{router:t}=t7(Hk.UseNavigateStable),e=Gk(jk.UseNavigateStable),n=E.useRef(!1);return zk(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Wx({fromRouteId:e},s)))},[t,e])}const VP={};function a7(t,e,n){VP[t]||(VP[t]=!0)}function l7(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Wk(t){return YW(t.context)}function rx(t){cn(!1)}function c7(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Sr.Pop,navigator:s,static:o=!1,future:a}=t;Km()&&cn(!1);let l=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:s,static:o,future:Wx({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Kl(r));let{pathname:u="/",search:d="",hash:p="",state:m=null,key:v="default"}=r,x=E.useMemo(()=>{let y=Iu(u,l);return y==null?null:{location:{pathname:y,search:d,hash:p,state:m,key:v},navigationType:i}},[l,u,d,p,m,v,i]);return x==null?null:E.createElement(Zl.Provider,{value:c},E.createElement(tC.Provider,{children:n,value:x}))}new Promise(()=>{});function RM(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){n.push.apply(n,RM(r.props.children,s));return}r.type!==rx&&cn(!1),!r.props.index||!r.props.children||cn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=RM(r.props.children,s)),n.push(o)}),n}function u7(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:E.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:E.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:E.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ef(){return Ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ef.apply(this,arguments)}function d7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function f7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function h7(t,e){return t.button===0&&(!e||e==="_self")&&!f7(t)}const p7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m7="6";try{window.__reactRouterVersion=m7}catch{}function g7(t,e){return MW({basename:void 0,future:Ef({},void 0,{v7_prependBasename:!0}),history:YG({window:void 0}),hydrationData:v7(),routes:t,mapRouteProperties:u7,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function v7(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ef({},e,{errors:x7(e.errors)})),e}function x7(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Gx(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const y7=E.createContext({isTransitioning:!1}),_7=E.createContext(new Map),w7="startTransition",HP=e_[w7],S7="flushSync",jP=$G[S7];function b7(t){HP?HP(t):t()}function Oh(t){jP?jP(t):t()}class M7{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function E7(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=E.useState(n.state),[o,a]=E.useState(),[l,c]=E.useState({isTransitioning:!1}),[u,d]=E.useState(),[p,m]=E.useState(),[v,x]=E.useState(),y=E.useRef(new Map),{v7_startTransition:g}=r||{},_=E.useCallback(D=>{g?b7(D):D()},[g]),S=E.useCallback((D,N)=>{let{deletedFetchers:I,flushSync:F,viewTransitionOpts:V}=N;D.fetchers.forEach((G,ee)=>{G.data!==void 0&&y.current.set(ee,G.data)}),I.forEach(G=>y.current.delete(G));let Y=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!V||Y){F?Oh(()=>s(D)):_(()=>s(D));return}if(F){Oh(()=>{p&&(u&&u.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let G=n.window.document.startViewTransition(()=>{Oh(()=>s(D))});G.finished.finally(()=>{Oh(()=>{d(void 0),m(void 0),a(void 0),c({isTransitioning:!1})})}),Oh(()=>m(G));return}p?(u&&u.resolve(),p.skipTransition(),x({state:D,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(a(D),c({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[n.window,p,u,y,_]);E.useLayoutEffect(()=>n.subscribe(S),[n,S]),E.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new M7)},[l]),E.useEffect(()=>{if(u&&o&&n.window){let D=o,N=u.promise,I=n.window.document.startViewTransition(async()=>{_(()=>s(D)),await N});I.finished.finally(()=>{d(void 0),m(void 0),a(void 0),c({isTransitioning:!1})}),m(I)}},[_,o,u,n.window]),E.useEffect(()=>{u&&o&&i.location.key===o.location.key&&u.resolve()},[u,p,i.location,o]),E.useEffect(()=>{!l.isTransitioning&&v&&(a(v.state),c({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),x(void 0))},[l.isTransitioning,v]),E.useEffect(()=>{},[]);let M=E.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:D=>n.navigate(D),push:(D,N,I)=>n.navigate(D,{state:N,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(D,N,I)=>n.navigate(D,{replace:!0,state:N,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[n]),A=n.basename||"/",R=E.useMemo(()=>({router:n,navigator:M,static:!1,basename:A}),[n,M,A]),C=E.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return E.useEffect(()=>l7(r,n.future),[r,n.future]),E.createElement(E.Fragment,null,E.createElement(qm.Provider,{value:R},E.createElement(eC.Provider,{value:i},E.createElement(_7.Provider,{value:y.current},E.createElement(y7.Provider,{value:l},E.createElement(c7,{basename:A,location:i.location,navigationType:i.historyAction,navigator:M,future:C},i.initialized||n.future.v7_partialHydration?E.createElement(T7,{routes:n.routes,future:n.future,state:i}):e))))),null)}const T7=E.memo(C7);function C7(t){let{routes:e,future:n,state:r}=t;return qW(e,void 0,r,n)}const A7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",R7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mr=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,p=d7(e,p7),{basename:m}=E.useContext(Zl),v,x=!1;if(typeof c=="string"&&R7.test(c)&&(v=c,A7))try{let S=new URL(window.location.href),M=c.startsWith("//")?new URL(S.protocol+c):new URL(c),A=Iu(M.pathname,m);M.origin===S.origin&&A!=null?c=A+M.search+M.hash:x=!0}catch{}let y=GW(c,{relative:i}),g=D7(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function _(S){r&&r(S),S.defaultPrevented||g(S)}return E.createElement("a",Ef({},p,{href:v||y,onClick:x||s?r:_,ref:n,target:l}))});function P7(t){let{getKey:e,storageKey:n}=t;return L7({getKey:e,storageKey:n}),null}var PM;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(PM||(PM={}));var IM;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(IM||(IM={}));function I7(t){let e=E.useContext(qm);return e||cn(!1),e}function N7(t){let e=E.useContext(eC);return e||cn(!1),e}function D7(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=WW(),c=Fa(),u=Vk(t,{relative:o});return E.useCallback(d=>{if(h7(d,n)){d.preventDefault();let p=r!==void 0?r:yu(c)===yu(u);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}const GP="react-router-scroll-positions";let L0={};function L7(t){let{getKey:e,storageKey:n}=t===void 0?{}:t,{router:r}=I7(PM.UseScrollRestoration),{restoreScrollPosition:i,preventScrollReset:s}=N7(IM.UseScrollRestoration),{basename:o}=E.useContext(Zl),a=Fa(),l=i7(),c=r7();E.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),O7(E.useCallback(()=>{if(c.state==="idle"){let u=(e?e(a,l):null)||a.key;L0[u]=window.scrollY}try{sessionStorage.setItem(n||GP,JSON.stringify(L0))}catch{}window.history.scrollRestoration="auto"},[n,e,c.state,a,l])),typeof document<"u"&&(E.useLayoutEffect(()=>{try{let u=sessionStorage.getItem(n||GP);u&&(L0=JSON.parse(u))}catch{}},[n]),E.useLayoutEffect(()=>{let u=e&&o!=="/"?(p,m)=>e(Ef({},p,{pathname:Iu(p.pathname,o)||p.pathname}),m):e,d=r==null?void 0:r.enableScrollRestoration(L0,()=>window.scrollY,u);return()=>d&&d()},[r,o,e]),E.useLayoutEffect(()=>{if(i!==!1){if(typeof i=="number"){window.scrollTo(0,i);return}if(a.hash){let u=document.getElementById(decodeURIComponent(a.hash.slice(1)));if(u){u.scrollIntoView();return}}s!==!0&&window.scrollTo(0,0)}},[a,i,s]))}function O7(t,e){let{capture:n}={};E.useEffect(()=>{let r=n!=null?{capture:n}:void 0;return window.addEventListener("pagehide",t,r),()=>{window.removeEventListener("pagehide",t,r)}},[t,n])}const Xk=E.createContext(null);function F7({children:t}){const[e,n]=E.useState("idle"),r=Fa(),i=r.pathname==="/";return E.useEffect(()=>{i||n("complete")},[r.pathname]),T.jsx(Xk.Provider,{value:{stage:e,setStage:n,isHome:i},children:t})}function rC(){const t=E.useContext(Xk);if(!t)throw new Error("useStartup must be used within StartupProvider");return t}const k7=1,U7=1e6;let nS=0;function B7(){return nS=(nS+1)%Number.MAX_SAFE_INTEGER,nS.toString()}const rS=new Map,WP=t=>{if(rS.has(t))return;const e=setTimeout(()=>{rS.delete(t),Ep({type:"REMOVE_TOAST",toastId:t})},U7);rS.set(t,e)},z7=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,k7)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?WP(n):t.toasts.forEach(r=>{WP(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},ix=[];let sx={toasts:[]};function Ep(t){sx=z7(sx,t),ix.forEach(e=>{e(sx)})}function V7({...t}){const e=B7(),n=i=>Ep({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Ep({type:"DISMISS_TOAST",toastId:e});return Ep({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function H7(){const[t,e]=E.useState(sx);return E.useEffect(()=>(ix.push(e),()=>{const n=ix.indexOf(e);n>-1&&ix.splice(n,1)}),[t]),{...t,toast:V7,dismiss:n=>Ep({type:"DISMISS_TOAST",toastId:n})}}function zt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function XP(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Jl(...t){return e=>{let n=!1;const r=t.map(i=>{const s=XP(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():XP(t[i],null)}}}}function sr(...t){return E.useCallback(Jl(...t),t)}function j7(t,e){const n=E.createContext(e),r=s=>{const{children:o,...a}=s,l=E.useMemo(()=>a,Object.values(a));return T.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=E.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function mo(t,e=[]){let n=[];function r(s,o){const a=E.createContext(o),l=n.length;n=[...n,o];const c=d=>{var g;const{scope:p,children:m,...v}=d,x=((g=p==null?void 0:p[t])==null?void 0:g[l])||a,y=E.useMemo(()=>v,Object.values(v));return T.jsx(x.Provider,{value:y,children:m})};c.displayName=s+"Provider";function u(d,p){var x;const m=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,v=E.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>E.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return E.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,G7(i,...e)]}function G7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function $P(t){const e=W7(t),n=E.forwardRef((r,i)=>{const{children:s,...o}=r,a=E.Children.toArray(s),l=a.find($7);if(l){const c=l.props.children,u=a.map(d=>d===l?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:d);return T.jsx(e,{...o,ref:i,children:E.isValidElement(c)?E.cloneElement(c,void 0,u):null})}return T.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function W7(t){const e=E.forwardRef((n,r)=>{const{children:i,...s}=n;if(E.isValidElement(i)){const o=q7(i),a=Y7(s,i.props);return i.type!==E.Fragment&&(a.ref=r?Jl(r,o):o),E.cloneElement(i,a)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var X7=Symbol("radix.slottable");function $7(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===X7}function Y7(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function q7(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function g_(t){const e=t+"CollectionProvider",[n,r]=mo(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:y,children:g}=x,_=Qe.useRef(null),S=Qe.useRef(new Map).current;return T.jsx(i,{scope:y,itemMap:S,collectionRef:_,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=$P(a),c=Qe.forwardRef((x,y)=>{const{scope:g,children:_}=x,S=s(a,g),M=sr(y,S.collectionRef);return T.jsx(l,{ref:M,children:_})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",p=$P(u),m=Qe.forwardRef((x,y)=>{const{scope:g,children:_,...S}=x,M=Qe.useRef(null),A=sr(y,M),R=s(u,g);return Qe.useEffect(()=>(R.itemMap.set(M,{ref:M,...S}),()=>void R.itemMap.delete(M))),T.jsx(p,{[d]:"",ref:A,children:_})});m.displayName=u;function v(x){const y=s(t+"CollectionConsumer",x);return Qe.useCallback(()=>{const _=y.collectionRef.current;if(!_)return[];const S=Array.from(_.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((R,C)=>S.indexOf(R.ref.current)-S.indexOf(C.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},v,r]}function K7(t){const e=Z7(t),n=E.forwardRef((r,i)=>{const{children:s,...o}=r,a=E.Children.toArray(s),l=a.find(J7);if(l){const c=l.props.children,u=a.map(d=>d===l?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:d);return T.jsx(e,{...o,ref:i,children:E.isValidElement(c)?E.cloneElement(c,void 0,u):null})}return T.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function Z7(t){const e=E.forwardRef((n,r)=>{const{children:i,...s}=n;if(E.isValidElement(i)){const o=tX(i),a=eX(s,i.props);return i.type!==E.Fragment&&(a.ref=r?Jl(r,o):o),E.cloneElement(i,a)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Q7=Symbol("radix.slottable");function J7(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Q7}function eX(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function tX(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var nX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],hn=nX.reduce((t,e)=>{const n=K7(`Primitive.${e}`),r=E.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function iC(t,e){t&&Yf.flushSync(()=>t.dispatchEvent(e))}function $i(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function rX(t,e=globalThis==null?void 0:globalThis.document){const n=$i(t);E.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var iX="DismissableLayer",NM="dismissableLayer.update",sX="dismissableLayer.pointerDownOutside",oX="dismissableLayer.focusOutside",YP,$k=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zm=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=E.useContext($k),[u,d]=E.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=E.useState({}),v=sr(e,C=>d(C)),x=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(y),_=u?x.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,M=_>=g,A=lX(C=>{const D=C.target,N=[...c.branches].some(I=>I.contains(D));!M||N||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),R=cX(C=>{const D=C.target;[...c.branches].some(I=>I.contains(D))||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return rX(C=>{_===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),E.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(YP=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),qP(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=YP)}},[u,p,n,c]),E.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),qP())},[u,c]),E.useEffect(()=>{const C=()=>m({});return document.addEventListener(NM,C),()=>document.removeEventListener(NM,C)},[]),T.jsx(hn.div,{...l,ref:v,style:{pointerEvents:S?M?"auto":"none":void 0,...t.style},onFocusCapture:zt(t.onFocusCapture,R.onFocusCapture),onBlurCapture:zt(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:zt(t.onPointerDownCapture,A.onPointerDownCapture)})});Zm.displayName=iX;var aX="DismissableLayerBranch",Yk=E.forwardRef((t,e)=>{const n=E.useContext($k),r=E.useRef(null),i=sr(e,r);return E.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),T.jsx(hn.div,{...t,ref:i})});Yk.displayName=aX;function lX(t,e=globalThis==null?void 0:globalThis.document){const n=$i(t),r=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){qk(sX,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function cX(t,e=globalThis==null?void 0:globalThis.document){const n=$i(t),r=E.useRef(!1);return E.useEffect(()=>{const i=s=>{s.target&&!r.current&&qk(oX,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function qP(){const t=new CustomEvent(NM);document.dispatchEvent(t)}function qk(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?iC(i,s):i.dispatchEvent(s)}var uX=Zm,dX=Yk,us=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},fX="Portal",v_=E.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=E.useState(!1);us(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?YT.createPortal(T.jsx(hn.div,{...r,ref:e}),o):null});v_.displayName=fX;function hX(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var Bs=t=>{const{present:e,children:n}=t,r=pX(e),i=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),s=sr(r.ref,mX(i));return typeof n=="function"||r.isPresent?E.cloneElement(i,{ref:s}):null};Bs.displayName="Presence";function pX(t){const[e,n]=E.useState(),r=E.useRef(null),i=E.useRef(t),s=E.useRef("none"),o=t?"mounted":"unmounted",[a,l]=hX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const c=O0(r.current);s.current=a==="mounted"?c:"none"},[a]),us(()=>{const c=r.current,u=i.current;if(u!==t){const p=s.current,m=O0(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),us(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=m=>{const x=O0(r.current).includes(CSS.escape(m.animationName));if(m.target===e&&x&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},p=m=>{m.target===e&&(s.current=O0(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function O0(t){return(t==null?void 0:t.animationName)||"none"}function mX(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var gX=e_[" useInsertionEffect ".trim().toString()]||us;function ec({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=vX({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=E.useRef(t!==void 0);E.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=E.useCallback(u=>{var d;if(a){const p=xX(u)?u(t):u;p!==t&&((d=o.current)==null||d.call(o,p))}else s(u)},[a,t,s,o]);return[l,c]}function vX({defaultProp:t,onChange:e}){const[n,r]=E.useState(t),i=E.useRef(n),s=E.useRef(e);return gX(()=>{s.current=e},[e]),E.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function xX(t){return typeof t=="function"}var yX=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_X="VisuallyHidden",x_=E.forwardRef((t,e)=>T.jsx(hn.span,{...t,ref:e,style:{...yX,...t.style}}));x_.displayName=_X;var wX=x_,sC="ToastProvider",[oC,SX,bX]=g_("Toast"),[Kk]=mo("Toast",[bX]),[MX,y_]=Kk(sC),Zk=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=E.useState(null),[c,u]=E.useState(0),d=E.useRef(!1),p=E.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${sC}\`. Expected non-empty \`string\`.`),T.jsx(oC.Provider,{scope:e,children:T.jsx(MX,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:E.useCallback(()=>u(m=>m+1),[]),onToastRemove:E.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:p,children:o})})};Zk.displayName=sC;var Qk="ToastViewport",EX=["F8"],DM="toast.viewportPause",LM="toast.viewportResume",Jk=E.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=EX,label:i="Notifications ({hotkey})",...s}=t,o=y_(Qk,n),a=SX(n),l=E.useRef(null),c=E.useRef(null),u=E.useRef(null),d=E.useRef(null),p=sr(e,d,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;E.useEffect(()=>{const y=g=>{var S;r.length!==0&&r.every(M=>g[M]||g.code===M)&&((S=d.current)==null||S.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),E.useEffect(()=>{const y=l.current,g=d.current;if(v&&y&&g){const _=()=>{if(!o.isClosePausedRef.current){const R=new CustomEvent(DM);g.dispatchEvent(R),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const R=new CustomEvent(LM);g.dispatchEvent(R),o.isClosePausedRef.current=!1}},M=R=>{!y.contains(R.relatedTarget)&&S()},A=()=>{y.contains(document.activeElement)||S()};return y.addEventListener("focusin",_),y.addEventListener("focusout",M),y.addEventListener("pointermove",_),y.addEventListener("pointerleave",A),window.addEventListener("blur",_),window.addEventListener("focus",S),()=>{y.removeEventListener("focusin",_),y.removeEventListener("focusout",M),y.removeEventListener("pointermove",_),y.removeEventListener("pointerleave",A),window.removeEventListener("blur",_),window.removeEventListener("focus",S)}}},[v,o.isClosePausedRef]);const x=E.useCallback(({tabbingDirection:y})=>{const _=a().map(S=>{const M=S.ref.current,A=[M,...UX(M)];return y==="forwards"?A:A.reverse()});return(y==="forwards"?_.reverse():_).flat()},[a]);return E.useEffect(()=>{const y=d.current;if(y){const g=_=>{var A,R,C;const S=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!S){const D=document.activeElement,N=_.shiftKey;if(_.target===y&&N){(A=c.current)==null||A.focus();return}const V=x({tabbingDirection:N?"backwards":"forwards"}),Y=V.findIndex(G=>G===D);iS(V.slice(Y+1))?_.preventDefault():N?(R=c.current)==null||R.focus():(C=u.current)==null||C.focus()}};return y.addEventListener("keydown",g),()=>y.removeEventListener("keydown",g)}},[a,x]),T.jsxs(dX,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&T.jsx(OM,{ref:c,onFocusFromOutsideViewport:()=>{const y=x({tabbingDirection:"forwards"});iS(y)}}),T.jsx(oC.Slot,{scope:n,children:T.jsx(hn.ol,{tabIndex:-1,...s,ref:p})}),v&&T.jsx(OM,{ref:u,onFocusFromOutsideViewport:()=>{const y=x({tabbingDirection:"backwards"});iS(y)}})]})});Jk.displayName=Qk;var eU="ToastFocusProxy",OM=E.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=y_(eU,n);return T.jsx(x_,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});OM.displayName=eU;var Qm="Toast",TX="toast.swipeStart",CX="toast.swipeMove",AX="toast.swipeCancel",RX="toast.swipeEnd",tU=E.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a,l]=ec({prop:r,defaultProp:i??!0,onChange:s,caller:Qm});return T.jsx(Bs,{present:n||a,children:T.jsx(NX,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:$i(t.onPause),onResume:$i(t.onResume),onSwipeStart:zt(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:zt(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:zt(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:zt(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});tU.displayName=Qm;var[PX,IX]=Kk(Qm,{onClose(){}}),NX=E.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:p,onSwipeEnd:m,...v}=t,x=y_(Qm,n),[y,g]=E.useState(null),_=sr(e,G=>g(G)),S=E.useRef(null),M=E.useRef(null),A=i||x.duration,R=E.useRef(0),C=E.useRef(A),D=E.useRef(0),{onToastAdd:N,onToastRemove:I}=x,F=$i(()=>{var ee;(y==null?void 0:y.contains(document.activeElement))&&((ee=x.viewport)==null||ee.focus()),o()}),V=E.useCallback(G=>{!G||G===1/0||(window.clearTimeout(D.current),R.current=new Date().getTime(),D.current=window.setTimeout(F,G))},[F]);E.useEffect(()=>{const G=x.viewport;if(G){const ee=()=>{V(C.current),c==null||c()},Q=()=>{const ie=new Date().getTime()-R.current;C.current=C.current-ie,window.clearTimeout(D.current),l==null||l()};return G.addEventListener(DM,Q),G.addEventListener(LM,ee),()=>{G.removeEventListener(DM,Q),G.removeEventListener(LM,ee)}}},[x.viewport,A,l,c,V]),E.useEffect(()=>{s&&!x.isClosePausedRef.current&&V(A)},[s,A,x.isClosePausedRef,V]),E.useEffect(()=>(N(),()=>I()),[N,I]);const Y=E.useMemo(()=>y?lU(y):null,[y]);return x.viewport?T.jsxs(T.Fragment,{children:[Y&&T.jsx(DX,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:Y}),T.jsx(PX,{scope:n,onClose:F,children:Yf.createPortal(T.jsx(oC.ItemSlot,{scope:n,children:T.jsx(uX,{asChild:!0,onEscapeKeyDown:zt(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||F(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:T.jsx(hn.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...v,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:zt(t.onKeyDown,G=>{G.key==="Escape"&&(a==null||a(G.nativeEvent),G.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:zt(t.onPointerDown,G=>{G.button===0&&(S.current={x:G.clientX,y:G.clientY})}),onPointerMove:zt(t.onPointerMove,G=>{if(!S.current)return;const ee=G.clientX-S.current.x,Q=G.clientY-S.current.y,ie=!!M.current,z=["left","right"].includes(x.swipeDirection),H=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,$=z?H(0,ee):0,oe=z?0:H(0,Q),pe=G.pointerType==="touch"?10:2,Me={x:$,y:oe},Ue={originalEvent:G,delta:Me};ie?(M.current=Me,F0(CX,d,Ue,{discrete:!1})):KP(Me,x.swipeDirection,pe)?(M.current=Me,F0(TX,u,Ue,{discrete:!1}),G.target.setPointerCapture(G.pointerId)):(Math.abs(ee)>pe||Math.abs(Q)>pe)&&(S.current=null)}),onPointerUp:zt(t.onPointerUp,G=>{const ee=M.current,Q=G.target;if(Q.hasPointerCapture(G.pointerId)&&Q.releasePointerCapture(G.pointerId),M.current=null,S.current=null,ee){const ie=G.currentTarget,z={originalEvent:G,delta:ee};KP(ee,x.swipeDirection,x.swipeThreshold)?F0(RX,m,z,{discrete:!0}):F0(AX,p,z,{discrete:!0}),ie.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),DX=t=>{const{__scopeToast:e,children:n,...r}=t,i=y_(Qm,e),[s,o]=E.useState(!1),[a,l]=E.useState(!1);return FX(()=>o(!0)),E.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:T.jsx(v_,{asChild:!0,children:T.jsx(x_,{...r,children:s&&T.jsxs(T.Fragment,{children:[i.label," ",n]})})})},LX="ToastTitle",nU=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return T.jsx(hn.div,{...r,ref:e})});nU.displayName=LX;var OX="ToastDescription",rU=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return T.jsx(hn.div,{...r,ref:e})});rU.displayName=OX;var iU="ToastAction",sU=E.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?T.jsx(aU,{altText:n,asChild:!0,children:T.jsx(aC,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${iU}\`. Expected non-empty \`string\`.`),null)});sU.displayName=iU;var oU="ToastClose",aC=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=IX(oU,n);return T.jsx(aU,{asChild:!0,children:T.jsx(hn.button,{type:"button",...r,ref:e,onClick:zt(t.onClick,i.onClose)})})});aC.displayName=oU;var aU=E.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return T.jsx(hn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function lU(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),kX(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...lU(r))}}),e}function F0(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?iC(i,s):i.dispatchEvent(s)}var KP=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function FX(t=()=>{}){const e=$i(t);us(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function kX(t){return t.nodeType===t.ELEMENT_NODE}function UX(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function iS(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var BX=Zk,cU=Jk,uU=tU,dU=nU,fU=rU,hU=sU,pU=aC;function mU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=mU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gU(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=mU(t))&&(r&&(r+=" "),r+=e);return r}const ZP=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,QP=gU,lC=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return QP(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const p=ZP(u)||ZP(d);return i[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,p]=u;return p===void 0||(c[d]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:p,...m}=u;return Object.entries(m).every(v=>{let[x,y]=v;return Array.isArray(y)?y.includes({...s,...a}[x]):{...s,...a}[x]===y})?[...c,d,p]:c},[]);return QP(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vU=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>E.createElement("svg",{ref:l,...VX,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:vU("lucide",i),...a},[...o.map(([c,u])=>E.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=(t,e)=>{const n=E.forwardRef(({className:r,...i},s)=>E.createElement(HX,{ref:s,iconNode:e,className:vU(`lucide-${zX(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=xn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=xn("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GX=xn("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=xn("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WX=xn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XX=xn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=xn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YX=xn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=xn("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=xn("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZX=xn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QX=xn("CloudDownload",[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JX=xn("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=xn("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=xn("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=xn("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=xn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=xn("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=xn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=xn("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=xn("MicVocal",[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=xn("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=xn("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=xn("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=xn("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=xn("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=xn("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=xn("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=xn("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=xn("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=xn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=xn("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=xn("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=xn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dC="-",y$=t=>{const e=w$(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(dC);return a[0]===""&&a.length!==1&&a.shift(),_U(a,e)||_$(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},_U=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?_U(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(dC);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},JP=/^\[(.+)\]$/,_$=t=>{if(JP.test(t)){const e=JP.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},w$=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return b$(Object.entries(t.classGroups),n).forEach(([s,o])=>{FM(o,r,s,e)}),r},FM=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:eI(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(S$(i)){FM(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{FM(o,eI(e,s),n,r)})})},eI=(t,e)=>{let n=t;return e.split(dC).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},S$=t=>t.isThemeGetter,b$=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,M$=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},wU="!",E$=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let y=0;y<a.length;y++){let g=a[y];if(c===0){if(g===i&&(r||a.slice(y,y+s)===e)){l.push(a.slice(u,y)),u=y+s;continue}if(g==="/"){d=y;continue}}g==="["?c++:g==="]"&&c--}const p=l.length===0?a:a.substring(u),m=p.startsWith(wU),v=m?p.substring(1):p,x=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:o}):o},T$=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},C$=t=>({cache:M$(t.cacheSize),parseClassName:E$(t),...y$(t)}),A$=/\s+/,R$=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(A$);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let v=!!m,x=r(v?p.substring(0,m):p);if(!x){if(!v){a=c+(a.length>0?" "+a:a);continue}if(x=r(p),!x){a=c+(a.length>0?" "+a:a);continue}v=!1}const y=T$(u).join(":"),g=d?y+wU:y,_=g+x;if(s.includes(_))continue;s.push(_);const S=i(x,v);for(let M=0;M<S.length;++M){const A=S[M];s.push(g+A)}a=c+(a.length>0?" "+a:a)}return a};function P$(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=SU(e))&&(r&&(r+=" "),r+=n);return r}const SU=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=SU(t[r]))&&(n&&(n+=" "),n+=e);return n};function I$(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=C$(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=R$(l,n);return i(l,u),u}return function(){return s(P$.apply(null,arguments))}}const Hn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},bU=/^\[(?:([a-z-]+):)?(.+)\]$/i,N$=/^\d+\/\d+$/,D$=new Set(["px","full","screen"]),L$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,O$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,F$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,k$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,U$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,sa=t=>Jd(t)||D$.has(t)||N$.test(t),$a=t=>qf(t,"length",X$),Jd=t=>!!t&&!Number.isNaN(Number(t)),sS=t=>qf(t,"number",Jd),Fh=t=>!!t&&Number.isInteger(Number(t)),B$=t=>t.endsWith("%")&&Jd(t.slice(0,-1)),an=t=>bU.test(t),Ya=t=>L$.test(t),z$=new Set(["length","size","percentage"]),V$=t=>qf(t,z$,MU),H$=t=>qf(t,"position",MU),j$=new Set(["image","url"]),G$=t=>qf(t,j$,Y$),W$=t=>qf(t,"",$$),kh=()=>!0,qf=(t,e,n)=>{const r=bU.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},X$=t=>O$.test(t)&&!F$.test(t),MU=()=>!1,$$=t=>k$.test(t),Y$=t=>U$.test(t),q$=()=>{const t=Hn("colors"),e=Hn("spacing"),n=Hn("blur"),r=Hn("brightness"),i=Hn("borderColor"),s=Hn("borderRadius"),o=Hn("borderSpacing"),a=Hn("borderWidth"),l=Hn("contrast"),c=Hn("grayscale"),u=Hn("hueRotate"),d=Hn("invert"),p=Hn("gap"),m=Hn("gradientColorStops"),v=Hn("gradientColorStopPositions"),x=Hn("inset"),y=Hn("margin"),g=Hn("opacity"),_=Hn("padding"),S=Hn("saturate"),M=Hn("scale"),A=Hn("sepia"),R=Hn("skew"),C=Hn("space"),D=Hn("translate"),N=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",an,e],V=()=>[an,e],Y=()=>["",sa,$a],G=()=>["auto",Jd,an],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",an],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>[Jd,an];return{cacheSize:500,separator:":",theme:{colors:[kh],spacing:[sa,$a],blur:["none","",Ya,an],brightness:oe(),borderColor:[t],borderRadius:["none","","full",Ya,an],borderSpacing:V(),borderWidth:Y(),contrast:oe(),grayscale:H(),hueRotate:oe(),invert:H(),gap:V(),gradientColorStops:[t],gradientColorStopPositions:[B$,$a],inset:F(),margin:F(),opacity:oe(),padding:V(),saturate:oe(),scale:oe(),sepia:H(),skew:oe(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",an]}],container:["container"],columns:[{columns:[Ya]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),an]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fh,an]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",an]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",Fh,an]}],"grid-cols":[{"grid-cols":[kh]}],"col-start-end":[{col:["auto",{span:["full",Fh,an]},an]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[kh]}],"row-start-end":[{row:["auto",{span:[Fh,an]},an]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",an]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",an]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",an,e]}],"min-w":[{"min-w":[an,e,"min","max","fit"]}],"max-w":[{"max-w":[an,e,"none","full","min","max","fit","prose",{screen:[Ya]},Ya]}],h:[{h:[an,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[an,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[an,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[an,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ya,$a]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sS]}],"font-family":[{font:[kh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",an]}],"line-clamp":[{"line-clamp":["none",Jd,sS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",sa,an]}],"list-image":[{"list-image":["none",an]}],"list-style-type":[{list:["none","disc","decimal",an]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",sa,$a]}],"underline-offset":[{"underline-offset":["auto",sa,an]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",an]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",an]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),H$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",V$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},G$]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:Q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[sa,an]}],"outline-w":[{outline:[sa,$a]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[sa,$a]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ya,W$]}],"shadow-color":[{shadow:[kh]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ya,an]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[S]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",an]}],duration:[{duration:oe()}],ease:[{ease:["linear","in","out","in-out",an]}],delay:[{delay:oe()}],animate:[{animate:["none","spin","ping","pulse","bounce",an]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[Fh,an]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",an]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",an]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",an]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[sa,$a,sS]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},K$=I$(q$);function Ht(...t){return K$(gU(t))}const Z$=BX,EU=E.forwardRef(({className:t,...e},n)=>T.jsx(cU,{ref:n,className:Ht("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));EU.displayName=cU.displayName;const Q$=lC("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),TU=E.forwardRef(({className:t,variant:e,...n},r)=>T.jsx(uU,{ref:r,className:Ht(Q$({variant:e}),t),...n}));TU.displayName=uU.displayName;const J$=E.forwardRef(({className:t,...e},n)=>T.jsx(hU,{ref:n,className:Ht("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));J$.displayName=hU.displayName;const CU=E.forwardRef(({className:t,...e},n)=>T.jsx(pU,{ref:n,className:Ht("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:T.jsx(yU,{className:"h-4 w-4"})}));CU.displayName=pU.displayName;const AU=E.forwardRef(({className:t,...e},n)=>T.jsx(dU,{ref:n,className:Ht("text-sm font-semibold",t),...e}));AU.displayName=dU.displayName;const RU=E.forwardRef(({className:t,...e},n)=>T.jsx(fU,{ref:n,className:Ht("text-sm opacity-90",t),...e}));RU.displayName=fU.displayName;function eY(){const{toasts:t}=H7();return T.jsxs(Z$,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return T.jsxs(TU,{...s,children:[T.jsxs("div",{className:"grid gap-1",children:[n&&T.jsx(AU,{children:n}),r&&T.jsx(RU,{children:r})]}),i,T.jsx(CU,{})]},e)}),T.jsx(EU,{})]})}var tY=(t,e,n,r,i,s,o,a)=>{let l=document.documentElement,c=["light","dark"];function u(m){(Array.isArray(t)?t:[t]).forEach(v=>{let x=v==="class",y=x&&s?i.map(g=>s[g]||g):i;x?(l.classList.remove(...y),l.classList.add(s&&s[m]?s[m]:m)):l.setAttribute(v,m)}),d(m)}function d(m){a&&c.includes(m)&&(l.style.colorScheme=m)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)u(r);else try{let m=localStorage.getItem(e)||n,v=o&&m==="system"?p():m;u(v)}catch{}},nY=E.createContext(void 0),rY={setTheme:t=>{},themes:[]},iY=()=>{var t;return(t=E.useContext(nY))!=null?t:rY};E.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,themes:a,nonce:l,scriptProps:c})=>{let u=JSON.stringify([n,e,s,t,a,o,r,i]).slice(1,-1);return E.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${tY.toString()})(${u})`}})});var sY=t=>{switch(t){case"success":return lY;case"info":return uY;case"warning":return cY;case"error":return dY;default:return null}},oY=Array(12).fill(0),aY=({visible:t,className:e})=>Qe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Qe.createElement("div",{className:"sonner-spinner"},oY.map((n,r)=>Qe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),lY=Qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Qe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),cY=Qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Qe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),uY=Qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Qe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),dY=Qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Qe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fY=Qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Qe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Qe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),hY=()=>{let[t,e]=Qe.useState(document.hidden);return Qe.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},kM=1,pY=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:kM++,s=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:n}),{...a,...t,id:i,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,s,o=r.then(async l=>{if(s=["resolve",l],Qe.isValidElement(l))i=!1,this.create({id:n,type:"default",message:l});else if(gY(l)&&!l.ok){i=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:u})}else if(e.success!==void 0){i=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:u})}}).catch(async l=>{if(s=["reject",l],e.error!==void 0){i=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:u})}}).finally(()=>{var l;i&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>s[0]==="reject"?c(s[1]):l(s[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||kM++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ki=new pY,mY=(t,e)=>{let n=(e==null?void 0:e.id)||kM++;return ki.addToast({title:t,...e,id:n}),n},gY=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",vY=mY,xY=()=>ki.toasts,yY=()=>ki.getActiveToasts();Object.assign(vY,{success:ki.success,info:ki.info,warning:ki.warning,error:ki.error,custom:ki.custom,message:ki.message,promise:ki.promise,dismiss:ki.dismiss,loading:ki.loading},{getHistory:xY,getToasts:yY});function _Y(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}_Y(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function k0(t){return t.label!==void 0}var wY=3,SY="32px",bY="16px",tI=4e3,MY=356,EY=14,TY=20,CY=200;function Gs(...t){return t.filter(Boolean).join(" ")}function AY(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var RY=t=>{var e,n,r,i,s,o,a,l,c,u,d;let{invert:p,toast:m,unstyled:v,interacting:x,setHeights:y,visibleToasts:g,heights:_,index:S,toasts:M,expanded:A,removeToast:R,defaultRichColors:C,closeButton:D,style:N,cancelButtonStyle:I,actionButtonStyle:F,className:V="",descriptionClassName:Y="",duration:G,position:ee,gap:Q,loadingIcon:ie,expandByDefault:z,classNames:H,icons:$,closeButtonAriaLabel:oe="Close toast",pauseWhenPageIsHidden:pe}=t,[Me,Ue]=Qe.useState(null),[at,ae]=Qe.useState(null),[fe,je]=Qe.useState(!1),[ct,st]=Qe.useState(!1),[ut,Be]=Qe.useState(!1),[Ye,Te]=Qe.useState(!1),[j,Ae]=Qe.useState(!1),[Ve,qe]=Qe.useState(0),[Fe,pt]=Qe.useState(0),et=Qe.useRef(m.duration||G||tI),vt=Qe.useRef(null),W=Qe.useRef(null),U=S===0,de=S+1<=g,be=m.type,Ne=m.dismissible!==!1,we=m.className||"",gt=m.descriptionClassName||"",tt=Qe.useMemo(()=>_.findIndex(ke=>ke.toastId===m.id)||0,[_,m.id]),Rt=Qe.useMemo(()=>{var ke;return(ke=m.closeButton)!=null?ke:D},[m.closeButton,D]),wt=Qe.useMemo(()=>m.duration||G||tI,[m.duration,G]),Pe=Qe.useRef(0),He=Qe.useRef(0),Bt=Qe.useRef(0),Tt=Qe.useRef(null),[lt,St]=ee.split("-"),ne=Qe.useMemo(()=>_.reduce((ke,mt,Ut)=>Ut>=tt?ke:ke+mt.height,0),[_,tt]),ye=hY(),Je=m.invert||p,nt=be==="loading";He.current=Qe.useMemo(()=>tt*Q+ne,[tt,ne]),Qe.useEffect(()=>{et.current=wt},[wt]),Qe.useEffect(()=>{je(!0)},[]),Qe.useEffect(()=>{let ke=W.current;if(ke){let mt=ke.getBoundingClientRect().height;return pt(mt),y(Ut=>[{toastId:m.id,height:mt,position:m.position},...Ut]),()=>y(Ut=>Ut.filter(Yt=>Yt.toastId!==m.id))}},[y,m.id]),Qe.useLayoutEffect(()=>{if(!fe)return;let ke=W.current,mt=ke.style.height;ke.style.height="auto";let Ut=ke.getBoundingClientRect().height;ke.style.height=mt,pt(Ut),y(Yt=>Yt.find(Nn=>Nn.toastId===m.id)?Yt.map(Nn=>Nn.toastId===m.id?{...Nn,height:Ut}:Nn):[{toastId:m.id,height:Ut,position:m.position},...Yt])},[fe,m.title,m.description,y,m.id]);let Ge=Qe.useCallback(()=>{st(!0),qe(He.current),y(ke=>ke.filter(mt=>mt.toastId!==m.id)),setTimeout(()=>{R(m)},CY)},[m,R,y,He]);Qe.useEffect(()=>{if(m.promise&&be==="loading"||m.duration===1/0||m.type==="loading")return;let ke;return A||x||pe&&ye?(()=>{if(Bt.current<Pe.current){let mt=new Date().getTime()-Pe.current;et.current=et.current-mt}Bt.current=new Date().getTime()})():et.current!==1/0&&(Pe.current=new Date().getTime(),ke=setTimeout(()=>{var mt;(mt=m.onAutoClose)==null||mt.call(m,m),Ge()},et.current)),()=>clearTimeout(ke)},[A,x,m,be,pe,ye,Ge]),Qe.useEffect(()=>{m.delete&&Ge()},[Ge,m.delete]);function Le(){var ke,mt,Ut;return $!=null&&$.loading?Qe.createElement("div",{className:Gs(H==null?void 0:H.loader,(ke=m==null?void 0:m.classNames)==null?void 0:ke.loader,"sonner-loader"),"data-visible":be==="loading"},$.loading):ie?Qe.createElement("div",{className:Gs(H==null?void 0:H.loader,(mt=m==null?void 0:m.classNames)==null?void 0:mt.loader,"sonner-loader"),"data-visible":be==="loading"},ie):Qe.createElement(aY,{className:Gs(H==null?void 0:H.loader,(Ut=m==null?void 0:m.classNames)==null?void 0:Ut.loader),visible:be==="loading"})}return Qe.createElement("li",{tabIndex:0,ref:W,className:Gs(V,we,H==null?void 0:H.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,H==null?void 0:H.default,H==null?void 0:H[be],(n=m==null?void 0:m.classNames)==null?void 0:n[be]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:C,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":fe,"data-promise":!!m.promise,"data-swiped":j,"data-removed":ct,"data-visible":de,"data-y-position":lt,"data-x-position":St,"data-index":S,"data-front":U,"data-swiping":ut,"data-dismissible":Ne,"data-type":be,"data-invert":Je,"data-swipe-out":Ye,"data-swipe-direction":at,"data-expanded":!!(A||z&&fe),style:{"--index":S,"--toasts-before":S,"--z-index":M.length-S,"--offset":`${ct?Ve:He.current}px`,"--initial-height":z?"auto":`${Fe}px`,...N,...m.style},onDragEnd:()=>{Be(!1),Ue(null),Tt.current=null},onPointerDown:ke=>{nt||!Ne||(vt.current=new Date,qe(He.current),ke.target.setPointerCapture(ke.pointerId),ke.target.tagName!=="BUTTON"&&(Be(!0),Tt.current={x:ke.clientX,y:ke.clientY}))},onPointerUp:()=>{var ke,mt,Ut,Yt;if(Ye||!Ne)return;Tt.current=null;let Nn=Number(((ke=W.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Bn=Number(((mt=W.current)==null?void 0:mt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),re=new Date().getTime()-((Ut=vt.current)==null?void 0:Ut.getTime()),le=Me==="x"?Nn:Bn,ge=Math.abs(le)/re;if(Math.abs(le)>=TY||ge>.11){qe(He.current),(Yt=m.onDismiss)==null||Yt.call(m,m),ae(Me==="x"?Nn>0?"right":"left":Bn>0?"down":"up"),Ge(),Te(!0),Ae(!1);return}Be(!1),Ue(null)},onPointerMove:ke=>{var mt,Ut,Yt,Nn;if(!Tt.current||!Ne||((mt=window.getSelection())==null?void 0:mt.toString().length)>0)return;let Bn=ke.clientY-Tt.current.y,re=ke.clientX-Tt.current.x,le=(Ut=t.swipeDirections)!=null?Ut:AY(ee);!Me&&(Math.abs(re)>1||Math.abs(Bn)>1)&&Ue(Math.abs(re)>Math.abs(Bn)?"x":"y");let ge={x:0,y:0};Me==="y"?(le.includes("top")||le.includes("bottom"))&&(le.includes("top")&&Bn<0||le.includes("bottom")&&Bn>0)&&(ge.y=Bn):Me==="x"&&(le.includes("left")||le.includes("right"))&&(le.includes("left")&&re<0||le.includes("right")&&re>0)&&(ge.x=re),(Math.abs(ge.x)>0||Math.abs(ge.y)>0)&&Ae(!0),(Yt=W.current)==null||Yt.style.setProperty("--swipe-amount-x",`${ge.x}px`),(Nn=W.current)==null||Nn.style.setProperty("--swipe-amount-y",`${ge.y}px`)}},Rt&&!m.jsx?Qe.createElement("button",{"aria-label":oe,"data-disabled":nt,"data-close-button":!0,onClick:nt||!Ne?()=>{}:()=>{var ke;Ge(),(ke=m.onDismiss)==null||ke.call(m,m)},className:Gs(H==null?void 0:H.closeButton,(i=m==null?void 0:m.classNames)==null?void 0:i.closeButton)},(s=$==null?void 0:$.close)!=null?s:fY):null,m.jsx||E.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:Qe.createElement(Qe.Fragment,null,be||m.icon||m.promise?Qe.createElement("div",{"data-icon":"",className:Gs(H==null?void 0:H.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Le():null,m.type!=="loading"?m.icon||($==null?void 0:$[be])||sY(be):null):null,Qe.createElement("div",{"data-content":"",className:Gs(H==null?void 0:H.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},Qe.createElement("div",{"data-title":"",className:Gs(H==null?void 0:H.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?Qe.createElement("div",{"data-description":"",className:Gs(Y,gt,H==null?void 0:H.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),E.isValidElement(m.cancel)?m.cancel:m.cancel&&k0(m.cancel)?Qe.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||I,onClick:ke=>{var mt,Ut;k0(m.cancel)&&Ne&&((Ut=(mt=m.cancel).onClick)==null||Ut.call(mt,ke),Ge())},className:Gs(H==null?void 0:H.cancelButton,(u=m==null?void 0:m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,E.isValidElement(m.action)?m.action:m.action&&k0(m.action)?Qe.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||F,onClick:ke=>{var mt,Ut;k0(m.action)&&((Ut=(mt=m.action).onClick)==null||Ut.call(mt,ke),!ke.defaultPrevented&&Ge())},className:Gs(H==null?void 0:H.actionButton,(d=m==null?void 0:m.classNames)==null?void 0:d.actionButton)},m.action.label):null))};function nI(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function PY(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?bY:SY;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var IY=E.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:p,style:m,visibleToasts:v=wY,toastOptions:x,dir:y=nI(),gap:g=EY,loadingIcon:_,icons:S,containerAriaLabel:M="Notifications",pauseWhenPageIsHidden:A}=t,[R,C]=Qe.useState([]),D=Qe.useMemo(()=>Array.from(new Set([r].concat(R.filter(pe=>pe.position).map(pe=>pe.position)))),[R,r]),[N,I]=Qe.useState([]),[F,V]=Qe.useState(!1),[Y,G]=Qe.useState(!1),[ee,Q]=Qe.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=Qe.useRef(null),z=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=Qe.useRef(null),$=Qe.useRef(!1),oe=Qe.useCallback(pe=>{C(Me=>{var Ue;return(Ue=Me.find(at=>at.id===pe.id))!=null&&Ue.delete||ki.dismiss(pe.id),Me.filter(({id:at})=>at!==pe.id)})},[]);return Qe.useEffect(()=>ki.subscribe(pe=>{if(pe.dismiss){C(Me=>Me.map(Ue=>Ue.id===pe.id?{...Ue,delete:!0}:Ue));return}setTimeout(()=>{YT.flushSync(()=>{C(Me=>{let Ue=Me.findIndex(at=>at.id===pe.id);return Ue!==-1?[...Me.slice(0,Ue),{...Me[Ue],...pe},...Me.slice(Ue+1)]:[pe,...Me]})})})}),[]),Qe.useEffect(()=>{if(u!=="system"){Q(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;let pe=window.matchMedia("(prefers-color-scheme: dark)");try{pe.addEventListener("change",({matches:Me})=>{Q(Me?"dark":"light")})}catch{pe.addListener(({matches:Ue})=>{try{Q(Ue?"dark":"light")}catch(at){console.error(at)}})}},[u]),Qe.useEffect(()=>{R.length<=1&&V(!1)},[R]),Qe.useEffect(()=>{let pe=Me=>{var Ue,at;i.every(ae=>Me[ae]||Me.code===ae)&&(V(!0),(Ue=ie.current)==null||Ue.focus()),Me.code==="Escape"&&(document.activeElement===ie.current||(at=ie.current)!=null&&at.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",pe),()=>document.removeEventListener("keydown",pe)},[i]),Qe.useEffect(()=>{if(ie.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,$.current=!1)}},[ie.current]),Qe.createElement("section",{ref:e,"aria-label":`${M} ${z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((pe,Me)=>{var Ue;let[at,ae]=pe.split("-");return R.length?Qe.createElement("ol",{key:pe,dir:y==="auto"?nI():y,tabIndex:-1,ref:ie,className:a,"data-sonner-toaster":!0,"data-theme":ee,"data-y-position":at,"data-lifted":F&&R.length>1&&!s,"data-x-position":ae,style:{"--front-toast-height":`${((Ue=N[0])==null?void 0:Ue.height)||0}px`,"--width":`${MY}px`,"--gap":`${g}px`,...m,...PY(l,c)},onBlur:fe=>{$.current&&!fe.currentTarget.contains(fe.relatedTarget)&&($.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||$.current||($.current=!0,H.current=fe.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{Y||V(!1)},onDragEnd:()=>V(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},R.filter(fe=>!fe.position&&Me===0||fe.position===pe).map((fe,je)=>{var ct,st;return Qe.createElement(RY,{key:fe.id,icons:S,index:je,toast:fe,defaultRichColors:d,duration:(ct=x==null?void 0:x.duration)!=null?ct:p,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:v,closeButton:(st=x==null?void 0:x.closeButton)!=null?st:o,interacting:Y,position:pe,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:oe,toasts:R.filter(ut=>ut.position==fe.position),heights:N.filter(ut=>ut.position==fe.position),setHeights:I,expandByDefault:s,gap:g,loadingIcon:_,expanded:F,pauseWhenPageIsHidden:A,swipeDirections:t.swipeDirections})})):null}))});const NY=({...t})=>{const{theme:e="system"}=iY();return T.jsx(IY,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var DY=e_[" useId ".trim().toString()]||(()=>{}),LY=0;function Ma(t){const[e,n]=E.useState(DY());return us(()=>{n(r=>r??String(LY++))},[t]),e?`radix-${e}`:""}const OY=["top","right","bottom","left"],Bl=Math.min,ns=Math.max,Xx=Math.round,U0=Math.floor,Vo=t=>({x:t,y:t}),FY={left:"right",right:"left",bottom:"top",top:"bottom"},kY={start:"end",end:"start"};function UM(t,e,n){return ns(t,Bl(e,n))}function Pa(t,e){return typeof t=="function"?t(e):t}function Ia(t){return t.split("-")[0]}function Kf(t){return t.split("-")[1]}function fC(t){return t==="x"?"y":"x"}function hC(t){return t==="y"?"height":"width"}const UY=new Set(["top","bottom"]);function Fo(t){return UY.has(Ia(t))?"y":"x"}function pC(t){return fC(Fo(t))}function BY(t,e,n){n===void 0&&(n=!1);const r=Kf(t),i=pC(t),s=hC(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=$x(o)),[o,$x(o)]}function zY(t){const e=$x(t);return[BM(t),e,BM(e)]}function BM(t){return t.replace(/start|end/g,e=>kY[e])}const rI=["left","right"],iI=["right","left"],VY=["top","bottom"],HY=["bottom","top"];function jY(t,e,n){switch(t){case"top":case"bottom":return n?e?iI:rI:e?rI:iI;case"left":case"right":return e?VY:HY;default:return[]}}function GY(t,e,n,r){const i=Kf(t);let s=jY(Ia(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(BM)))),s}function $x(t){return t.replace(/left|right|bottom|top/g,e=>FY[e])}function WY(t){return{top:0,right:0,bottom:0,left:0,...t}}function PU(t){return typeof t!="number"?WY(t):{top:t,right:t,bottom:t,left:t}}function Yx(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function sI(t,e,n){let{reference:r,floating:i}=t;const s=Fo(e),o=pC(e),a=hC(o),l=Ia(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-i.width,y:d};break;default:m={x:r.x,y:r.y}}switch(Kf(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const XY=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=sI(c,r,l),p=r,m={},v=0;for(let x=0;x<a.length;x++){const{name:y,fn:g}=a[x],{x:_,y:S,data:M,reset:A}=await g({x:u,y:d,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});u=_??u,d=S??d,m={...m,[y]:{...m[y],...M}},A&&v<=50&&(v++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(c=A.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:u,y:d}=sI(c,p,l)),x=-1)}return{x:u,y:d,placement:p,strategy:i,middlewareData:m}};async function am(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:m=0}=Pa(e,t),v=PU(m),y=a[p?d==="floating"?"reference":"floating":d],g=Yx(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),_=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),M=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},A=Yx(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:S,strategy:l}):_);return{top:(g.top-A.top+v.top)/M.y,bottom:(A.bottom-g.bottom+v.bottom)/M.y,left:(g.left-A.left+v.left)/M.x,right:(A.right-g.right+v.right)/M.x}}const $Y=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Pa(t,e)||{};if(c==null)return{};const d=PU(u),p={x:n,y:r},m=pC(i),v=hC(m),x=await o.getDimensions(c),y=m==="y",g=y?"top":"left",_=y?"bottom":"right",S=y?"clientHeight":"clientWidth",M=s.reference[v]+s.reference[m]-p[m]-s.floating[v],A=p[m]-s.reference[m],R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=R?R[S]:0;(!C||!await(o.isElement==null?void 0:o.isElement(R)))&&(C=a.floating[S]||s.floating[v]);const D=M/2-A/2,N=C/2-x[v]/2-1,I=Bl(d[g],N),F=Bl(d[_],N),V=I,Y=C-x[v]-F,G=C/2-x[v]/2+D,ee=UM(V,G,Y),Q=!l.arrow&&Kf(i)!=null&&G!==ee&&s.reference[v]/2-(G<V?I:F)-x[v]/2<0,ie=Q?G<V?G-V:G-Y:0;return{[m]:p[m]+ie,data:{[m]:ee,centerOffset:G-ee-ie,...Q&&{alignmentOffset:ie}},reset:Q}}}),YY=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...y}=Pa(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=Ia(i),_=Fo(a),S=Ia(a)===a,M=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=p||(S||!x?[$x(a)]:zY(a)),R=v!=="none";!p&&R&&A.push(...GY(a,x,v,M));const C=[a,...A],D=await am(e,y),N=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&N.push(D[g]),d){const G=BY(i,o,M);N.push(D[G[0]],D[G[1]])}if(I=[...I,{placement:i,overflows:N}],!N.every(G=>G<=0)){var F,V;const G=(((F=s.flip)==null?void 0:F.index)||0)+1,ee=C[G];if(ee&&(!(d==="alignment"?_!==Fo(ee):!1)||I.every(z=>Fo(z.placement)===_?z.overflows[0]>0:!0)))return{data:{index:G,overflows:I},reset:{placement:ee}};let Q=(V=I.filter(ie=>ie.overflows[0]<=0).sort((ie,z)=>ie.overflows[1]-z.overflows[1])[0])==null?void 0:V.placement;if(!Q)switch(m){case"bestFit":{var Y;const ie=(Y=I.filter(z=>{if(R){const H=Fo(z.placement);return H===_||H==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(H=>H>0).reduce((H,$)=>H+$,0)]).sort((z,H)=>z[1]-H[1])[0])==null?void 0:Y[0];ie&&(Q=ie);break}case"initialPlacement":Q=a;break}if(i!==Q)return{reset:{placement:Q}}}return{}}}};function oI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function aI(t){return OY.some(e=>t[e]>=0)}const qY=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Pa(t,e);switch(r){case"referenceHidden":{const s=await am(e,{...i,elementContext:"reference"}),o=oI(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:aI(o)}}}case"escaped":{const s=await am(e,{...i,altBoundary:!0}),o=oI(s,n.floating);return{data:{escapedOffsets:o,escaped:aI(o)}}}default:return{}}}}},IU=new Set(["left","top"]);async function KY(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ia(n),a=Kf(n),l=Fo(n)==="y",c=IU.has(o)?-1:1,u=s&&l?-1:1,d=Pa(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*u,y:p*c}:{x:p*c,y:m*u}}const ZY=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await KY(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},QY=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:g,y:_}=y;return{x:g,y:_}}},...l}=Pa(t,e),c={x:n,y:r},u=await am(e,l),d=Fo(Ia(i)),p=fC(d);let m=c[p],v=c[d];if(s){const y=p==="y"?"top":"left",g=p==="y"?"bottom":"right",_=m+u[y],S=m-u[g];m=UM(_,m,S)}if(o){const y=d==="y"?"top":"left",g=d==="y"?"bottom":"right",_=v+u[y],S=v-u[g];v=UM(_,v,S)}const x=a.fn({...e,[p]:m,[d]:v});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[p]:s,[d]:o}}}}}},JY=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Pa(t,e),u={x:n,y:r},d=Fo(i),p=fC(d);let m=u[p],v=u[d];const x=Pa(a,e),y=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const S=p==="y"?"height":"width",M=s.reference[p]-s.floating[S]+y.mainAxis,A=s.reference[p]+s.reference[S]-y.mainAxis;m<M?m=M:m>A&&(m=A)}if(c){var g,_;const S=p==="y"?"width":"height",M=IU.has(Ia(i)),A=s.reference[d]-s.floating[S]+(M&&((g=o.offset)==null?void 0:g[d])||0)+(M?0:y.crossAxis),R=s.reference[d]+s.reference[S]+(M?0:((_=o.offset)==null?void 0:_[d])||0)-(M?y.crossAxis:0);v<A?v=A:v>R&&(v=R)}return{[p]:m,[d]:v}}}},eq=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Pa(t,e),u=await am(e,c),d=Ia(i),p=Kf(i),m=Fo(i)==="y",{width:v,height:x}=s.floating;let y,g;d==="top"||d==="bottom"?(y=d,g=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=d,y=p==="end"?"top":"bottom");const _=x-u.top-u.bottom,S=v-u.left-u.right,M=Bl(x-u[y],_),A=Bl(v-u[g],S),R=!e.middlewareData.shift;let C=M,D=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(D=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=_),R&&!p){const I=ns(u.left,0),F=ns(u.right,0),V=ns(u.top,0),Y=ns(u.bottom,0);m?D=v-2*(I!==0||F!==0?I+F:ns(u.left,u.right)):C=x-2*(V!==0||Y!==0?V+Y:ns(u.top,u.bottom))}await l({...e,availableWidth:D,availableHeight:C});const N=await o.getDimensions(a.floating);return v!==N.width||x!==N.height?{reset:{rects:!0}}:{}}}};function __(){return typeof window<"u"}function Zf(t){return NU(t)?(t.nodeName||"").toLowerCase():"#document"}function os(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function qo(t){var e;return(e=(NU(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function NU(t){return __()?t instanceof Node||t instanceof os(t).Node:!1}function ho(t){return __()?t instanceof Element||t instanceof os(t).Element:!1}function Wo(t){return __()?t instanceof HTMLElement||t instanceof os(t).HTMLElement:!1}function lI(t){return!__()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof os(t).ShadowRoot}const tq=new Set(["inline","contents"]);function Jm(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=po(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!tq.has(i)}const nq=new Set(["table","td","th"]);function rq(t){return nq.has(Zf(t))}const iq=[":popover-open",":modal"];function w_(t){return iq.some(e=>{try{return t.matches(e)}catch{return!1}})}const sq=["transform","translate","scale","rotate","perspective"],oq=["transform","translate","scale","rotate","perspective","filter"],aq=["paint","layout","strict","content"];function mC(t){const e=gC(),n=ho(t)?po(t):t;return sq.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||oq.some(r=>(n.willChange||"").includes(r))||aq.some(r=>(n.contain||"").includes(r))}function lq(t){let e=zl(t);for(;Wo(e)&&!Tf(e);){if(mC(e))return e;if(w_(e))return null;e=zl(e)}return null}function gC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const cq=new Set(["html","body","#document"]);function Tf(t){return cq.has(Zf(t))}function po(t){return os(t).getComputedStyle(t)}function S_(t){return ho(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function zl(t){if(Zf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||lI(t)&&t.host||qo(t);return lI(e)?e.host:e}function DU(t){const e=zl(t);return Tf(e)?t.ownerDocument?t.ownerDocument.body:t.body:Wo(e)&&Jm(e)?e:DU(e)}function lm(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=DU(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=os(i);if(s){const a=zM(o);return e.concat(o,o.visualViewport||[],Jm(i)?i:[],a&&n?lm(a):[])}return e.concat(i,lm(i,[],n))}function zM(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function LU(t){const e=po(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Wo(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Xx(n)!==s||Xx(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function vC(t){return ho(t)?t:t.contextElement}function ef(t){const e=vC(t);if(!Wo(e))return Vo(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=LU(e);let o=(s?Xx(n.width):n.width)/r,a=(s?Xx(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const uq=Vo(0);function OU(t){const e=os(t);return!gC()||!e.visualViewport?uq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dq(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==os(t)?!1:e}function _u(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=vC(t);let o=Vo(1);e&&(r?ho(r)&&(o=ef(r)):o=ef(t));const a=dq(s,n,r)?OU(s):Vo(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const p=os(s),m=r&&ho(r)?os(r):r;let v=p,x=zM(v);for(;x&&r&&m!==v;){const y=ef(x),g=x.getBoundingClientRect(),_=po(x),S=g.left+(x.clientLeft+parseFloat(_.paddingLeft))*y.x,M=g.top+(x.clientTop+parseFloat(_.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,d*=y.y,l+=S,c+=M,v=os(x),x=zM(v)}}return Yx({width:u,height:d,x:l,y:c})}function b_(t,e){const n=S_(t).scrollLeft;return e?e.left+n:_u(qo(t)).left+n}function FU(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-b_(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function fq(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=qo(r),a=e?w_(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Vo(1);const u=Vo(0),d=Wo(r);if((d||!d&&!s)&&((Zf(r)!=="body"||Jm(o))&&(l=S_(r)),Wo(r))){const m=_u(r);c=ef(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const p=o&&!d&&!s?FU(o,l):Vo(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:n.y*c.y-l.scrollTop*c.y+u.y+p.y}}function hq(t){return Array.from(t.getClientRects())}function pq(t){const e=qo(t),n=S_(t),r=t.ownerDocument.body,i=ns(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ns(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+b_(t);const a=-n.scrollTop;return po(r).direction==="rtl"&&(o+=ns(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const cI=25;function mq(t,e){const n=os(t),r=qo(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=gC();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=b_(r);if(c<=0){const u=r.ownerDocument,d=u.body,p=getComputedStyle(d),m=u.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,v=Math.abs(r.clientWidth-d.clientWidth-m);v<=cI&&(s-=v)}else c<=cI&&(s+=c);return{width:s,height:o,x:a,y:l}}const gq=new Set(["absolute","fixed"]);function vq(t,e){const n=_u(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Wo(t)?ef(t):Vo(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function uI(t,e,n){let r;if(e==="viewport")r=mq(t,n);else if(e==="document")r=pq(qo(t));else if(ho(e))r=vq(e,n);else{const i=OU(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Yx(r)}function kU(t,e){const n=zl(t);return n===e||!ho(n)||Tf(n)?!1:po(n).position==="fixed"||kU(n,e)}function xq(t,e){const n=e.get(t);if(n)return n;let r=lm(t,[],!1).filter(a=>ho(a)&&Zf(a)!=="body"),i=null;const s=po(t).position==="fixed";let o=s?zl(t):t;for(;ho(o)&&!Tf(o);){const a=po(o),l=mC(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&gq.has(i.position)||Jm(o)&&!l&&kU(t,o))?r=r.filter(u=>u!==o):i=a,o=zl(o)}return e.set(t,r),r}function yq(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?w_(e)?[]:xq(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=uI(e,u,i);return c.top=ns(d.top,c.top),c.right=Bl(d.right,c.right),c.bottom=Bl(d.bottom,c.bottom),c.left=ns(d.left,c.left),c},uI(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function _q(t){const{width:e,height:n}=LU(t);return{width:e,height:n}}function wq(t,e,n){const r=Wo(e),i=qo(e),s=n==="fixed",o=_u(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Vo(0);function c(){l.x=b_(i)}if(r||!r&&!s)if((Zf(e)!=="body"||Jm(i))&&(a=S_(e)),r){const m=_u(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?FU(i,a):Vo(0),d=o.left+a.scrollLeft-l.x-u.x,p=o.top+a.scrollTop-l.y-u.y;return{x:d,y:p,width:o.width,height:o.height}}function oS(t){return po(t).position==="static"}function dI(t,e){if(!Wo(t)||po(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return qo(t)===n&&(n=n.ownerDocument.body),n}function UU(t,e){const n=os(t);if(w_(t))return n;if(!Wo(t)){let i=zl(t);for(;i&&!Tf(i);){if(ho(i)&&!oS(i))return i;i=zl(i)}return n}let r=dI(t,e);for(;r&&rq(r)&&oS(r);)r=dI(r,e);return r&&Tf(r)&&oS(r)&&!mC(r)?n:r||lq(t)||n}const Sq=async function(t){const e=this.getOffsetParent||UU,n=this.getDimensions,r=await n(t.floating);return{reference:wq(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function bq(t){return po(t).direction==="rtl"}const Mq={convertOffsetParentRelativeRectToViewportRelativeRect:fq,getDocumentElement:qo,getClippingRect:yq,getOffsetParent:UU,getElementRects:Sq,getClientRects:hq,getDimensions:_q,getScale:ef,isElement:ho,isRTL:bq};function BU(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Eq(t,e){let n=null,r;const i=qo(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:d,width:p,height:m}=c;if(a||e(),!p||!m)return;const v=U0(d),x=U0(i.clientWidth-(u+p)),y=U0(i.clientHeight-(d+m)),g=U0(u),S={rootMargin:-v+"px "+-x+"px "+-y+"px "+-g+"px",threshold:ns(0,Bl(1,l))||1};let M=!0;function A(R){const C=R[0].intersectionRatio;if(C!==l){if(!M)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!BU(c,t.getBoundingClientRect())&&o(),M=!1}try{n=new IntersectionObserver(A,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,S)}n.observe(t)}return o(!0),s}function Tq(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=vC(t),u=i||s?[...c?lm(c):[],...lm(e)]:[];u.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const d=c&&a?Eq(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(g=>{let[_]=g;_&&_.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let v,x=l?_u(t):null;l&&y();function y(){const g=_u(t);x&&!BU(x,g)&&n(),x=g,v=requestAnimationFrame(y)}return n(),()=>{var g;u.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),d==null||d(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const Cq=ZY,Aq=QY,Rq=YY,Pq=eq,Iq=qY,fI=$Y,Nq=JY,Dq=(t,e,n)=>{const r=new Map,i={platform:Mq,...n},s={...i.platform,_c:r};return XY(t,e,{...i,platform:s})};var Lq=typeof document<"u",Oq=function(){},ox=Lq?E.useLayoutEffect:Oq;function qx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!qx(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!qx(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function zU(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function hI(t,e){const n=zU(t);return Math.round(e*n)/n}function aS(t){const e=E.useRef(t);return ox(()=>{e.current=t}),e}function Fq(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=E.useState(r);qx(p,r)||m(r);const[v,x]=E.useState(null),[y,g]=E.useState(null),_=E.useCallback(z=>{z!==R.current&&(R.current=z,x(z))},[]),S=E.useCallback(z=>{z!==C.current&&(C.current=z,g(z))},[]),M=s||v,A=o||y,R=E.useRef(null),C=E.useRef(null),D=E.useRef(u),N=l!=null,I=aS(l),F=aS(i),V=aS(c),Y=E.useCallback(()=>{if(!R.current||!C.current)return;const z={placement:e,strategy:n,middleware:p};F.current&&(z.platform=F.current),Dq(R.current,C.current,z).then(H=>{const $={...H,isPositioned:V.current!==!1};G.current&&!qx(D.current,$)&&(D.current=$,Yf.flushSync(()=>{d($)}))})},[p,e,n,F,V]);ox(()=>{c===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,d(z=>({...z,isPositioned:!1})))},[c]);const G=E.useRef(!1);ox(()=>(G.current=!0,()=>{G.current=!1}),[]),ox(()=>{if(M&&(R.current=M),A&&(C.current=A),M&&A){if(I.current)return I.current(M,A,Y);Y()}},[M,A,Y,I,N]);const ee=E.useMemo(()=>({reference:R,floating:C,setReference:_,setFloating:S}),[_,S]),Q=E.useMemo(()=>({reference:M,floating:A}),[M,A]),ie=E.useMemo(()=>{const z={position:n,left:0,top:0};if(!Q.floating)return z;const H=hI(Q.floating,u.x),$=hI(Q.floating,u.y);return a?{...z,transform:"translate("+H+"px, "+$+"px)",...zU(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:$}},[n,a,Q.floating,u.x,u.y]);return E.useMemo(()=>({...u,update:Y,refs:ee,elements:Q,floatingStyles:ie}),[u,Y,ee,Q,ie])}const kq=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?fI({element:r.current,padding:i}).fn(n):{}:r?fI({element:r,padding:i}).fn(n):{}}}},Uq=(t,e)=>({...Cq(t),options:[t,e]}),Bq=(t,e)=>({...Aq(t),options:[t,e]}),zq=(t,e)=>({...Nq(t),options:[t,e]}),Vq=(t,e)=>({...Rq(t),options:[t,e]}),Hq=(t,e)=>({...Pq(t),options:[t,e]}),jq=(t,e)=>({...Iq(t),options:[t,e]}),Gq=(t,e)=>({...kq(t),options:[t,e]});var Wq="Arrow",VU=E.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return T.jsx(hn.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:T.jsx("polygon",{points:"0,0 30,0 15,10"})})});VU.displayName=Wq;var Xq=VU;function $q(t){const[e,n]=E.useState(void 0);return us(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var xC="Popper",[HU,M_]=mo(xC),[Yq,jU]=HU(xC),GU=t=>{const{__scopePopper:e,children:n}=t,[r,i]=E.useState(null);return T.jsx(Yq,{scope:e,anchor:r,onAnchorChange:i,children:n})};GU.displayName=xC;var WU="PopperAnchor",XU=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=jU(WU,n),o=E.useRef(null),a=sr(e,o),l=E.useRef(null);return E.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||o.current,c!==l.current&&s.onAnchorChange(l.current)}),r?null:T.jsx(hn.div,{...i,ref:a})});XU.displayName=WU;var yC="PopperContent",[qq,Kq]=HU(yC),$U=E.forwardRef((t,e)=>{var fe,je,ct,st,ut,Be;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:v,...x}=t,y=jU(yC,n),[g,_]=E.useState(null),S=sr(e,Ye=>_(Ye)),[M,A]=E.useState(null),R=$q(M),C=(R==null?void 0:R.width)??0,D=(R==null?void 0:R.height)??0,N=r+(s!=="center"?"-"+s:""),I=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},F=Array.isArray(c)?c:[c],V=F.length>0,Y={padding:I,boundary:F.filter(Qq),altBoundary:V},{refs:G,floatingStyles:ee,placement:Q,isPositioned:ie,middlewareData:z}=Fq({strategy:"fixed",placement:N,whileElementsMounted:(...Ye)=>Tq(...Ye,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[Uq({mainAxis:i+D,alignmentAxis:o}),l&&Bq({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?zq():void 0,...Y}),l&&Vq({...Y}),Hq({...Y,apply:({elements:Ye,rects:Te,availableWidth:j,availableHeight:Ae})=>{const{width:Ve,height:qe}=Te.reference,Fe=Ye.floating.style;Fe.setProperty("--radix-popper-available-width",`${j}px`),Fe.setProperty("--radix-popper-available-height",`${Ae}px`),Fe.setProperty("--radix-popper-anchor-width",`${Ve}px`),Fe.setProperty("--radix-popper-anchor-height",`${qe}px`)}}),M&&Gq({element:M,padding:a}),Jq({arrowWidth:C,arrowHeight:D}),p&&jq({strategy:"referenceHidden",...Y})]}),[H,$]=KU(Q),oe=$i(v);us(()=>{ie&&(oe==null||oe())},[ie,oe]);const pe=(fe=z.arrow)==null?void 0:fe.x,Me=(je=z.arrow)==null?void 0:je.y,Ue=((ct=z.arrow)==null?void 0:ct.centerOffset)!==0,[at,ae]=E.useState();return us(()=>{g&&ae(window.getComputedStyle(g).zIndex)},[g]),T.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:ie?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:at,"--radix-popper-transform-origin":[(st=z.transformOrigin)==null?void 0:st.x,(ut=z.transformOrigin)==null?void 0:ut.y].join(" "),...((Be=z.hide)==null?void 0:Be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:T.jsx(qq,{scope:n,placedSide:H,onArrowChange:A,arrowX:pe,arrowY:Me,shouldHideArrow:Ue,children:T.jsx(hn.div,{"data-side":H,"data-align":$,...x,ref:S,style:{...x.style,animation:ie?void 0:"none"}})})})});$U.displayName=yC;var YU="PopperArrow",Zq={top:"bottom",right:"left",bottom:"top",left:"right"},qU=E.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Kq(YU,r),o=Zq[s.placedSide];return T.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:T.jsx(Xq,{...i,ref:n,style:{...i.style,display:"block"}})})});qU.displayName=YU;function Qq(t){return t!==null}var Jq=t=>({name:"transformOrigin",options:t,fn(e){var y,g,_;const{placement:n,rects:r,middlewareData:i}=e,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=KU(n),d={start:"0%",center:"50%",end:"100%"}[u],p=(((g=i.arrow)==null?void 0:g.x)??0)+a/2,m=(((_=i.arrow)==null?void 0:_.y)??0)+l/2;let v="",x="";return c==="bottom"?(v=o?d:`${p}px`,x=`${-l}px`):c==="top"?(v=o?d:`${p}px`,x=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,x=o?d:`${m}px`):c==="left"&&(v=`${r.floating.width+l}px`,x=o?d:`${m}px`),{data:{x:v,y:x}}}});function KU(t){const[e,n="center"]=t.split("-");return[e,n]}var eK=GU,ZU=XU,QU=$U,JU=qU,tK=Symbol("radix.slottable");function nK(t){const e=({children:n})=>T.jsx(T.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=tK,e}var[E_]=mo("Tooltip",[M_]),_C=M_(),e4="TooltipProvider",rK=700,pI="tooltip.open",[iK,t4]=E_(e4),n4=t=>{const{__scopeTooltip:e,delayDuration:n=rK,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=E.useRef(!0),a=E.useRef(!1),l=E.useRef(0);return E.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),T.jsx(iK,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:E.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:E.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:E.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};n4.displayName=e4;var r4="Tooltip",[l0e,T_]=E_(r4),VM="TooltipTrigger",sK=E.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=T_(VM,n),s=t4(VM,n),o=_C(n),a=E.useRef(null),l=sr(e,a,i.onTriggerChange),c=E.useRef(!1),u=E.useRef(!1),d=E.useCallback(()=>c.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),T.jsx(ZU,{asChild:!0,...o,children:T.jsx(hn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:zt(t.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:zt(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:zt(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:zt(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:zt(t.onBlur,i.onClose),onClick:zt(t.onClick,i.onClose)})})});sK.displayName=VM;var oK="TooltipPortal",[c0e,aK]=E_(oK,{forceMount:void 0}),Cf="TooltipContent",i4=E.forwardRef((t,e)=>{const n=aK(Cf,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=T_(Cf,t.__scopeTooltip);return T.jsx(Bs,{present:r||o.open,children:o.disableHoverableContent?T.jsx(s4,{side:i,...s,ref:e}):T.jsx(lK,{side:i,...s,ref:e})})}),lK=E.forwardRef((t,e)=>{const n=T_(Cf,t.__scopeTooltip),r=t4(Cf,t.__scopeTooltip),i=E.useRef(null),s=sr(e,i),[o,a]=E.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:d}=r,p=E.useCallback(()=>{a(null),d(!1)},[d]),m=E.useCallback((v,x)=>{const y=v.currentTarget,g={x:v.clientX,y:v.clientY},_=hK(g,y.getBoundingClientRect()),S=pK(g,_),M=mK(x.getBoundingClientRect()),A=vK([...S,...M]);a(A),d(!0)},[d]);return E.useEffect(()=>()=>p(),[p]),E.useEffect(()=>{if(l&&u){const v=y=>m(y,u),x=y=>m(y,l);return l.addEventListener("pointerleave",v),u.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",x)}}},[l,u,m,p]),E.useEffect(()=>{if(o){const v=x=>{const y=x.target,g={x:x.clientX,y:x.clientY},_=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),S=!gK(g,o);_?p():S&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,u,o,c,p]),T.jsx(s4,{...t,ref:s})}),[cK,uK]=E_(r4,{isInside:!1}),dK=nK("TooltipContent"),s4=E.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=T_(Cf,n),c=_C(n),{onClose:u}=l;return E.useEffect(()=>(document.addEventListener(pI,u),()=>document.removeEventListener(pI,u)),[u]),E.useEffect(()=>{if(l.trigger){const d=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),T.jsx(Zm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:T.jsxs(QU,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[T.jsx(dK,{children:r}),T.jsx(cK,{scope:n,isInside:!0,children:T.jsx(wX,{id:l.contentId,role:"tooltip",children:i||r})})]})})});i4.displayName=Cf;var o4="TooltipArrow",fK=E.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=_C(n);return uK(o4,n).isInside?null:T.jsx(JU,{...i,...r,ref:e})});fK.displayName=o4;function hK(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function pK(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function mK(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function gK(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,d=l.x,p=l.y;u>r!=p>r&&n<(d-c)*(r-u)/(p-u)+c&&(i=!i)}return i}function vK(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),xK(e)}function xK(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var yK=n4,a4=i4;const _K=yK,wK=E.forwardRef(({className:t,sideOffset:e=4,...n},r)=>T.jsx(a4,{ref:r,sideOffset:e,className:Ht("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));wK.displayName=a4.displayName;var eg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},SK={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},pl,JE,sO,bK=(sO=class{constructor(){$t(this,pl,SK);$t(this,JE,!1)}setTimeoutProvider(t){Pt(this,pl,t)}setTimeout(t,e){return se(this,pl).setTimeout(t,e)}clearTimeout(t){se(this,pl).clearTimeout(t)}setInterval(t,e){return se(this,pl).setInterval(t,e)}clearInterval(t){se(this,pl).clearInterval(t)}},pl=new WeakMap,JE=new WeakMap,sO),Vc=new bK;function MK(t){setTimeout(t,0)}var wu=typeof window>"u"||"Deno"in globalThis;function Ui(){}function EK(t,e){return typeof t=="function"?t(e):t}function HM(t){return typeof t=="number"&&t>=0&&t!==1/0}function l4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Fl(t,e){return typeof t=="function"?t(e):t}function Ts(t,e){return typeof t=="function"?t(e):t}function mI(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==wC(o,e.options))return!1}else if(!um(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function gI(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(cm(e.options.mutationKey)!==cm(s))return!1}else if(!um(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function wC(t,e){return((e==null?void 0:e.queryKeyHashFn)||cm)(t)}function cm(t){return JSON.stringify(t,(e,n)=>GM(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function um(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>um(t[n],e[n])):!1}var TK=Object.prototype.hasOwnProperty;function c4(t,e){if(t===e)return t;const n=vI(t)&&vI(e);if(!n&&!(GM(t)&&GM(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),o=s.length,a=n?new Array(o):{};let l=0;for(let c=0;c<o;c++){const u=n?c:s[c],d=t[u],p=e[u];if(d===p){a[u]=d,(n?c<i:TK.call(t,u))&&l++;continue}if(d===null||p===null||typeof d!="object"||typeof p!="object"){a[u]=p;continue}const m=c4(d,p);a[u]=m,m===d&&l++}return i===o&&l===i?t:a}function jM(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function vI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function GM(t){if(!xI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!xI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function xI(t){return Object.prototype.toString.call(t)==="[object Object]"}function CK(t){return new Promise(e=>{Vc.setTimeout(e,t)})}function WM(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?c4(t,e):e}function AK(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function RK(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var SC=Symbol();function u4(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===SC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function PK(t,e){return typeof t=="function"?t(...e):!!t}var Kc,ml,of,oO,IK=(oO=class extends eg{constructor(){super();$t(this,Kc);$t(this,ml);$t(this,of);Pt(this,of,e=>{if(!wu&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){se(this,ml)||this.setEventListener(se(this,of))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,ml))==null||e.call(this),Pt(this,ml,void 0))}setEventListener(e){var n;Pt(this,of,e),(n=se(this,ml))==null||n.call(this),Pt(this,ml,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){se(this,Kc)!==e&&(Pt(this,Kc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof se(this,Kc)=="boolean"?se(this,Kc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Kc=new WeakMap,ml=new WeakMap,of=new WeakMap,oO),bC=new IK;function XM(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var NK=MK;function DK(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=NK;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Wr=DK(),af,gl,lf,aO,LK=(aO=class extends eg{constructor(){super();$t(this,af,!0);$t(this,gl);$t(this,lf);Pt(this,lf,e=>{if(!wu&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){se(this,gl)||this.setEventListener(se(this,lf))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,gl))==null||e.call(this),Pt(this,gl,void 0))}setEventListener(e){var n;Pt(this,lf,e),(n=se(this,gl))==null||n.call(this),Pt(this,gl,e(this.setOnline.bind(this)))}setOnline(e){se(this,af)!==e&&(Pt(this,af,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return se(this,af)}},af=new WeakMap,gl=new WeakMap,lf=new WeakMap,aO),Kx=new LK;function OK(t){return Math.min(1e3*2**t,3e4)}function d4(t){return(t??"online")==="online"?Kx.isOnline():!0}var $M=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function f4(t){let e=!1,n=0,r;const i=XM(),s=()=>i.status!=="pending",o=x=>{var y;if(!s()){const g=new $M(x);p(g),(y=t.onCancel)==null||y.call(t,g)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>bC.isFocused()&&(t.networkMode==="always"||Kx.isOnline())&&t.canRun(),u=()=>d4(t.networkMode)&&t.canRun(),d=x=>{s()||(r==null||r(),i.resolve(x))},p=x=>{s()||(r==null||r(),i.reject(x))},m=()=>new Promise(x=>{var y;r=g=>{(s()||c())&&x(g)},(y=t.onPause)==null||y.call(t)}).then(()=>{var x;r=void 0,s()||(x=t.onContinue)==null||x.call(t)}),v=()=>{if(s())return;let x;const y=n===0?t.initialPromise:void 0;try{x=y??t.fn()}catch(g){x=Promise.reject(g)}Promise.resolve(x).then(d).catch(g=>{var R;if(s())return;const _=t.retry??(wu?0:3),S=t.retryDelay??OK,M=typeof S=="function"?S(n,g):S,A=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,g);if(e||!A){p(g);return}n++,(R=t.onFail)==null||R.call(t,n,g),CK(M).then(()=>c()?void 0:m()).then(()=>{e?p(g):v()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?v():m().then(v),i)}}var Zc,lO,h4=(lO=class{constructor(){$t(this,Zc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),HM(this.gcTime)&&Pt(this,Zc,Vc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(wu?1/0:5*60*1e3))}clearGcTimeout(){se(this,Zc)&&(Vc.clearTimeout(se(this,Zc)),Pt(this,Zc,void 0))}},Zc=new WeakMap,lO),Qc,cf,Es,Jc,Ur,Bm,eu,Js,ha,cO,FK=(cO=class extends h4{constructor(e){super();$t(this,Js);$t(this,Qc);$t(this,cf);$t(this,Es);$t(this,Jc);$t(this,Ur);$t(this,Bm);$t(this,eu);Pt(this,eu,!1),Pt(this,Bm,e.defaultOptions),this.setOptions(e.options),this.observers=[],Pt(this,Jc,e.client),Pt(this,Es,se(this,Jc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Pt(this,Qc,_I(this.options)),this.state=e.state??se(this,Qc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=se(this,Ur))==null?void 0:e.promise}setOptions(e){if(this.options={...se(this,Bm),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=_I(this.options);n.data!==void 0&&(this.setState(yI(n.data,n.dataUpdatedAt)),Pt(this,Qc,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&se(this,Es).remove(this)}setData(e,n){const r=WM(this.state.data,e,this.options);return mn(this,Js,ha).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){mn(this,Js,ha).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=se(this,Ur))==null?void 0:r.promise;return(i=se(this,Ur))==null||i.cancel(e),n?n.then(Ui).catch(Ui):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(se(this,Qc))}isActive(){return this.observers.some(e=>Ts(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===SC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Fl(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!l4(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=se(this,Ur))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=se(this,Ur))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),se(this,Es).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(se(this,Ur)&&(se(this,eu)?se(this,Ur).cancel({revert:!0}):se(this,Ur).cancelRetry()),this.scheduleGc()),se(this,Es).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mn(this,Js,ha).call(this,{type:"invalidate"})}async fetch(e,n){var l,c,u,d,p,m,v,x,y,g,_,S;if(this.state.fetchStatus!=="idle"&&((l=se(this,Ur))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(se(this,Ur))return se(this,Ur).continueRetry(),se(this,Ur).promise}if(e&&this.setOptions(e),!this.options.queryFn){const M=this.observers.find(A=>A.options.queryFn);M&&this.setOptions(M.options)}const r=new AbortController,i=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(Pt(this,eu,!0),r.signal)})},s=()=>{const M=u4(this.options,n),R=(()=>{const C={client:se(this,Jc),queryKey:this.queryKey,meta:this.meta};return i(C),C})();return Pt(this,eu,!1),this.options.persister?this.options.persister(M,R,this):M(R)},a=(()=>{const M={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:se(this,Jc),state:this.state,fetchFn:s};return i(M),M})();(c=this.options.behavior)==null||c.onFetch(a,this),Pt(this,cf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&mn(this,Js,ha).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),Pt(this,Ur,f4({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:M=>{M instanceof $M&&M.revert&&this.setState({...se(this,cf),fetchStatus:"idle"}),r.abort()},onFail:(M,A)=>{mn(this,Js,ha).call(this,{type:"failed",failureCount:M,error:A})},onPause:()=>{mn(this,Js,ha).call(this,{type:"pause"})},onContinue:()=>{mn(this,Js,ha).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const M=await se(this,Ur).start();if(M===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(M),(m=(p=se(this,Es).config).onSuccess)==null||m.call(p,M,this),(x=(v=se(this,Es).config).onSettled)==null||x.call(v,M,this.state.error,this),M}catch(M){if(M instanceof $M){if(M.silent)return se(this,Ur).promise;if(M.revert){if(this.state.data===void 0)throw M;return this.state.data}}throw mn(this,Js,ha).call(this,{type:"error",error:M}),(g=(y=se(this,Es).config).onError)==null||g.call(y,M,this),(S=(_=se(this,Es).config).onSettled)==null||S.call(_,this.state.data,M,this),M}finally{this.scheduleGc()}}},Qc=new WeakMap,cf=new WeakMap,Es=new WeakMap,Jc=new WeakMap,Ur=new WeakMap,Bm=new WeakMap,eu=new WeakMap,Js=new WeakSet,ha=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...p4(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...yI(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Pt(this,cf,e.manual?i:void 0),i;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Wr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),se(this,Es).notify({query:this,type:"updated",action:e})})},cO);function p4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:d4(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function yI(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function _I(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Oi,gn,zm,pi,tu,uf,ga,vl,Vm,df,ff,nu,ru,xl,hf,In,cp,YM,qM,KM,ZM,QM,JM,eE,m4,uO,kK=(uO=class extends eg{constructor(e,n){super();$t(this,In);$t(this,Oi);$t(this,gn);$t(this,zm);$t(this,pi);$t(this,tu);$t(this,uf);$t(this,ga);$t(this,vl);$t(this,Vm);$t(this,df);$t(this,ff);$t(this,nu);$t(this,ru);$t(this,xl);$t(this,hf,new Set);this.options=n,Pt(this,Oi,e),Pt(this,vl,null),Pt(this,ga,XM()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(se(this,gn).addObserver(this),wI(se(this,gn),this.options)?mn(this,In,cp).call(this):this.updateResult(),mn(this,In,ZM).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tE(se(this,gn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tE(se(this,gn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,mn(this,In,QM).call(this),mn(this,In,JM).call(this),se(this,gn).removeObserver(this)}setOptions(e){const n=this.options,r=se(this,gn);if(this.options=se(this,Oi).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ts(this.options.enabled,se(this,gn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");mn(this,In,eE).call(this),se(this,gn).setOptions(this.options),n._defaulted&&!jM(this.options,n)&&se(this,Oi).getQueryCache().notify({type:"observerOptionsUpdated",query:se(this,gn),observer:this});const i=this.hasListeners();i&&SI(se(this,gn),r,this.options,n)&&mn(this,In,cp).call(this),this.updateResult(),i&&(se(this,gn)!==r||Ts(this.options.enabled,se(this,gn))!==Ts(n.enabled,se(this,gn))||Fl(this.options.staleTime,se(this,gn))!==Fl(n.staleTime,se(this,gn)))&&mn(this,In,YM).call(this);const s=mn(this,In,qM).call(this);i&&(se(this,gn)!==r||Ts(this.options.enabled,se(this,gn))!==Ts(n.enabled,se(this,gn))||s!==se(this,xl))&&mn(this,In,KM).call(this,s)}getOptimisticResult(e){const n=se(this,Oi).getQueryCache().build(se(this,Oi),e),r=this.createResult(n,e);return BK(this,r)&&(Pt(this,pi,r),Pt(this,uf,this.options),Pt(this,tu,se(this,gn).state)),r}getCurrentResult(){return se(this,pi)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&se(this,ga).status==="pending"&&se(this,ga).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){se(this,hf).add(e)}getCurrentQuery(){return se(this,gn)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=se(this,Oi).defaultQueryOptions(e),r=se(this,Oi).getQueryCache().build(se(this,Oi),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return mn(this,In,cp).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),se(this,pi)))}createResult(e,n){var N;const r=se(this,gn),i=this.options,s=se(this,pi),o=se(this,tu),a=se(this,uf),c=e!==r?e.state:se(this,zm),{state:u}=e;let d={...u},p=!1,m;if(n._optimisticResults){const I=this.hasListeners(),F=!I&&wI(e,n),V=I&&SI(e,r,n,i);(F||V)&&(d={...d,...p4(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:v,errorUpdatedAt:x,status:y}=d;m=d.data;let g=!1;if(n.placeholderData!==void 0&&m===void 0&&y==="pending"){let I;s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(I=s.data,g=!0):I=typeof n.placeholderData=="function"?n.placeholderData((N=se(this,ff))==null?void 0:N.state.data,se(this,ff)):n.placeholderData,I!==void 0&&(y="success",m=WM(s==null?void 0:s.data,I,n),p=!0)}if(n.select&&m!==void 0&&!g)if(s&&m===(o==null?void 0:o.data)&&n.select===se(this,Vm))m=se(this,df);else try{Pt(this,Vm,n.select),m=n.select(m),m=WM(s==null?void 0:s.data,m,n),Pt(this,df,m),Pt(this,vl,null)}catch(I){Pt(this,vl,I)}se(this,vl)&&(v=se(this,vl),m=se(this,df),x=Date.now(),y="error");const _=d.fetchStatus==="fetching",S=y==="pending",M=y==="error",A=S&&_,R=m!==void 0,D={status:y,fetchStatus:d.fetchStatus,isPending:S,isSuccess:y==="success",isError:M,isInitialLoading:A,isLoading:A,data:m,dataUpdatedAt:d.dataUpdatedAt,error:v,errorUpdatedAt:x,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:_,isRefetching:_&&!S,isLoadingError:M&&!R,isPaused:d.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:M&&R,isStale:MC(e,n),refetch:this.refetch,promise:se(this,ga),isEnabled:Ts(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=Y=>{D.status==="error"?Y.reject(D.error):D.data!==void 0&&Y.resolve(D.data)},F=()=>{const Y=Pt(this,ga,D.promise=XM());I(Y)},V=se(this,ga);switch(V.status){case"pending":e.queryHash===r.queryHash&&I(V);break;case"fulfilled":(D.status==="error"||D.data!==V.value)&&F();break;case"rejected":(D.status!=="error"||D.error!==V.reason)&&F();break}}return D}updateResult(){const e=se(this,pi),n=this.createResult(se(this,gn),this.options);if(Pt(this,tu,se(this,gn).state),Pt(this,uf,this.options),se(this,tu).data!==void 0&&Pt(this,ff,se(this,gn)),jM(n,e))return;Pt(this,pi,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!se(this,hf).size)return!0;const o=new Set(s??se(this,hf));return this.options.throwOnError&&o.add("error"),Object.keys(se(this,pi)).some(a=>{const l=a;return se(this,pi)[l]!==e[l]&&o.has(l)})};mn(this,In,m4).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&mn(this,In,ZM).call(this)}},Oi=new WeakMap,gn=new WeakMap,zm=new WeakMap,pi=new WeakMap,tu=new WeakMap,uf=new WeakMap,ga=new WeakMap,vl=new WeakMap,Vm=new WeakMap,df=new WeakMap,ff=new WeakMap,nu=new WeakMap,ru=new WeakMap,xl=new WeakMap,hf=new WeakMap,In=new WeakSet,cp=function(e){mn(this,In,eE).call(this);let n=se(this,gn).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Ui)),n},YM=function(){mn(this,In,QM).call(this);const e=Fl(this.options.staleTime,se(this,gn));if(wu||se(this,pi).isStale||!HM(e))return;const r=l4(se(this,pi).dataUpdatedAt,e)+1;Pt(this,nu,Vc.setTimeout(()=>{se(this,pi).isStale||this.updateResult()},r))},qM=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(se(this,gn)):this.options.refetchInterval)??!1},KM=function(e){mn(this,In,JM).call(this),Pt(this,xl,e),!(wu||Ts(this.options.enabled,se(this,gn))===!1||!HM(se(this,xl))||se(this,xl)===0)&&Pt(this,ru,Vc.setInterval(()=>{(this.options.refetchIntervalInBackground||bC.isFocused())&&mn(this,In,cp).call(this)},se(this,xl)))},ZM=function(){mn(this,In,YM).call(this),mn(this,In,KM).call(this,mn(this,In,qM).call(this))},QM=function(){se(this,nu)&&(Vc.clearTimeout(se(this,nu)),Pt(this,nu,void 0))},JM=function(){se(this,ru)&&(Vc.clearInterval(se(this,ru)),Pt(this,ru,void 0))},eE=function(){const e=se(this,Oi).getQueryCache().build(se(this,Oi),this.options);if(e===se(this,gn))return;const n=se(this,gn);Pt(this,gn,e),Pt(this,zm,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},m4=function(e){Wr.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(se(this,pi))}),se(this,Oi).getQueryCache().notify({query:se(this,gn),type:"observerResultsUpdated"})})},uO);function UK(t,e){return Ts(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function wI(t,e){return UK(t,e)||t.state.data!==void 0&&tE(t,e,e.refetchOnMount)}function tE(t,e,n){if(Ts(e.enabled,t)!==!1&&Fl(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&MC(t,e)}return!1}function SI(t,e,n,r){return(t!==e||Ts(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&MC(t,n)}function MC(t,e){return Ts(e.enabled,t)!==!1&&t.isStaleByTime(Fl(e.staleTime,t))}function BK(t,e){return!jM(t.getCurrentResult(),e)}function bI(t){return{onFetch:(e,n)=>{var u,d,p,m,v;const r=e.options,i=(p=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:p.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let x=!1;const y=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},g=u4(e.options,e.fetchOptions),_=async(S,M,A)=>{if(x)return Promise.reject();if(M==null&&S.pages.length)return Promise.resolve(S);const C=(()=>{const F={client:e.client,queryKey:e.queryKey,pageParam:M,direction:A?"backward":"forward",meta:e.options.meta};return y(F),F})(),D=await g(C),{maxPages:N}=e.options,I=A?RK:AK;return{pages:I(S.pages,D,N),pageParams:I(S.pageParams,M,N)}};if(i&&s.length){const S=i==="backward",M=S?zK:MI,A={pages:s,pageParams:o},R=M(r,A);a=await _(A,R,S)}else{const S=t??s.length;do{const M=l===0?o[0]??r.initialPageParam:MI(r,a);if(l>0&&M==null)break;a=await _(a,M),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var x,y;return(y=(x=e.options).persister)==null?void 0:y.call(x,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function MI(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function zK(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Hm,Io,mi,iu,No,il,dO,VK=(dO=class extends h4{constructor(e){super();$t(this,No);$t(this,Hm);$t(this,Io);$t(this,mi);$t(this,iu);Pt(this,Hm,e.client),this.mutationId=e.mutationId,Pt(this,mi,e.mutationCache),Pt(this,Io,[]),this.state=e.state||HK(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){se(this,Io).includes(e)||(se(this,Io).push(e),this.clearGcTimeout(),se(this,mi).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Pt(this,Io,se(this,Io).filter(n=>n!==e)),this.scheduleGc(),se(this,mi).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){se(this,Io).length||(this.state.status==="pending"?this.scheduleGc():se(this,mi).remove(this))}continue(){var e;return((e=se(this,iu))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,c,u,d,p,m,v,x,y,g,_,S,M,A,R,C,D,N;const n=()=>{mn(this,No,il).call(this,{type:"continue"})},r={client:se(this,Hm),meta:this.options.meta,mutationKey:this.options.mutationKey};Pt(this,iu,f4({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(I,F)=>{mn(this,No,il).call(this,{type:"failed",failureCount:I,error:F})},onPause:()=>{mn(this,No,il).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>se(this,mi).canRun(this)}));const i=this.state.status==="pending",s=!se(this,iu).canStart();try{if(i)n();else{mn(this,No,il).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(o=se(this,mi).config).onMutate)==null?void 0:a.call(o,e,this,r));const F=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e,r));F!==this.state.context&&mn(this,No,il).call(this,{type:"pending",context:F,variables:e,isPaused:s})}const I=await se(this,iu).start();return await((d=(u=se(this,mi).config).onSuccess)==null?void 0:d.call(u,I,e,this.state.context,this,r)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,I,e,this.state.context,r)),await((x=(v=se(this,mi).config).onSettled)==null?void 0:x.call(v,I,null,this.state.variables,this.state.context,this,r)),await((g=(y=this.options).onSettled)==null?void 0:g.call(y,I,null,e,this.state.context,r)),mn(this,No,il).call(this,{type:"success",data:I}),I}catch(I){try{throw await((S=(_=se(this,mi).config).onError)==null?void 0:S.call(_,I,e,this.state.context,this,r)),await((A=(M=this.options).onError)==null?void 0:A.call(M,I,e,this.state.context,r)),await((C=(R=se(this,mi).config).onSettled)==null?void 0:C.call(R,void 0,I,this.state.variables,this.state.context,this,r)),await((N=(D=this.options).onSettled)==null?void 0:N.call(D,void 0,I,e,this.state.context,r)),I}finally{mn(this,No,il).call(this,{type:"error",error:I})}}finally{se(this,mi).runNext(this)}}},Hm=new WeakMap,Io=new WeakMap,mi=new WeakMap,iu=new WeakMap,No=new WeakSet,il=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Wr.batch(()=>{se(this,Io).forEach(r=>{r.onMutationUpdate(e)}),se(this,mi).notify({mutation:this,type:"updated",action:e})})},dO);function HK(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var va,eo,jm,fO,jK=(fO=class extends eg{constructor(e={}){super();$t(this,va);$t(this,eo);$t(this,jm);this.config=e,Pt(this,va,new Set),Pt(this,eo,new Map),Pt(this,jm,0)}build(e,n,r){const i=new VK({client:e,mutationCache:this,mutationId:++m0(this,jm)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){se(this,va).add(e);const n=B0(e);if(typeof n=="string"){const r=se(this,eo).get(n);r?r.push(e):se(this,eo).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(se(this,va).delete(e)){const n=B0(e);if(typeof n=="string"){const r=se(this,eo).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&se(this,eo).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=B0(e);if(typeof n=="string"){const r=se(this,eo).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=B0(e);if(typeof n=="string"){const i=(r=se(this,eo).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Wr.batch(()=>{se(this,va).forEach(e=>{this.notify({type:"removed",mutation:e})}),se(this,va).clear(),se(this,eo).clear()})}getAll(){return Array.from(se(this,va))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>gI(n,r))}findAll(e={}){return this.getAll().filter(n=>gI(e,n))}notify(e){Wr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Wr.batch(()=>Promise.all(e.map(n=>n.continue().catch(Ui))))}},va=new WeakMap,eo=new WeakMap,jm=new WeakMap,fO);function B0(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Do,hO,GK=(hO=class extends eg{constructor(e={}){super();$t(this,Do);this.config=e,Pt(this,Do,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??wC(i,n);let o=this.get(s);return o||(o=new FK({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){se(this,Do).has(e.queryHash)||(se(this,Do).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=se(this,Do).get(e.queryHash);n&&(e.destroy(),n===e&&se(this,Do).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Wr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return se(this,Do).get(e)}getAll(){return[...se(this,Do).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>mI(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>mI(e,r)):n}notify(e){Wr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Wr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Wr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Do=new WeakMap,hO),ur,yl,_l,pf,mf,wl,gf,vf,pO,WK=(pO=class{constructor(t={}){$t(this,ur);$t(this,yl);$t(this,_l);$t(this,pf);$t(this,mf);$t(this,wl);$t(this,gf);$t(this,vf);Pt(this,ur,t.queryCache||new GK),Pt(this,yl,t.mutationCache||new jK),Pt(this,_l,t.defaultOptions||{}),Pt(this,pf,new Map),Pt(this,mf,new Map),Pt(this,wl,0)}mount(){m0(this,wl)._++,se(this,wl)===1&&(Pt(this,gf,bC.subscribe(async t=>{t&&(await this.resumePausedMutations(),se(this,ur).onFocus())})),Pt(this,vf,Kx.subscribe(async t=>{t&&(await this.resumePausedMutations(),se(this,ur).onOnline())})))}unmount(){var t,e;m0(this,wl)._--,se(this,wl)===0&&((t=se(this,gf))==null||t.call(this),Pt(this,gf,void 0),(e=se(this,vf))==null||e.call(this),Pt(this,vf,void 0))}isFetching(t){return se(this,ur).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return se(this,yl).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=se(this,ur).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=se(this,ur).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Fl(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return se(this,ur).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=se(this,ur).get(r.queryHash),s=i==null?void 0:i.state.data,o=EK(e,s);if(o!==void 0)return se(this,ur).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Wr.batch(()=>se(this,ur).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=se(this,ur).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=se(this,ur);Wr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=se(this,ur);return Wr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Wr.batch(()=>se(this,ur).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Ui).catch(Ui)}invalidateQueries(t,e={}){return Wr.batch(()=>(se(this,ur).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Wr.batch(()=>se(this,ur).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Ui)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Ui)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=se(this,ur).build(this,e);return n.isStaleByTime(Fl(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ui).catch(Ui)}fetchInfiniteQuery(t){return t.behavior=bI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ui).catch(Ui)}ensureInfiniteQueryData(t){return t.behavior=bI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Kx.isOnline()?se(this,yl).resumePausedMutations():Promise.resolve()}getQueryCache(){return se(this,ur)}getMutationCache(){return se(this,yl)}getDefaultOptions(){return se(this,_l)}setDefaultOptions(t){Pt(this,_l,t)}setQueryDefaults(t,e){se(this,pf).set(cm(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...se(this,pf).values()],n={};return e.forEach(r=>{um(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){se(this,mf).set(cm(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...se(this,mf).values()],n={};return e.forEach(r=>{um(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...se(this,_l).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=wC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===SC&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...se(this,_l).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){se(this,ur).clear(),se(this,yl).clear()}},ur=new WeakMap,yl=new WeakMap,_l=new WeakMap,pf=new WeakMap,mf=new WeakMap,wl=new WeakMap,gf=new WeakMap,vf=new WeakMap,pO),g4=E.createContext(void 0),XK=t=>{const e=E.useContext(g4);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},$K=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),T.jsx(g4.Provider,{value:t,children:e})),v4=E.createContext(!1),YK=()=>E.useContext(v4);v4.Provider;function qK(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var KK=E.createContext(qK()),ZK=()=>E.useContext(KK),QK=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},JK=t=>{E.useEffect(()=>{t.clearReset()},[t])},eZ=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||PK(n,[t.error,r])),tZ=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},nZ=(t,e)=>t.isLoading&&t.isFetching&&!e,rZ=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,EI=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function iZ(t,e,n){var d,p,m,v,x;const r=YK(),i=ZK(),s=XK(),o=s.defaultQueryOptions(t);(p=(d=s.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||p.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",tZ(o),QK(o,i),JK(i);const a=!s.getQueryCache().get(o.queryHash),[l]=E.useState(()=>new e(s,o)),c=l.getOptimisticResult(o),u=!r&&t.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(y=>{const g=u?l.subscribe(Wr.batchCalls(y)):Ui;return l.updateResult(),g},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),E.useEffect(()=>{l.setOptions(o)},[o,l]),rZ(o,c))throw EI(o,l,i);if(eZ({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((v=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,o,c),o.experimental_prefetchInRender&&!wu&&nZ(c,r)){const y=a?EI(o,l,i):(x=s.getQueryCache().get(o.queryHash))==null?void 0:x.promise;y==null||y.catch(Ui).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function Nu(t,e){return iZ(t,kK)}const sZ={theme:"light",setTheme:()=>null},x4=E.createContext(sZ);function oZ({children:t,defaultTheme:e="light",storageKey:n="vite-ui-theme"}){const[r,i]=E.useState(()=>localStorage.getItem(n)||e);E.useEffect(()=>{const o=window.document.documentElement;if(o.classList.remove("light","dark"),r==="system"){const a=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";o.classList.add(a);return}o.classList.add(r)},[r]);const s={theme:r,setTheme:o=>{localStorage.setItem(n,o),i(o)}};return T.jsx(x4.Provider,{value:s,children:t})}const y4=()=>{const t=E.useContext(x4);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function aZ(){const{theme:t}=y4(),e=t==="dark"?.03:.05;return T.jsxs("div",{className:"fixed inset-0 z-[-50] pointer-events-none overflow-hidden h-screen w-screen bg-background",children:[T.jsxs("svg",{className:"absolute inset-0 w-full h-full text-foreground",style:{opacity:e},xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("defs",{children:T.jsxs("pattern",{id:"doodle-pattern",x:"0",y:"0",width:"100",height:"100",patternUnits:"userSpaceOnUse",patternTransform:"rotate(15)",children:[T.jsx("path",{d:"M10 30 L30 30 L35 25 L45 25 L50 30 L70 30 L70 60 L10 60 Z M40 45 A 8 8 0 1 0 40 46",fill:"none",stroke:"currentColor",strokeWidth:"2"}),T.jsx("circle",{cx:"80",cy:"20",r:"8",fill:"none",stroke:"currentColor",strokeWidth:"2"}),T.jsx("path",{d:"M77 18 L77 20 M83 18 L83 20",stroke:"currentColor",strokeWidth:"2"}),T.jsx("path",{d:"M76 23 Q80 28 84 23",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),T.jsx("path",{d:"M15 80 L25 80 L20 95 L35 95 L15 115 L20 100 L10 100 Z",fill:"currentColor"}),T.jsx("path",{d:"M60 70 Q70 60 80 70 T100 70",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"4 4"}),T.jsx("path",{d:"M50 10 V20 M45 15 H55",stroke:"currentColor",strokeWidth:"1"})]})}),T.jsx("rect",{width:"100%",height:"100%",fill:"url(#doodle-pattern)"})]}),T.jsx("div",{className:"absolute inset-0 opacity-[0.15] mix-blend-overlay",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}})]})}const lZ=()=>{const t=Fa();return E.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),T.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:T.jsxs("div",{className:"text-center",children:[T.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),T.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),T.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},_4=E.createContext({});function cZ(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const EC=typeof window<"u",uZ=EC?E.useLayoutEffect:E.useEffect,TC=E.createContext(null);function CC(t,e){t.indexOf(e)===-1&&t.push(e)}function AC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Na=(t,e,n)=>n>e?e:n<t?t:n;let RC=()=>{};const Da={},w4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function S4(t){return typeof t=="object"&&t!==null}const b4=t=>/^0[^.\s]+$/u.test(t);function PC(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ds=t=>t,dZ=(t,e)=>n=>e(t(n)),tg=(...t)=>t.reduce(dZ),dm=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class IC{constructor(){this.subscriptions=[]}add(e){return CC(this.subscriptions,e),()=>AC(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ho=t=>t*1e3,Is=t=>t/1e3;function M4(t,e){return e?t*(1e3/e):0}const E4=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,fZ=1e-7,hZ=12;function pZ(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=E4(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>fZ&&++a<hZ);return o}function ng(t,e,n,r){if(t===e&&n===r)return Ds;const i=s=>pZ(s,0,1,t,n);return s=>s===0||s===1?s:E4(i(s),e,r)}const T4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,C4=t=>e=>1-t(1-e),A4=ng(.33,1.53,.69,.99),NC=C4(A4),R4=T4(NC),P4=t=>(t*=2)<1?.5*NC(t):.5*(2-Math.pow(2,-10*(t-1))),DC=t=>1-Math.sin(Math.acos(t)),I4=C4(DC),N4=T4(DC),mZ=ng(.42,0,1,1),gZ=ng(0,0,.58,1),D4=ng(.42,0,.58,1),vZ=t=>Array.isArray(t)&&typeof t[0]!="number",L4=t=>Array.isArray(t)&&typeof t[0]=="number",xZ={linear:Ds,easeIn:mZ,easeInOut:D4,easeOut:gZ,circIn:DC,circInOut:N4,circOut:I4,backIn:NC,backInOut:R4,backOut:A4,anticipate:P4},yZ=t=>typeof t=="string",TI=t=>{if(L4(t)){RC(t.length===4);const[e,n,r,i]=t;return ng(e,n,r,i)}else if(yZ(t))return xZ[t];return t},z0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function _Z(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){o.has(u)&&(c.schedule(u),t()),u(a)}const c={schedule:(u,d=!1,p=!1)=>{const v=p&&i?n:r;return d&&o.add(u),v.has(u)||v.add(u),u},cancel:u=>{r.delete(u),o.delete(u)},process:u=>{if(a=u,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,c.process(u))}};return c}const wZ=40;function O4(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=z0.reduce((S,M)=>(S[M]=_Z(s),S),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:p,render:m,postRender:v}=o,x=()=>{const S=Da.useManualTiming?i.timestamp:performance.now();n=!1,Da.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(S-i.timestamp,wZ),1)),i.timestamp=S,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),p.process(i),m.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(x))},y=()=>{n=!0,r=!0,i.isProcessing||t(x)};return{schedule:z0.reduce((S,M)=>{const A=o[M];return S[M]=(R,C=!1,D=!1)=>(n||y(),A.schedule(R,C,D)),S},{}),cancel:S=>{for(let M=0;M<z0.length;M++)o[z0[M]].cancel(S)},state:i,steps:o}}const{schedule:qn,cancel:Vl,state:Gr,steps:lS}=O4(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ds,!0);let ax;function SZ(){ax=void 0}const Hi={now:()=>(ax===void 0&&Hi.set(Gr.isProcessing||Da.useManualTiming?Gr.timestamp:performance.now()),ax),set:t=>{ax=t,queueMicrotask(SZ)}},F4=t=>e=>typeof e=="string"&&e.startsWith(t),k4=F4("--"),bZ=F4("var(--"),LC=t=>bZ(t)?MZ.test(t.split("/*")[0].trim()):!1,MZ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Qf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},fm={...Qf,transform:t=>Na(0,1,t)},V0={...Qf,default:1},Tp=t=>Math.round(t*1e5)/1e5,OC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function EZ(t){return t==null}const TZ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,FC=(t,e)=>n=>!!(typeof n=="string"&&TZ.test(n)&&n.startsWith(t)||e&&!EZ(n)&&Object.prototype.hasOwnProperty.call(n,e)),U4=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(OC);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},CZ=t=>Na(0,255,t),cS={...Qf,transform:t=>Math.round(CZ(t))},Hc={test:FC("rgb","red"),parse:U4("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+cS.transform(t)+", "+cS.transform(e)+", "+cS.transform(n)+", "+Tp(fm.transform(r))+")"};function AZ(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const nE={test:FC("#"),parse:AZ,transform:Hc.transform},rg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),sl=rg("deg"),jo=rg("%"),Kt=rg("px"),RZ=rg("vh"),PZ=rg("vw"),CI={...jo,parse:t=>jo.parse(t)/100,transform:t=>jo.transform(t*100)},Bd={test:FC("hsl","hue"),parse:U4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+jo.transform(Tp(e))+", "+jo.transform(Tp(n))+", "+Tp(fm.transform(r))+")"},br={test:t=>Hc.test(t)||nE.test(t)||Bd.test(t),parse:t=>Hc.test(t)?Hc.parse(t):Bd.test(t)?Bd.parse(t):nE.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Hc.transform(t):Bd.transform(t),getAnimatableNone:t=>{const e=br.parse(t);return e.alpha=0,br.transform(e)}},IZ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function NZ(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(OC))==null?void 0:e.length)||0)+(((n=t.match(IZ))==null?void 0:n.length)||0)>0}const B4="number",z4="color",DZ="var",LZ="var(",AI="${}",OZ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hm(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(OZ,l=>(br.test(l)?(r.color.push(s),i.push(z4),n.push(br.parse(l))):l.startsWith(LZ)?(r.var.push(s),i.push(DZ),n.push(l)):(r.number.push(s),i.push(B4),n.push(parseFloat(l))),++s,AI)).split(AI);return{values:n,split:a,indexes:r,types:i}}function V4(t){return hm(t).values}function H4(t){const{split:e,types:n}=hm(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===B4?s+=Tp(i[o]):a===z4?s+=br.transform(i[o]):s+=i[o]}return s}}const FZ=t=>typeof t=="number"?0:br.test(t)?br.getAnimatableNone(t):t;function kZ(t){const e=V4(t);return H4(t)(e.map(FZ))}const Hl={test:NZ,parse:V4,createTransformer:H4,getAnimatableNone:kZ};function uS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function UZ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=uS(l,a,t+1/3),s=uS(l,a,t),o=uS(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Zx(t,e){return n=>n>0?e:t}const Jn=(t,e,n)=>t+(e-t)*n,dS=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},BZ=[nE,Hc,Bd],zZ=t=>BZ.find(e=>e.test(t));function RI(t){const e=zZ(t);if(!e)return!1;let n=e.parse(t);return e===Bd&&(n=UZ(n)),n}const PI=(t,e)=>{const n=RI(t),r=RI(e);if(!n||!r)return Zx(t,e);const i={...n};return s=>(i.red=dS(n.red,r.red,s),i.green=dS(n.green,r.green,s),i.blue=dS(n.blue,r.blue,s),i.alpha=Jn(n.alpha,r.alpha,s),Hc.transform(i))},rE=new Set(["none","hidden"]);function VZ(t,e){return rE.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function HZ(t,e){return n=>Jn(t,e,n)}function kC(t){return typeof t=="number"?HZ:typeof t=="string"?LC(t)?Zx:br.test(t)?PI:WZ:Array.isArray(t)?j4:typeof t=="object"?br.test(t)?PI:jZ:Zx}function j4(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>kC(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function jZ(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=kC(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function GZ(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const WZ=(t,e)=>{const n=Hl.createTransformer(e),r=hm(t),i=hm(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?rE.has(t)&&!i.values.length||rE.has(e)&&!r.values.length?VZ(t,e):tg(j4(GZ(r,i),i.values),n):Zx(t,e)};function G4(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Jn(t,e,n):kC(t)(t,e)}const XZ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>qn.update(e,n),stop:()=>Vl(e),now:()=>Gr.isProcessing?Gr.timestamp:Hi.now()}},W4=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Qx=2e4;function UC(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Qx;)e+=n,r=t.next(e);return e>=Qx?1/0:e}function $Z(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(UC(r),Qx);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Is(i)}}const YZ=5;function X4(t,e,n){const r=Math.max(e-YZ,0);return M4(n-t(r),e-r)}const dr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fS=.001;function qZ({duration:t=dr.duration,bounce:e=dr.bounce,velocity:n=dr.velocity,mass:r=dr.mass}){let i,s,o=1-e;o=Na(dr.minDamping,dr.maxDamping,o),t=Na(dr.minDuration,dr.maxDuration,Is(t)),o<1?(i=c=>{const u=c*o,d=u*t,p=u-n,m=iE(c,o),v=Math.exp(-d);return fS-p/m*v},s=c=>{const d=c*o*t,p=d*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-d),x=iE(Math.pow(c,2),o);return(-i(c)+fS>0?-1:1)*((p-m)*v)/x}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-fS+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=ZZ(i,s,a);if(t=Ho(t),isNaN(l))return{stiffness:dr.stiffness,damping:dr.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const KZ=12;function ZZ(t,e,n){let r=n;for(let i=1;i<KZ;i++)r=r-t(r)/e(r);return r}function iE(t,e){return t*Math.sqrt(1-e*e)}const QZ=["duration","bounce"],JZ=["stiffness","damping","mass"];function II(t,e){return e.some(n=>t[n]!==void 0)}function eQ(t){let e={velocity:dr.velocity,stiffness:dr.stiffness,damping:dr.damping,mass:dr.mass,isResolvedFromDuration:!1,...t};if(!II(t,JZ)&&II(t,QZ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Na(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:dr.mass,stiffness:i,damping:s}}else{const n=qZ(t);e={...e,...n,mass:dr.mass},e.isResolvedFromDuration=!0}return e}function Jx(t=dr.visualDuration,e=dr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:p,isResolvedFromDuration:m}=eQ({...n,velocity:-Is(n.velocity||0)}),v=p||0,x=c/(2*Math.sqrt(l*u)),y=o-s,g=Is(Math.sqrt(l/u)),_=Math.abs(y)<5;r||(r=_?dr.restSpeed.granular:dr.restSpeed.default),i||(i=_?dr.restDelta.granular:dr.restDelta.default);let S;if(x<1){const A=iE(g,x);S=R=>{const C=Math.exp(-x*g*R);return o-C*((v+x*g*y)/A*Math.sin(A*R)+y*Math.cos(A*R))}}else if(x===1)S=A=>o-Math.exp(-g*A)*(y+(v+g*y)*A);else{const A=g*Math.sqrt(x*x-1);S=R=>{const C=Math.exp(-x*g*R),D=Math.min(A*R,300);return o-C*((v+x*g*y)*Math.sinh(D)+A*y*Math.cosh(D))/A}}const M={calculatedDuration:m&&d||null,next:A=>{const R=S(A);if(m)a.done=A>=d;else{let C=A===0?v:0;x<1&&(C=A===0?Ho(v):X4(S,A,R));const D=Math.abs(C)<=r,N=Math.abs(o-R)<=i;a.done=D&&N}return a.value=a.done?o:R,a},toString:()=>{const A=Math.min(UC(M),Qx),R=W4(C=>M.next(A*C).value,A,30);return A+"ms "+R},toTransition:()=>{}};return M}Jx.applyToOptions=t=>{const e=$Z(t,100,Jx);return t.ease=e.ease,t.duration=Ho(e.duration),t.type="keyframes",t};function sE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],p={done:!1,value:d},m=D=>a!==void 0&&D<a||l!==void 0&&D>l,v=D=>a===void 0?l:l===void 0||Math.abs(a-D)<Math.abs(l-D)?a:l;let x=n*e;const y=d+x,g=o===void 0?y:o(y);g!==y&&(x=g-d);const _=D=>-x*Math.exp(-D/r),S=D=>g+_(D),M=D=>{const N=_(D),I=S(D);p.done=Math.abs(N)<=c,p.value=p.done?g:I};let A,R;const C=D=>{m(p.value)&&(A=D,R=Jx({keyframes:[p.value,v(p.value)],velocity:X4(S,D,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:D=>{let N=!1;return!R&&A===void 0&&(N=!0,M(D),C(D)),A!==void 0&&D>=A?R.next(D-A):(!N&&M(D),p)}}}function tQ(t,e,n){const r=[],i=n||Da.mix||G4,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ds:e;a=tg(l,a)}r.push(a)}return r}function nQ(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(RC(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=tQ(e,r,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const p=dm(t[d],t[d+1],u);return a[d](p)};return n?u=>c(Na(t[0],t[s-1],u)):c}function rQ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=dm(0,e,r);t.push(Jn(n,1,i))}}function iQ(t){const e=[0];return rQ(e,t.length-1),e}function sQ(t,e){return t.map(n=>n*e)}function oQ(t,e){return t.map(()=>e||D4).splice(0,t.length-1)}function Cp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=vZ(r)?r.map(TI):TI(r),s={done:!1,value:e[0]},o=sQ(n&&n.length===e.length?n:iQ(e),t),a=nQ(o,e,{ease:Array.isArray(i)?i:oQ(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const aQ=t=>t!==null;function BC(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(aQ),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const lQ={decay:sE,inertia:sE,tween:Cp,keyframes:Cp,spring:Jx};function $4(t){typeof t.type=="string"&&(t.type=lQ[t.type])}class zC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const cQ=t=>t/100;class VC extends zC{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Hi.now()&&this.tick(Hi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;$4(e);const{type:n=Cp,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Cp;l!==Cp&&typeof a[0]!="number"&&(this.mixKeyframes=tg(cQ,G4(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=UC(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:p,repeatDelay:m,type:v,onUpdate:x,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let S=this.currentTime,M=r;if(d){const D=Math.min(this.currentTime,i)/a;let N=Math.floor(D),I=D%1;!I&&D>=1&&(I=1),I===1&&N--,N=Math.min(N,d+1),!!(N%2)&&(p==="reverse"?(I=1-I,m&&(I-=m/a)):p==="mirror"&&(M=o)),S=Na(0,1,I)*a}const A=_?{done:!1,value:u[0]}:M.next(S);s&&(A.value=s(A.value));let{done:R}=A;!_&&l!==null&&(R=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return C&&v!==sE&&(A.value=BC(u,this.options,y,this.speed)),x&&x(A.value),C&&this.finish(),A}then(e,n){return this.finished.then(e,n)}get duration(){return Is(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Is(e)}get time(){return Is(this.currentTime)}set time(e){var n;e=Ho(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Hi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Is(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=XZ,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Hi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function uQ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const jc=t=>t*180/Math.PI,oE=t=>{const e=jc(Math.atan2(t[1],t[0]));return aE(e)},dQ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:oE,rotateZ:oE,skewX:t=>jc(Math.atan(t[1])),skewY:t=>jc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},aE=t=>(t=t%360,t<0&&(t+=360),t),NI=oE,DI=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),LI=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),fQ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:DI,scaleY:LI,scale:t=>(DI(t)+LI(t))/2,rotateX:t=>aE(jc(Math.atan2(t[6],t[5]))),rotateY:t=>aE(jc(Math.atan2(-t[2],t[0]))),rotateZ:NI,rotate:NI,skewX:t=>jc(Math.atan(t[4])),skewY:t=>jc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function lE(t){return t.includes("scale")?1:0}function cE(t,e){if(!t||t==="none")return lE(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=fQ,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=dQ,i=a}if(!i)return lE(e);const s=r[e],o=i[1].split(",").map(pQ);return typeof s=="function"?s(o):o[s]}const hQ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return cE(n,e)};function pQ(t){return parseFloat(t.trim())}const Jf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],eh=new Set(Jf),OI=t=>t===Qf||t===Kt,mQ=new Set(["x","y","z"]),gQ=Jf.filter(t=>!mQ.has(t));function vQ(t){const e=[];return gQ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const au={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>cE(e,"x"),y:(t,{transform:e})=>cE(e,"y")};au.translateX=au.x;au.translateY=au.y;const lu=new Set;let uE=!1,dE=!1,fE=!1;function Y4(){if(dE){const t=Array.from(lu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=vQ(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}dE=!1,uE=!1,lu.forEach(t=>t.complete(fE)),lu.clear()}function q4(){lu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(dE=!0)})}function xQ(){fE=!0,q4(),Y4(),fE=!1}class HC{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(lu.add(this),uE||(uE=!0,qn.read(q4),qn.resolveKeyframes(Y4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}uQ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),lu.delete(this)}cancel(){this.state==="scheduled"&&(lu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const yQ=t=>t.startsWith("--");function _Q(t,e,n){yQ(e)?t.style.setProperty(e,n):t.style[e]=n}const wQ=PC(()=>window.ScrollTimeline!==void 0),SQ={};function bQ(t,e){const n=PC(t);return()=>SQ[e]??n()}const K4=bQ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),up=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,FI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:up([0,.65,.55,1]),circOut:up([.55,0,1,.45]),backIn:up([.31,.01,.66,-.59]),backOut:up([.33,1.53,.69,.99])};function Z4(t,e){if(t)return typeof t=="function"?K4()?W4(t,e):"ease-out":L4(t)?up(t):Array.isArray(t)?t.map(n=>Z4(n,e)||FI.easeOut):FI[t]}function MQ(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const d=Z4(a,i);Array.isArray(d)&&(u.easing=d);const p={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),t.animate(u,p)}function Q4(t){return typeof t=="function"&&"applyToOptions"in t}function EQ({type:t,...e}){return Q4(t)&&K4()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class TQ extends zC{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,RC(typeof e.type!="string");const c=EQ(e);this.animation=MQ(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=BC(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):_Q(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Is(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Is(e)}get time(){return Is(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ho(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&wQ()?(this.animation.timeline=e,Ds):n(this)}}const J4={anticipate:P4,backInOut:R4,circInOut:N4};function CQ(t){return t in J4}function AQ(t){typeof t.ease=="string"&&CQ(t.ease)&&(t.ease=J4[t.ease])}const kI=10;class RQ extends TQ{constructor(e){AQ(e),$4(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new VC({...o,autoplay:!1}),l=Ho(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-kI).value,a.sample(l).value,kI),a.stop()}}const UI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Hl.test(t)||t==="0")&&!t.startsWith("url("));function PQ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function IQ(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=UI(i,e),a=UI(s,e);return!o||!a?!1:PQ(t)||(n==="spring"||Q4(n))&&r}function hE(t){t.duration=0,t.type="keyframes"}const NQ=new Set(["opacity","clipPath","filter","transform"]),DQ=PC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function LQ(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return DQ()&&n&&NQ.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const OQ=40;class FQ extends zC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...d}){var v;super(),this.stop=()=>{var x,y;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=Hi.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:u,...d},m=(u==null?void 0:u.KeyframeResolver)||HC;this.keyframeResolver=new m(a,(x,y,g)=>this.onKeyframesResolved(x,y,p,!g),l,c,u),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=Hi.now(),IQ(e,s,o,a)||((Da.instantAnimations||!l)&&(u==null||u(BC(e,r,n))),e[0]=e[e.length-1],hE(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>OQ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!c&&LQ(p)?new RQ({...p,element:p.motionValue.owner.current}):new VC(p);m.finished.then(()=>this.notifyFinished()).catch(Ds),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),xQ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const kQ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UQ(t){const e=kQ.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function eB(t,e,n=1){const[r,i]=UQ(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return w4(o)?parseFloat(o):o}return LC(i)?eB(i,e,n+1):i}function jC(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const tB=new Set(["width","height","top","left","right","bottom",...Jf]),BQ={test:t=>t==="auto",parse:t=>t},nB=t=>e=>e.test(t),rB=[Qf,Kt,jo,sl,PZ,RZ,BQ],BI=t=>rB.find(nB(t));function zQ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||b4(t):!0}const VQ=new Set(["brightness","contrast","saturate","opacity"]);function HQ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(OC)||[];if(!r)return t;const i=n.replace(r,"");let s=VQ.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const jQ=/\b([a-z-]*)\(.*?\)/gu,pE={...Hl,getAnimatableNone:t=>{const e=t.match(jQ);return e?e.map(HQ).join(" "):t}},zI={...Qf,transform:Math.round},GQ={rotate:sl,rotateX:sl,rotateY:sl,rotateZ:sl,scale:V0,scaleX:V0,scaleY:V0,scaleZ:V0,skew:sl,skewX:sl,skewY:sl,distance:Kt,translateX:Kt,translateY:Kt,translateZ:Kt,x:Kt,y:Kt,z:Kt,perspective:Kt,transformPerspective:Kt,opacity:fm,originX:CI,originY:CI,originZ:Kt},GC={borderWidth:Kt,borderTopWidth:Kt,borderRightWidth:Kt,borderBottomWidth:Kt,borderLeftWidth:Kt,borderRadius:Kt,radius:Kt,borderTopLeftRadius:Kt,borderTopRightRadius:Kt,borderBottomRightRadius:Kt,borderBottomLeftRadius:Kt,width:Kt,maxWidth:Kt,height:Kt,maxHeight:Kt,top:Kt,right:Kt,bottom:Kt,left:Kt,padding:Kt,paddingTop:Kt,paddingRight:Kt,paddingBottom:Kt,paddingLeft:Kt,margin:Kt,marginTop:Kt,marginRight:Kt,marginBottom:Kt,marginLeft:Kt,backgroundPositionX:Kt,backgroundPositionY:Kt,...GQ,zIndex:zI,fillOpacity:fm,strokeOpacity:fm,numOctaves:zI},WQ={...GC,color:br,backgroundColor:br,outlineColor:br,fill:br,stroke:br,borderColor:br,borderTopColor:br,borderRightColor:br,borderBottomColor:br,borderLeftColor:br,filter:pE,WebkitFilter:pE},iB=t=>WQ[t];function sB(t,e){let n=iB(t);return n!==pE&&(n=Hl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const XQ=new Set(["auto","none","0"]);function $Q(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!XQ.has(s)&&hm(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=sB(n,i)}class YQ extends HC{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),LC(c))){const u=eB(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!tB.has(r)||e.length!==2)return;const[i,s]=e,o=BI(i),a=BI(s);if(o!==a)if(OI(o)&&OI(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else au[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||zQ(e[i]))&&r.push(i);r.length&&$Q(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=au[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=au[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function oB(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const aB=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function qQ(t){return S4(t)&&"offsetHeight"in t}const VI=30,KQ=t=>!isNaN(parseFloat(t));class ZQ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Hi.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Hi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=KQ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new IC);const r=this.events[e].add(n);return e==="change"?()=>{r(),qn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Hi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>VI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,VI);return M4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Af(t,e){return new ZQ(t,e)}const{schedule:WC}=O4(queueMicrotask,!1),Ks={x:!1,y:!1};function lB(){return Ks.x||Ks.y}function QQ(t){return t==="x"||t==="y"?Ks[t]?null:(Ks[t]=!0,()=>{Ks[t]=!1}):Ks.x||Ks.y?null:(Ks.x=Ks.y=!0,()=>{Ks.x=Ks.y=!1})}function cB(t,e){const n=oB(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function HI(t){return!(t.pointerType==="touch"||lB())}function JQ(t,e,n={}){const[r,i,s]=cB(t,n),o=a=>{if(!HI(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=d=>{HI(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const uB=(t,e)=>e?t===e?!0:uB(t,e.parentElement):!1,XC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,eJ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tJ(t){return eJ.has(t.tagName)||t.tabIndex!==-1}const lx=new WeakSet;function jI(t){return e=>{e.key==="Enter"&&t(e)}}function hS(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const nJ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=jI(()=>{if(lx.has(n))return;hS(n,"down");const i=jI(()=>{hS(n,"up")}),s=()=>hS(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function GI(t){return XC(t)&&!lB()}function rJ(t,e,n={}){const[r,i,s]=cB(t,n),o=a=>{const l=a.currentTarget;if(!GI(a))return;lx.add(l);const c=e(l,a),u=(m,v)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",p),lx.has(l)&&lx.delete(l),GI(m)&&typeof c=="function"&&c(m,{success:v})},d=m=>{u(m,l===window||l===document||n.useGlobalTarget||uB(l,m.target))},p=m=>{u(m,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),qQ(a)&&(a.addEventListener("focus",c=>nJ(c,i)),!tJ(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function dB(t){return S4(t)&&"ownerSVGElement"in t}function iJ(t){return dB(t)&&t.tagName==="svg"}const ai=t=>!!(t&&t.getVelocity),sJ=[...rB,br,Hl],oJ=t=>sJ.find(nB(t)),fB=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function aJ(t=!0){const e=E.useContext(TC);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=E.useId();E.useEffect(()=>{if(t)return i(s)},[t]);const o=E.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const hB=E.createContext({strict:!1}),WI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rf={};for(const t in WI)Rf[t]={isEnabled:e=>WI[t].some(n=>!!e[n])};function lJ(t){for(const e in t)Rf[e]={...Rf[e],...t[e]}}const cJ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ey(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||cJ.has(t)}let pB=t=>!ey(t);function uJ(t){typeof t=="function"&&(pB=e=>e.startsWith("on")?!ey(e):t(e))}try{uJ(require("@emotion/is-prop-valid").default)}catch{}function dJ(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(pB(i)||n===!0&&ey(i)||!e&&!ey(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const C_=E.createContext({});function A_(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function pm(t){return typeof t=="string"||Array.isArray(t)}const $C=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],YC=["initial",...$C];function R_(t){return A_(t.animate)||YC.some(e=>pm(t[e]))}function mB(t){return!!(R_(t)||t.variants)}function fJ(t,e){if(R_(t)){const{initial:n,animate:r}=t;return{initial:n===!1||pm(n)?n:void 0,animate:pm(r)?r:void 0}}return t.inherit!==!1?e:{}}function hJ(t){const{initial:e,animate:n}=fJ(t,E.useContext(C_));return E.useMemo(()=>({initial:e,animate:n}),[XI(e),XI(n)])}function XI(t){return Array.isArray(t)?t.join(" "):t}function $I(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Uh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Kt.test(t))t=parseFloat(t);else return t;const n=$I(t,e.target.x),r=$I(t,e.target.y);return`${n}% ${r}%`}},pJ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Hl.parse(t);if(i.length>5)return r;const s=Hl.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Jn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},mE={borderRadius:{...Uh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Uh,borderTopRightRadius:Uh,borderBottomLeftRadius:Uh,borderBottomRightRadius:Uh,boxShadow:pJ};function gB(t,{layout:e,layoutId:n}){return eh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!mE[t]||t==="opacity")}const mJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gJ=Jf.length;function vJ(t,e,n){let r="",i=!0;for(let s=0;s<gJ;s++){const o=Jf[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=aB(a,GC[o]);if(!l){i=!1;const u=mJ[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function qC(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(eh.has(l)){o=!0;continue}else if(k4(l)){i[l]=c;continue}else{const u=aB(c,GC[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=vJ(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const KC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vB(t,e,n){for(const r in e)!ai(e[r])&&!gB(r,n)&&(t[r]=e[r])}function xJ({transformTemplate:t},e){return E.useMemo(()=>{const n=KC();return qC(n,e,t),Object.assign({},n.vars,n.style)},[e])}function yJ(t,e){const n=t.style||{},r={};return vB(r,n,t),Object.assign(r,xJ(t,e)),r}function _J(t,e){const n={},r=yJ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const wJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},SJ={offset:"strokeDashoffset",array:"strokeDasharray"};function bJ(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?wJ:SJ;t[s.offset]=Kt.transform(-r);const o=Kt.transform(e),a=Kt.transform(n);t[s.array]=`${o} ${a}`}function xB(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,u){if(qC(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:p}=t;d.transform&&(p.transform=d.transform,delete d.transform),(p.transform||d.transformOrigin)&&(p.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),p.transform&&(p.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&bJ(d,i,s,o,!1)}const yB=()=>({...KC(),attrs:{}}),_B=t=>typeof t=="string"&&t.toLowerCase()==="svg";function MJ(t,e,n,r){const i=E.useMemo(()=>{const s=yB();return xB(s,e,_B(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};vB(s,t.style,t),i.style={...s,...i.style}}return i}const EJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ZC(t){return typeof t!="string"||t.includes("-")?!1:!!(EJ.indexOf(t)>-1||/[A-Z]/u.test(t))}function TJ(t,e,n,{latestValues:r},i,s=!1){const a=(ZC(t)?MJ:_J)(e,r,i,t),l=dJ(e,typeof t=="string",s),c=t!==E.Fragment?{...l,...a,ref:n}:{},{children:u}=e,d=E.useMemo(()=>ai(u)?u.get():u,[u]);return E.createElement(t,{...c,children:d})}function YI(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function QC(t,e,n,r){if(typeof e=="function"){const[i,s]=YI(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=YI(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function cx(t){return ai(t)?t.get():t}function CJ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:AJ(n,r,i,t),renderState:e()}}function AJ(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=cx(s[p]);let{initial:o,animate:a}=t;const l=R_(t),c=mB(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!A_(d)){const p=Array.isArray(d)?d:[d];for(let m=0;m<p.length;m++){const v=QC(t,p[m]);if(v){const{transitionEnd:x,transition:y,...g}=v;for(const _ in g){let S=g[_];if(Array.isArray(S)){const M=u?S.length-1:0;S=S[M]}S!==null&&(i[_]=S)}for(const _ in x)i[_]=x[_]}}}return i}const wB=t=>(e,n)=>{const r=E.useContext(C_),i=E.useContext(TC),s=()=>CJ(t,e,r,i);return n?s():cZ(s)};function JC(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(ai(r[o])||e.style&&ai(e.style[o])||gB(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const RJ=wB({scrapeMotionValuesFromProps:JC,createRenderState:KC});function SB(t,e,n){const r=JC(t,e,n);for(const i in t)if(ai(t[i])||ai(e[i])){const s=Jf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const PJ=wB({scrapeMotionValuesFromProps:SB,createRenderState:yB}),IJ=Symbol.for("motionComponentSymbol");function zd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function NJ(t,e,n){return E.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):zd(n)&&(n.current=r))},[e])}const eA=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),DJ="framerAppearId",bB="data-"+eA(DJ),MB=E.createContext({});function LJ(t,e,n,r,i){var x,y;const{visualElement:s}=E.useContext(C_),o=E.useContext(hB),a=E.useContext(TC),l=E.useContext(fB).reducedMotion,c=E.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,d=E.useContext(MB);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&OJ(c.current,n,i,d);const p=E.useRef(!1);E.useInsertionEffect(()=>{u&&p.current&&u.update(n,a)});const m=n[bB],v=E.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,m)));return uZ(()=>{u&&(p.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),v.current&&u.animationState&&u.animationState.animateChanges())}),E.useEffect(()=>{u&&(!v.current&&u.animationState&&u.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),v.current=!1),u.enteringChildren=void 0)}),u}function OJ(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:EB(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&zd(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function EB(t){if(t)return t.options.allowProjection!==!1?t.projection:EB(t.parent)}function pS(t,{forwardMotionProps:e=!1}={},n,r){n&&lJ(n);const i=ZC(t)?PJ:RJ;function s(a,l){let c;const u={...E.useContext(fB),...a,layoutId:FJ(a)},{isStatic:d}=u,p=hJ(a),m=i(a,d);if(!d&&EC){kJ();const v=UJ(u);c=v.MeasureLayout,p.visualElement=LJ(t,m,u,r,v.ProjectionNode)}return T.jsxs(C_.Provider,{value:p,children:[c&&p.visualElement?T.jsx(c,{visualElement:p.visualElement,...u}):null,TJ(t,a,NJ(m,p.visualElement,l),m,d,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=E.forwardRef(s);return o[IJ]=t,o}function FJ({layoutId:t}){const e=E.useContext(_4).id;return e&&t!==void 0?e+"-"+t:t}function kJ(t,e){E.useContext(hB).strict}function UJ(t){const{drag:e,layout:n}=Rf;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function BJ(t,e){if(typeof Proxy>"u")return pS;const n=new Map,r=(s,o)=>pS(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,pS(o,void 0,t,e)),n.get(o))})}function TB({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function zJ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function VJ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function mS(t){return t===void 0||t===1}function gE({scale:t,scaleX:e,scaleY:n}){return!mS(t)||!mS(e)||!mS(n)}function Nc(t){return gE(t)||CB(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function CB(t){return qI(t.x)||qI(t.y)}function qI(t){return t&&t!=="0%"}function ty(t,e,n){const r=t-n,i=e*r;return n+i}function KI(t,e,n,r,i){return i!==void 0&&(t=ty(t,i,r)),ty(t,n,r)+e}function vE(t,e=0,n=1,r,i){t.min=KI(t.min,e,n,r,i),t.max=KI(t.max,e,n,r,i)}function AB(t,{x:e,y:n}){vE(t.x,e.translate,e.scale,e.originPoint),vE(t.y,n.translate,n.scale,n.originPoint)}const ZI=.999999999999,QI=1.0000000000001;function HJ(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Hd(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,AB(t,o)),r&&Nc(s.latestValues)&&Hd(t,s.latestValues))}e.x<QI&&e.x>ZI&&(e.x=1),e.y<QI&&e.y>ZI&&(e.y=1)}function Vd(t,e){t.min=t.min+e,t.max=t.max+e}function JI(t,e,n,r,i=.5){const s=Jn(t.min,t.max,i);vE(t,e,n,s,r)}function Hd(t,e){JI(t.x,e.x,e.scaleX,e.scale,e.originX),JI(t.y,e.y,e.scaleY,e.scale,e.originY)}function RB(t,e){return TB(VJ(t.getBoundingClientRect(),e))}function jJ(t,e,n){const r=RB(t,n),{scroll:i}=e;return i&&(Vd(r.x,i.offset.x),Vd(r.y,i.offset.y)),r}const eN=()=>({translate:0,scale:1,origin:0,originPoint:0}),jd=()=>({x:eN(),y:eN()}),tN=()=>({min:0,max:0}),Ar=()=>({x:tN(),y:tN()}),xE={current:null},PB={current:!1};function GJ(){if(PB.current=!0,!!EC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xE.current=t.matches;t.addEventListener("change",e),e()}else xE.current=!1}const WJ=new WeakMap;function XJ(t,e,n){for(const r in e){const i=e[r],s=n[r];if(ai(i))t.addValue(r,i);else if(ai(s))t.addValue(r,Af(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Af(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const nN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $J{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=HC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Hi.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,qn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=R_(n),this.isVariantNode=mB(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const m=d[p];l[p]!==void 0&&ai(m)&&m.set(l[p])}}mount(e){var n;this.current=e,WJ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),PB.current||GJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xE.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Vl(this.notifyUpdate),Vl(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=eh.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&qn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Rf){const n=Rf[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ar()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<nN.length;r++){const i=nN[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=XJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Af(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(w4(r)||b4(r))?r=parseFloat(r):!oJ(r)&&Hl.test(n)&&(r=sB(e,n)),this.setBaseTarget(e,ai(r)?r.get():r)),ai(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=QC(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ai(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new IC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){WC.render(this.render)}}class IB extends $J{constructor(){super(...arguments),this.KeyframeResolver=YQ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ai(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function NB(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function YJ(t){return window.getComputedStyle(t)}class qJ extends IB{constructor(){super(...arguments),this.type="html",this.renderInstance=NB}readValueFromInstance(e,n){var r;if(eh.has(n))return(r=this.projection)!=null&&r.isProjecting?lE(n):hQ(e,n);{const i=YJ(e),s=(k4(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return RB(e,n)}build(e,n,r){qC(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return JC(e,n,r)}}const DB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function KJ(t,e,n,r){NB(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(DB.has(i)?i:eA(i),e.attrs[i])}class ZJ extends IB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ar}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(eh.has(n)){const r=iB(n);return r&&r.default||0}return n=DB.has(n)?n:eA(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return SB(e,n,r)}build(e,n,r){xB(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){KJ(e,n,r,i)}mount(e){this.isSVGTag=_B(e.tagName),super.mount(e)}}const QJ=(t,e)=>ZC(t)?new ZJ(e):new qJ(e,{allowProjection:t!==E.Fragment});function tf(t,e,n){const r=t.getProps();return QC(r,e,n!==void 0?n:r.custom,t)}const yE=t=>Array.isArray(t);function JJ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Af(n))}function eee(t){return yE(t)?t[t.length-1]||0:t}function tee(t,e){const n=tf(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=eee(s[o]);JJ(t,o,a)}}function nee(t){return!!(ai(t)&&t.add)}function _E(t,e){const n=t.getValue("willChange");if(nee(n))return n.add(e);if(!n&&Da.WillChange){const r=new Da.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function LB(t){return t.props[bB]}const ree=t=>t!==null;function iee(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(ree),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const see={type:"spring",stiffness:500,damping:25,restSpeed:10},oee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),aee={type:"keyframes",duration:.8},lee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cee=(t,{keyframes:e})=>e.length>2?aee:eh.has(t)?t.startsWith("scale")?oee(e[1]):see:lee;function uee({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const tA=(t,e,n,r={},i,s)=>o=>{const a=jC(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ho(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};uee(a)||Object.assign(u,cee(t,u)),u.duration&&(u.duration=Ho(u.duration)),u.repeatDelay&&(u.repeatDelay=Ho(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(hE(u),u.delay===0&&(d=!0)),(Da.instantAnimations||Da.skipAnimations)&&(d=!0,hE(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const p=iee(u.keyframes,a);if(p!==void 0){qn.update(()=>{u.onUpdate(p),u.onComplete()});return}}return a.isSync?new VC(u):new FQ(u)};function dee({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function OB(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in a){const d=t.getValue(u,t.latestValues[u]??null),p=a[u];if(p===void 0||c&&dee(c,u))continue;const m={delay:n,...jC(s||{},u)},v=d.get();if(v!==void 0&&!d.isAnimating&&!Array.isArray(p)&&p===v&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const g=LB(t);if(g){const _=window.MotionHandoffAnimation(g,u,qn);_!==null&&(m.startTime=_,x=!0)}}_E(t,u),d.start(tA(u,d,p,t.shouldReduceMotion&&tB.has(u)?{type:!1}:m,t,x));const y=d.animation;y&&l.push(y)}return o&&Promise.all(l).then(()=>{qn.update(()=>{o&&tee(t,o)})}),l}function FB(t,e,n,r=0,i=1){const s=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function wE(t,e,n={}){var l;const r=tf(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(OB(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:p}=i;return fee(t,e,c,u,d,p,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function fee(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(wE(l,e,{...o,delay:n+(typeof r=="function"?0:r)+FB(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function hee(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>wE(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=wE(t,e,n);else{const i=typeof e=="function"?tf(t,e,n.custom):e;r=Promise.all(OB(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function kB(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const pee=YC.length;function UB(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?UB(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<pee;n++){const r=YC[n],i=t.props[r];(pm(i)||i===!1)&&(e[r]=i)}return e}const mee=[...$C].reverse(),gee=$C.length;function vee(t){return e=>Promise.all(e.map(({animation:n,options:r})=>hee(t,n,r)))}function xee(t){let e=vee(t),n=rN(),r=!0;const i=l=>(c,u)=>{var p;const d=tf(t,u,l==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(d){const{transition:m,transitionEnd:v,...x}=d;c={...c,...x,...v}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=UB(t.parent)||{},d=[],p=new Set;let m={},v=1/0;for(let y=0;y<gee;y++){const g=mee[y],_=n[g],S=c[g]!==void 0?c[g]:u[g],M=pm(S),A=g===l?_.isActive:null;A===!1&&(v=y);let R=S===u[g]&&S!==c[g]&&M;if(R&&r&&t.manuallyAnimateOnMount&&(R=!1),_.protectedKeys={...m},!_.isActive&&A===null||!S&&!_.prevProp||A_(S)||typeof S=="boolean")continue;const C=yee(_.prevProp,S);let D=C||g===l&&_.isActive&&!R&&M||y>v&&M,N=!1;const I=Array.isArray(S)?S:[S];let F=I.reduce(i(g),{});A===!1&&(F={});const{prevResolvedValues:V={}}=_,Y={...V,...F},G=ie=>{D=!0,p.has(ie)&&(N=!0,p.delete(ie)),_.needsAnimating[ie]=!0;const z=t.getValue(ie);z&&(z.liveStyle=!1)};for(const ie in Y){const z=F[ie],H=V[ie];if(m.hasOwnProperty(ie))continue;let $=!1;yE(z)&&yE(H)?$=!kB(z,H):$=z!==H,$?z!=null?G(ie):p.add(ie):z!==void 0&&p.has(ie)?G(ie):_.protectedKeys[ie]=!0}_.prevProp=S,_.prevResolvedValues=F,_.isActive&&(m={...m,...F}),r&&t.blockInitialAnimation&&(D=!1);const ee=R&&C;D&&(!ee||N)&&d.push(...I.map(ie=>{const z={type:g};if(typeof ie=="string"&&r&&!ee&&t.manuallyAnimateOnMount&&t.parent){const{parent:H}=t,$=tf(H,ie);if(H.enteringChildren&&$){const{delayChildren:oe}=$.transition||{};z.delay=FB(H.enteringChildren,t,oe)}}return{animation:ie,options:z}}))}if(p.size){const y={};if(typeof c.initial!="boolean"){const g=tf(t,Array.isArray(c.initial)?c.initial[0]:c.initial);g&&g.transition&&(y.transition=g.transition)}p.forEach(g=>{const _=t.getBaseTarget(g),S=t.getValue(g);S&&(S.liveStyle=!0),y[g]=_??null}),d.push({animation:y})}let x=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(d):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(p=>{var m;return(m=p.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const p in n)n[p].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=rN()}}}function yee(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!kB(e,t):!1}function mc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rN(){return{animate:mc(!0),whileInView:mc(),whileHover:mc(),whileTap:mc(),whileDrag:mc(),whileFocus:mc(),exit:mc()}}class tc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class _ee extends tc{constructor(e){super(e),e.animationState||(e.animationState=xee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();A_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let wee=0;class See extends tc{constructor(){super(...arguments),this.id=wee++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const bee={animation:{Feature:_ee},exit:{Feature:See}};function mm(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ig(t){return{point:{x:t.pageX,y:t.pageY}}}const Mee=t=>e=>XC(e)&&t(e,ig(e));function Ap(t,e,n,r){return mm(t,e,Mee(n),r)}const BB=1e-4,Eee=1-BB,Tee=1+BB,zB=.01,Cee=0-zB,Aee=0+zB;function yi(t){return t.max-t.min}function Ree(t,e,n){return Math.abs(t-e)<=n}function iN(t,e,n,r=.5){t.origin=r,t.originPoint=Jn(e.min,e.max,t.origin),t.scale=yi(n)/yi(e),t.translate=Jn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Eee&&t.scale<=Tee||isNaN(t.scale))&&(t.scale=1),(t.translate>=Cee&&t.translate<=Aee||isNaN(t.translate))&&(t.translate=0)}function Rp(t,e,n,r){iN(t.x,e.x,n.x,r?r.originX:void 0),iN(t.y,e.y,n.y,r?r.originY:void 0)}function sN(t,e,n){t.min=n.min+e.min,t.max=t.min+yi(e)}function Pee(t,e,n){sN(t.x,e.x,n.x),sN(t.y,e.y,n.y)}function oN(t,e,n){t.min=e.min-n.min,t.max=t.min+yi(e)}function ny(t,e,n){oN(t.x,e.x,n.x),oN(t.y,e.y,n.y)}function Ms(t){return[t("x"),t("y")]}const VB=({current:t})=>t?t.ownerDocument.defaultView:null,aN=(t,e)=>Math.abs(t-e);function Iee(t,e){const n=aN(t.x,e.x),r=aN(t.y,e.y);return Math.sqrt(n**2+r**2)}class HB{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=vS(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=Iee(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!v)return;const{point:x}=p,{timestamp:y}=Gr;this.history.push({...x,timestamp:y});const{onStart:g,onMove:_}=this.handlers;m||(g&&g(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=gS(m,this.transformPagePoint),qn.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=vS(p.type==="pointercancel"?this.lastMoveEventInfo:gS(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,g),x&&x(p,g)},!XC(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=ig(e),l=gS(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Gr;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,vS(l,this.history)),this.removeListeners=tg(Ap(this.contextWindow,"pointermove",this.handlePointerMove),Ap(this.contextWindow,"pointerup",this.handlePointerUp),Ap(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vl(this.updatePoint)}}function gS(t,e){return e?{point:e(t.point)}:t}function lN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vS({point:t},e){return{point:t,delta:lN(t,jB(e)),offset:lN(t,Nee(e)),velocity:Dee(e,.1)}}function Nee(t){return t[0]}function jB(t){return t[t.length-1]}function Dee(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=jB(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ho(e)));)n--;if(!r)return{x:0,y:0};const s=Is(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Lee(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Jn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Jn(n,t,r.max):Math.min(t,n)),t}function cN(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Oee(t,{top:e,left:n,bottom:r,right:i}){return{x:cN(t.x,n,i),y:cN(t.y,e,r)}}function uN(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Fee(t,e){return{x:uN(t.x,e.x),y:uN(t.y,e.y)}}function kee(t,e){let n=.5;const r=yi(t),i=yi(e);return i>r?n=dm(e.min,e.max-r,t.min):r>i&&(n=dm(t.min,t.max-i,e.min)),Na(0,1,n)}function Uee(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const SE=.35;function Bee(t=SE){return t===!1?t=0:t===!0&&(t=SE),{x:dN(t,"left","right"),y:dN(t,"top","bottom")}}function dN(t,e,n){return{min:fN(t,e),max:fN(t,n)}}function fN(t,e){return typeof t=="number"?t:t[e]||0}const zee=new WeakMap;class Vee{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ar(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ig(d).point)},o=(d,p)=>{const{drag:m,dragPropagation:v,onDragStart:x}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QQ(m),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ms(g=>{let _=this.getAxisMotionValue(g).get()||0;if(jo.test(_)){const{projection:S}=this.visualElement;if(S&&S.layout){const M=S.layout.layoutBox[g];M&&(_=yi(M)*(parseFloat(_)/100))}}this.originPoint[g]=_}),x&&qn.postRender(()=>x(d,p)),_E(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(d,p)=>{this.latestPointerEvent=d,this.latestPanInfo=p;const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:x,onDrag:y}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=p;if(v&&this.currentDirection===null){this.currentDirection=Hee(g),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",p.point,g),this.updateAxis("y",p.point,g),this.visualElement.render(),y&&y(d,p)},l=(d,p)=>{this.latestPointerEvent=d,this.latestPanInfo=p,this.stop(d,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Ms(d=>{var p;return this.getAnimationState(d)==="paused"&&((p=this.getAxisMotionValue(d).animation)==null?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new HB(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:VB(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&qn.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!H0(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Lee(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&zd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Oee(r.layoutBox,e):this.constraints=!1,this.elastic=Bee(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ms(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Uee(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=jJ(r,i.root,this.visualElement.getTransformPagePoint());let o=Fee(i.layout.layoutBox,s);if(n){const a=n(zJ(o));this.hasMutatedConstraints=!!a,a&&(o=TB(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Ms(u=>{if(!H0(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return _E(this.visualElement,e),r.start(tA(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ms(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ms(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ms(n=>{const{drag:r}=this.getProps();if(!H0(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Jn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!zd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ms(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=kee({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ms(o=>{if(!H0(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Jn(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;zee.set(this.visualElement,this);const e=this.visualElement.current,n=Ap(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();zd(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),qn.read(r);const o=mm(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ms(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=SE,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function H0(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Hee(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class jee extends tc{constructor(e){super(e),this.removeGroupControls=Ds,this.removeListeners=Ds,this.controls=new Vee(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ds}unmount(){this.removeGroupControls(),this.removeListeners()}}const hN=t=>(e,n)=>{t&&qn.postRender(()=>t(e,n))};class Gee extends tc{constructor(){super(...arguments),this.removePointerDownListener=Ds}onPointerDown(e){this.session=new HB(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VB(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:hN(e),onStart:hN(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&qn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ap(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ux={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let xS=!1;class Wee extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),xS&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ux.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,xS=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||qn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),WC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;xS=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function GB(t){const[e,n]=aJ(),r=E.useContext(_4);return T.jsx(Wee,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(MB),isPresent:e,safeToRemove:n})}function Xee(t,e,n){const r=ai(t)?t:Af(t);return r.start(tA("",r,e,n)),r.animation}const $ee=(t,e)=>t.depth-e.depth;class Yee{constructor(){this.children=[],this.isDirty=!1}add(e){CC(this.children,e),this.isDirty=!0}remove(e){AC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($ee),this.isDirty=!1,this.children.forEach(e)}}function qee(t,e){const n=Hi.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Vl(r),t(s-e))};return qn.setup(r,!0),()=>Vl(r)}const WB=["TopLeft","TopRight","BottomLeft","BottomRight"],Kee=WB.length,pN=t=>typeof t=="string"?parseFloat(t):t,mN=t=>typeof t=="number"||Kt.test(t);function Zee(t,e,n,r,i,s){i?(t.opacity=Jn(0,n.opacity??1,Qee(r)),t.opacityExit=Jn(e.opacity??1,0,Jee(r))):s&&(t.opacity=Jn(e.opacity??1,n.opacity??1,r));for(let o=0;o<Kee;o++){const a=`border${WB[o]}Radius`;let l=gN(e,a),c=gN(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||mN(l)===mN(c)?(t[a]=Math.max(Jn(pN(l),pN(c),r),0),(jo.test(c)||jo.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Jn(e.rotate||0,n.rotate||0,r))}function gN(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Qee=XB(0,.5,I4),Jee=XB(.5,.95,Ds);function XB(t,e,n){return r=>r<t?0:r>e?1:n(dm(t,e,r))}function vN(t,e){t.min=e.min,t.max=e.max}function Ws(t,e){vN(t.x,e.x),vN(t.y,e.y)}function xN(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function yN(t,e,n,r,i){return t-=e,t=ty(t,1/n,r),i!==void 0&&(t=ty(t,1/i,r)),t}function ete(t,e=0,n=1,r=.5,i,s=t,o=t){if(jo.test(e)&&(e=parseFloat(e),e=Jn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Jn(s.min,s.max,r);t===s&&(a-=e),t.min=yN(t.min,e,n,a,i),t.max=yN(t.max,e,n,a,i)}function _N(t,e,[n,r,i],s,o){ete(t,e[n],e[r],e[i],e.scale,s,o)}const tte=["x","scaleX","originX"],nte=["y","scaleY","originY"];function wN(t,e,n,r){_N(t.x,e,tte,n?n.x:void 0,r?r.x:void 0),_N(t.y,e,nte,n?n.y:void 0,r?r.y:void 0)}function SN(t){return t.translate===0&&t.scale===1}function $B(t){return SN(t.x)&&SN(t.y)}function bN(t,e){return t.min===e.min&&t.max===e.max}function rte(t,e){return bN(t.x,e.x)&&bN(t.y,e.y)}function MN(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function YB(t,e){return MN(t.x,e.x)&&MN(t.y,e.y)}function EN(t){return yi(t.x)/yi(t.y)}function TN(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ite{constructor(){this.members=[]}add(e){CC(this.members,e),e.scheduleRender()}remove(e){if(AC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ste(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:p,skewX:m,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const yS=["","X","Y","Z"],ote=1e3;let ate=0;function _S(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function qB(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=LB(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",qn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&qB(r)}function KB({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=ate++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ute),this.nodes.forEach(pte),this.nodes.forEach(mte),this.nodes.forEach(dte)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Yee)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new IC),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=dB(o)&&!iJ(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let u,d=0;const p=()=>this.root.updateBlockedByResize=!1;qn.read(()=>{d=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==d&&(d=m,this.root.updateBlockedByResize=!0,u&&u(),u=qee(p,250),ux.hasAnimatedSinceResize&&(ux.hasAnimatedSinceResize=!1,this.nodes.forEach(RN)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||_te,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=c.getProps(),g=!this.targetLayout||!YB(this.targetLayout,m),_=!d&&p;if(this.options.layoutRoot||this.resumeFrom||_||d&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...jC(v,"layout"),onPlay:x,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(u,_)}else d||RN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gte),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qB(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(CN);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(AN);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(hte),this.nodes.forEach(lte),this.nodes.forEach(cte)):this.nodes.forEach(AN),this.clearAllSnapshots();const a=Hi.now();Gr.delta=Na(0,1e3/60,a-Gr.timestamp),Gr.timestamp=a,Gr.isProcessing=!0,lS.update.process(Gr),lS.preRender.process(Gr),lS.render.process(Gr),Gr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,WC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fte),this.sharedNodes.forEach(vte)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yi(this.snapshot.measuredBox.x)&&!yi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ar(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!$B(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Nc(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),wte(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Ar();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Ste))){const{scroll:u}=this.root;u&&(Vd(a.x,u.offset.x),Vd(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=Ar();if(Ws(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:p}=u;u!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&Ws(a,o),Vd(a.x,d.offset.x),Vd(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=Ar();Ws(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Hd(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Nc(u.latestValues)&&Hd(l,u.latestValues)}return Nc(this.latestValues)&&Hd(l,this.latestValues),l}removeTransform(o){const a=Ar();Ws(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Nc(c.latestValues))continue;gE(c.latestValues)&&c.updateSnapshot();const u=Ar(),d=c.measurePageBox();Ws(u,d),wN(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Nc(this.latestValues)&&wN(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!this.layout||!(u||d))return;this.resolvedRelativeTargetAt=Gr.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ar(),this.targetWithTransforms=Ar()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Pee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ws(this.target,this.layout.layoutBox),AB(this.target,this.targetDelta)):Ws(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||gE(this.parent.latestValues)||CB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ar(),this.relativeTargetOrigin=Ar(),ny(this.relativeTargetOrigin,a,l),Ws(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Gr.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Ws(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;HJ(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ar());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xN(this.prevProjectionDelta.x,this.projectionDelta.x),xN(this.prevProjectionDelta.y,this.projectionDelta.y)),Rp(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==p||!TN(this.projectionDelta.x,this.prevProjectionDelta.x)||!TN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=jd(),this.projectionDelta=jd(),this.projectionDeltaWithTransform=jd()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=jd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Ar(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,x=m!==v,y=this.getStack(),g=!y||y.members.length<=1,_=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(yte));this.animationProgress=0;let S;this.mixTargetDelta=M=>{const A=M/1e3;PN(d.x,o.x,A),PN(d.y,o.y,A),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ny(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xte(this.relativeTarget,this.relativeTargetOrigin,p,A),S&&rte(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Ar()),Ws(S,this.relativeTarget)),x&&(this.animationValues=u,Zee(u,c,this.latestValues,A,_,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Vl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qn.update(()=>{ux.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Af(0)),this.currentAnimation=Xee(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ote),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&ZB(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ar();const d=yi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=yi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Ws(a,l),Hd(a,u),Rp(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ite),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&_S("z",o,c,this.animationValues);for(let u=0;u<yS.length;u++)_S(`rotate${yS[u]}`,o,c,this.animationValues),_S(`skew${yS[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=cx(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=cx(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Nc(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=ste(this.projectionDeltaWithTransform,this.treeScale,u);l&&(d=l(u,d)),o.transform=d;const{x:p,y:m}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const v in mE){if(u[v]===void 0)continue;const{correct:x,applyTo:y,isCSSVariable:g}=mE[v],_=d==="none"?u[v]:x(u[v],c);if(y){const S=y.length;for(let M=0;M<S;M++)o[y[M]]=_}else g?this.options.visualElement.renderState.vars[v]=_:o[v]=_}this.options.layoutId&&(o.pointerEvents=c===this?cx(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(CN),this.root.sharedNodes.clear()}}}function lte(t){t.updateLayout()}function cte(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Ms(d=>{const p=o?e.measuredBox[d]:e.layoutBox[d],m=yi(p);p.min=r[d].min,p.max=p.min+m}):ZB(s,e.layoutBox,r)&&Ms(d=>{const p=o?e.measuredBox[d]:e.layoutBox[d],m=yi(r[d]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=jd();Rp(a,r,e.layoutBox);const l=jd();o?Rp(l,t.applyTransform(i,!0),e.measuredBox):Rp(l,r,e.layoutBox);const c=!$B(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const v=Ar();ny(v,e.layoutBox,p.layoutBox);const x=Ar();ny(x,r,m.layoutBox),YB(v,x)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ute(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dte(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function fte(t){t.clearSnapshot()}function CN(t){t.clearMeasurements()}function AN(t){t.isLayoutDirty=!1}function hte(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function RN(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function pte(t){t.resolveTargetDelta()}function mte(t){t.calcProjection()}function gte(t){t.resetSkewAndRotation()}function vte(t){t.removeLeadSnapshot()}function PN(t,e,n){t.translate=Jn(e.translate,0,n),t.scale=Jn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function IN(t,e,n,r){t.min=Jn(e.min,n.min,r),t.max=Jn(e.max,n.max,r)}function xte(t,e,n,r){IN(t.x,e.x,n.x,r),IN(t.y,e.y,n.y,r)}function yte(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const _te={duration:.45,ease:[.4,0,.1,1]},NN=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),DN=NN("applewebkit/")&&!NN("chrome/")?Math.round:Ds;function LN(t){t.min=DN(t.min),t.max=DN(t.max)}function wte(t){LN(t.x),LN(t.y)}function ZB(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ree(EN(e),EN(n),.2)}function Ste(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const bte=KB({attachResizeListener:(t,e)=>mm(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wS={current:void 0},QB=KB({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!wS.current){const t=new bte({});t.mount(window),t.setOptions({layoutScroll:!0}),wS.current=t}return wS.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Mte={pan:{Feature:Gee},drag:{Feature:jee,ProjectionNode:QB,MeasureLayout:GB}};function ON(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&qn.postRender(()=>s(e,ig(e)))}class Ete extends tc{mount(){const{current:e}=this.node;e&&(this.unmount=JQ(e,(n,r)=>(ON(this.node,r,"Start"),i=>ON(this.node,i,"End"))))}unmount(){}}class Tte extends tc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tg(mm(this.node.current,"focus",()=>this.onFocus()),mm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function FN(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&qn.postRender(()=>s(e,ig(e)))}class Cte extends tc{mount(){const{current:e}=this.node;e&&(this.unmount=rJ(e,(n,r)=>(FN(this.node,r,"Start"),(i,{success:s})=>FN(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bE=new WeakMap,SS=new WeakMap,Ate=t=>{const e=bE.get(t.target);e&&e(t)},Rte=t=>{t.forEach(Ate)};function Pte({root:t,...e}){const n=t||document;SS.has(n)||SS.set(n,{});const r=SS.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Rte,{root:t,...e})),r[i]}function Ite(t,e,n){const r=Pte(e);return bE.set(t,n),r.observe(t),()=>{bE.delete(t),r.unobserve(t)}}const Nte={some:0,all:1};class Dte extends tc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Nte[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),p=c?u:d;p&&p(l)};return Ite(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Lte(e,n))&&this.startObserver()}unmount(){}}function Lte({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Ote={inView:{Feature:Dte},tap:{Feature:Cte},focus:{Feature:Tte},hover:{Feature:Ete}},Fte={layout:{ProjectionNode:QB,MeasureLayout:GB}},kte={...bee,...Ote,...Mte,...Fte},Su=BJ(kte,QJ),Ute={some:0,all:1};function Bte(t,e,{root:n,margin:r,amount:i="some"}={}){const s=oB(t),o=new WeakMap,a=c=>{c.forEach(u=>{const d=o.get(u.target);if(u.isIntersecting!==!!d)if(u.isIntersecting){const p=e(u.target,u);typeof p=="function"?o.set(u.target,p):l.unobserve(u.target)}else typeof d=="function"&&(d(u),o.delete(u.target))})},l=new IntersectionObserver(a,{root:n,rootMargin:r,threshold:typeof i=="number"?i:Ute[i]});return s.forEach(c=>l.observe(c)),()=>l.disconnect()}function JB(t,{root:e,margin:n,amount:r,once:i=!1,initial:s=!1}={}){const[o,a]=E.useState(s);return E.useEffect(()=>{if(!t.current||i&&o)return;const l=()=>(a(!0),i?void 0:()=>a(!1)),c={root:e&&e.current||void 0,margin:n,amount:r};return Bte(t.current,l,c)},[e,t,n,i,r]),o}async function Du(t){const e=await fetch(t);if(!e.ok)throw new Error(`Failed to fetch ${t}: ${e.statusText}`);return e.json()}function zte(){return Nu({queryKey:["home"],queryFn:()=>Du("/data/home.json")})}function nA(){return Nu({queryKey:["showcase"],queryFn:()=>Du("/data/showcase.json")})}function Vte(){return Nu({queryKey:["services"],queryFn:()=>Du("/data/services.json")})}function Hte(){return Nu({queryKey:["portfolio"],queryFn:()=>Du("/data/portfolio.json")})}function jte(){return Nu({queryKey:["process"],queryFn:()=>Du("/data/process.json")})}function Gte(){return Nu({queryKey:["testimonials"],queryFn:()=>Du("/data/testimonials.json")})}function Wte(){return Nu({queryKey:["faq"],queryFn:()=>Du("/data/faq.json")})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const sg="181",Xte={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},$te={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},e5=0,ME=1,t5=2,Yte=3,n5=0,P_=1,Pp=2,Qs=3,La=0,wi=1,so=2,co=0,cu=1,EE=2,TE=3,CE=4,r5=5,hl=100,i5=101,s5=102,o5=103,a5=104,l5=200,c5=201,u5=202,d5=203,ry=204,iy=205,f5=206,h5=207,p5=208,m5=209,g5=210,v5=211,x5=212,y5=213,_5=214,sy=0,oy=1,ay=2,bu=3,ly=4,cy=5,uy=6,dy=7,og=0,w5=1,S5=2,Go=0,b5=1,M5=2,E5=3,rA=4,T5=5,C5=6,A5=7,AE="attached",R5="detached",jl=300,Xo=301,Gl=302,Pf=303,gm=304,th=306,vm=1e3,hr=1001,xm=1002,$r=1003,iA=1004,qte=1004,Gd=1005,Kte=1005,An=1006,Ip=1007,Zte=1007,ko=1008,RE=1008,bi=1009,I_=1010,N_=1011,If=1012,ag=1013,$o=1014,nr=1015,Ir=1016,D_=1017,L_=1018,Nf=1020,sA=35902,oA=35899,aA=1021,lA=1022,vr=1023,Df=1026,Lf=1027,lg=1028,cg=1029,O_=1030,F_=1031,Qte=1032,k_=1033,Np=33776,Dp=33777,Lp=33778,Op=33779,fy=35840,hy=35841,py=35842,my=35843,gy=36196,vy=37492,xy=37496,yy=37808,_y=37809,wy=37810,Sy=37811,by=37812,My=37813,Ey=37814,Ty=37815,Cy=37816,Ay=37817,Ry=37818,Py=37819,Iy=37820,Ny=37821,Dy=36492,Ly=36494,Oy=36495,Fy=36283,ky=36284,Uy=36285,By=36286,P5=2200,I5=2201,N5=2202,ym=2300,zy=2301,dx=2302,Gc=2400,Wc=2401,_m=2402,U_=2500,cA=2501,Jte=0,ene=1,tne=2,D5=3200,L5=3201,nne=3202,rne=3203,nc=0,O5=1,xa="",vi="srgb",Yo="srgb-linear",wm="linear",Dn="srgb",ine=0,Dc=7680,sne=7681,one=7682,ane=7683,lne=34055,cne=34056,une=5386,dne=512,fne=513,hne=514,pne=515,mne=516,gne=517,vne=518,PE=519,F5=512,k5=513,U5=514,uA=515,B5=516,z5=517,V5=518,H5=519,Sm=35044,IE=35048,xne=35040,yne=35045,_ne=35049,wne=35041,Sne=35046,bne=35050,Mne=35042,Ene="100",NE="300 es",is=2e3,Of=2001,Tne={COMPUTE:"compute",RENDER:"render"},Cne={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},Ane={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function j5(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Rne={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Wd(t,e){return new Rne[t](e)}function bm(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function G5(){const t=bm("canvas");return t.style.display="block",t}const kN={};let Wl=null;function Pne(t){Wl=t}function Ine(){return Wl}function Mm(...t){const e="THREE."+t.shift();Wl?Wl("log",e,...t):console.log(e,...t)}function yt(...t){const e="THREE."+t.shift();Wl?Wl("warn",e,...t):console.warn(e,...t)}function Zt(...t){const e="THREE."+t.shift();Wl?Wl("error",e,...t):console.error(e,...t)}function Ff(...t){const e=t.join(" ");e in kN||(kN[e]=!0,yt(...t))}function Nne(t,e,n){return new Promise(function(r,i){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}setTimeout(s,n)})}class Ko{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const ri=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let UN=1234567;const uu=Math.PI/180,kf=180/Math.PI;function as(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ri[t&255]+ri[t>>8&255]+ri[t>>16&255]+ri[t>>24&255]+"-"+ri[e&255]+ri[e>>8&255]+"-"+ri[e>>16&15|64]+ri[e>>24&255]+"-"+ri[n&63|128]+ri[n>>8&255]+"-"+ri[n>>16&255]+ri[n>>24&255]+ri[r&255]+ri[r>>8&255]+ri[r>>16&255]+ri[r>>24&255]).toLowerCase()}function qt(t,e,n){return Math.max(e,Math.min(n,t))}function dA(t,e){return(t%e+e)%e}function Dne(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function Lne(t,e,n){return t!==e?(n-t)/(e-t):0}function Fp(t,e,n){return(1-n)*t+n*e}function One(t,e,n,r){return Fp(t,e,1-Math.exp(-n*r))}function Fne(t,e=1){return e-Math.abs(dA(t,e*2)-e)}function kne(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Une(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Bne(t,e){return t+Math.floor(Math.random()*(e-t+1))}function zne(t,e){return t+Math.random()*(e-t)}function Vne(t){return t*(.5-Math.random())}function Hne(t){t!==void 0&&(UN=t);let e=UN+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function jne(t){return t*uu}function Gne(t){return t*kf}function Wne(t){return(t&t-1)===0&&t!==0}function Xne(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function $ne(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Yne(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+r)/2),u=o((e+r)/2),d=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":t.set(a*u,l*d,l*p,a*c);break;case"YZY":t.set(l*p,a*u,l*d,a*c);break;case"ZXZ":t.set(l*d,l*p,a*u,a*c);break;case"XZX":t.set(a*u,l*v,l*m,a*c);break;case"YXY":t.set(l*m,a*u,l*v,a*c);break;case"ZYZ":t.set(l*v,l*m,a*u,a*c);break;default:yt("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function xi(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function sn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const W5={DEG2RAD:uu,RAD2DEG:kf,generateUUID:as,clamp:qt,euclideanModulo:dA,mapLinear:Dne,inverseLerp:Lne,lerp:Fp,damp:One,pingpong:Fne,smoothstep:kne,smootherstep:Une,randInt:Bne,randFloat:zne,randFloatSpread:Vne,seededRandom:Hne,degToRad:jne,radToDeg:Gne,isPowerOfTwo:Wne,ceilPowerOfTwo:Xne,floorPowerOfTwo:$ne,setQuaternionFromProperEuler:Yne,normalize:sn,denormalize:xi};class Xe{constructor(e=0,n=0){Xe.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=qt(this.x,e.x,n.x),this.y=qt(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=qt(this.x,e,n),this.y=qt(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(qt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(qt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Si{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3],p=s[o+0],m=s[o+1],v=s[o+2],x=s[o+3];if(a<=0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(a>=1){e[n+0]=p,e[n+1]=m,e[n+2]=v,e[n+3]=x;return}if(d!==x||l!==p||c!==m||u!==v){let y=l*p+c*m+u*v+d*x;y<0&&(p=-p,m=-m,v=-v,x=-x,y=-y);let g=1-a;if(y<.9995){const _=Math.acos(y),S=Math.sin(_);g=Math.sin(g*_)/S,a=Math.sin(a*_)/S,l=l*g+p*a,c=c*g+m*a,u=u*g+v*a,d=d*g+x*a}else{l=l*g+p*a,c=c*g+m*a,u=u*g+v*a,d=d*g+x*a;const _=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=_,c*=_,u*=_,d*=_}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[n]=a*v+u*d+l*m-c*p,e[n+1]=l*v+u*p+c*d-a*m,e[n+2]=c*v+u*m+a*p-l*d,e[n+3]=u*v-a*d-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),d=a(s/2),p=l(r/2),m=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=p*u*d+c*m*v,this._y=c*m*d-p*u*v,this._z=c*u*v+p*m*d,this._w=c*u*d-p*m*v;break;case"YXZ":this._x=p*u*d+c*m*v,this._y=c*m*d-p*u*v,this._z=c*u*v-p*m*d,this._w=c*u*d+p*m*v;break;case"ZXY":this._x=p*u*d-c*m*v,this._y=c*m*d+p*u*v,this._z=c*u*v+p*m*d,this._w=c*u*d-p*m*v;break;case"ZYX":this._x=p*u*d-c*m*v,this._y=c*m*d+p*u*v,this._z=c*u*v-p*m*d,this._w=c*u*d+p*m*v;break;case"YZX":this._x=p*u*d+c*m*v,this._y=c*m*d+p*u*v,this._z=c*u*v-p*m*d,this._w=c*u*d-p*m*v;break;case"XZY":this._x=p*u*d-c*m*v,this._y=c*m*d-p*u*v,this._z=c*u*v+p*m*d,this._w=c*u*d+p*m*v;break;default:yt("Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],p=r+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>d){const m=2*Math.sqrt(1+r-a-d);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>d){const m=2*Math.sqrt(1+a-r-d);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+d-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(qt(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n<=0)return this;if(n>=1)return this.copy(e);let r=e._x,i=e._y,s=e._z,o=e._w,a=this.dot(e);a<0&&(r=-r,i=-i,s=-s,o=-o,a=-a);let l=1-n;if(a<.9995){const c=Math.acos(a),u=Math.sin(c);l=Math.sin(l*c)/u,n=Math.sin(n*c)/u,this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+s*n,this._w=this._w*l+o*n,this._onChangeCallback()}else this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+s*n,this._w=this._w*l+o*n,this.normalize();return this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class X{constructor(e=0,n=0,r=0){X.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(BN.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(BN.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),u=2*(a*n-s*i),d=2*(s*r-o*n);return this.x=n+l*c+o*d-a*u,this.y=r+l*u+a*c-s*d,this.z=i+l*d+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=qt(this.x,e.x,n.x),this.y=qt(this.y,e.y,n.y),this.z=qt(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=qt(this.x,e,n),this.y=qt(this.y,e,n),this.z=qt(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(qt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return bS.copy(this).projectOnVector(e),this.sub(bS)}reflect(e){return this.sub(bS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(qt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const bS=new X,BN=new Si;class nn{constructor(e,n,r,i,s,o,a,l,c){nn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c)}set(e,n,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],d=r[7],p=r[2],m=r[5],v=r[8],x=i[0],y=i[3],g=i[6],_=i[1],S=i[4],M=i[7],A=i[2],R=i[5],C=i[8];return s[0]=o*x+a*_+l*A,s[3]=o*y+a*S+l*R,s[6]=o*g+a*M+l*C,s[1]=c*x+u*_+d*A,s[4]=c*y+u*S+d*R,s[7]=c*g+u*M+d*C,s[2]=p*x+m*_+v*A,s[5]=p*y+m*S+v*R,s[8]=p*g+m*M+v*C,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,p=a*l-u*s,m=c*s-o*l,v=n*d+r*p+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/v;return e[0]=d*x,e[1]=(i*c-u*r)*x,e[2]=(a*r-i*o)*x,e[3]=p*x,e[4]=(u*n-i*l)*x,e[5]=(i*s-a*n)*x,e[6]=m*x,e[7]=(r*l-c*n)*x,e[8]=(o*n-r*s)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(MS.makeScale(e,n)),this}rotate(e){return this.premultiply(MS.makeRotation(-e)),this}translate(e,n){return this.premultiply(MS.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const MS=new nn,zN=new nn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),VN=new nn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function qne(){const t={enabled:!0,workingColorSpace:Yo,spaces:{},convert:function(i,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===Dn&&(i.r=Ea(i.r),i.g=Ea(i.g),i.b=Ea(i.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Dn&&(i.r=nf(i.r),i.g=nf(i.g),i.b=nf(i.b))),i},workingToColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},colorSpaceToWorking:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===xa?wm:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,o){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,s){return Ff("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,s)},toWorkingColorSpace:function(i,s){return Ff("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,s)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[Yo]:{primaries:e,whitePoint:r,transfer:wm,toXYZ:zN,fromXYZ:VN,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:vi},outputColorSpaceConfig:{drawingBufferColorSpace:vi}},[vi]:{primaries:e,whitePoint:r,transfer:Dn,toXYZ:zN,fromXYZ:VN,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:vi}}}),t}const vn=qne();function Ea(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function nf(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let ed;class X5{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{ed===void 0&&(ed=bm("canvas")),ed.width=e.width,ed.height=e.height;const i=ed.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=ed}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=bm("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Ea(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Ea(n[r]/255)*255):n[r]=Ea(n[r]);return{data:n,width:e.width,height:e.height}}else return yt("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Kne=0;class El{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Kne++}),this.uuid=as(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(ES(i[o].image)):s.push(ES(i[o]))}else s=ES(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function ES(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?X5.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(yt("Texture: Unable to serialize Texture."),{})}let Zne=0;const TS=new X;class Fn extends Ko{constructor(e=Fn.DEFAULT_IMAGE,n=Fn.DEFAULT_MAPPING,r=hr,i=hr,s=An,o=ko,a=vr,l=bi,c=Fn.DEFAULT_ANISOTROPY,u=xa){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Zne++}),this.uuid=as(),this.name="",this.source=new El(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Xe(0,0),this.repeat=new Xe(1,1),this.center=new Xe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new nn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(TS).x}get height(){return this.source.getSize(TS).y}get depth(){return this.source.getSize(TS).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){yt(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){yt(`Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==jl)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case vm:e.x=e.x-Math.floor(e.x);break;case hr:e.x=e.x<0?0:1;break;case xm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case vm:e.y=e.y-Math.floor(e.y);break;case hr:e.y=e.y<0?0:1;break;case xm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Fn.DEFAULT_IMAGE=null;Fn.DEFAULT_MAPPING=jl;Fn.DEFAULT_ANISOTROPY=1;class Sn{constructor(e=0,n=0,r=0,i=1){Sn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],u=l[4],d=l[8],p=l[1],m=l[5],v=l[9],x=l[2],y=l[6],g=l[10];if(Math.abs(u-p)<.01&&Math.abs(d-x)<.01&&Math.abs(v-y)<.01){if(Math.abs(u+p)<.1&&Math.abs(d+x)<.1&&Math.abs(v+y)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const S=(c+1)/2,M=(m+1)/2,A=(g+1)/2,R=(u+p)/4,C=(d+x)/4,D=(v+y)/4;return S>M&&S>A?S<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(S),i=R/r,s=C/r):M>A?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=R/i,s=D/i):A<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(A),r=C/s,i=D/s),this.set(r,i,s,n),this}let _=Math.sqrt((y-v)*(y-v)+(d-x)*(d-x)+(p-u)*(p-u));return Math.abs(_)<.001&&(_=1),this.x=(y-v)/_,this.y=(d-x)/_,this.z=(p-u)/_,this.w=Math.acos((c+m+g-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=qt(this.x,e.x,n.x),this.y=qt(this.y,e.y,n.y),this.z=qt(this.z,e.z,n.z),this.w=qt(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=qt(this.x,e,n),this.y=qt(this.y,e,n),this.z=qt(this.z,e,n),this.w=qt(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(qt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class fA extends Ko{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:An,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new Sn(0,0,e,n),this.scissorTest=!1,this.viewport=new Sn(0,0,e,n);const i={width:e,height:n,depth:r.depth},s=new Fn(i);this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:An,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new El(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Us extends fA{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class B_ extends Fn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=$r,this.minFilter=$r,this.wrapR=hr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Qne extends Us{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new B_(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class z_ extends Fn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=$r,this.minFilter=$r,this.wrapR=hr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Jne extends Us{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new z_(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class li{constructor(e=new X(1/0,1/0,1/0),n=new X(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Xs.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Xs.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Xs.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Xs):Xs.fromBufferAttribute(s,o),Xs.applyMatrix4(e.matrixWorld),this.expandByPoint(Xs);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),j0.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),j0.copy(r.boundingBox)),j0.applyMatrix4(e.matrixWorld),this.union(j0)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Xs),Xs.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Bh),G0.subVectors(this.max,Bh),td.subVectors(e.a,Bh),nd.subVectors(e.b,Bh),rd.subVectors(e.c,Bh),qa.subVectors(nd,td),Ka.subVectors(rd,nd),gc.subVectors(td,rd);let n=[0,-qa.z,qa.y,0,-Ka.z,Ka.y,0,-gc.z,gc.y,qa.z,0,-qa.x,Ka.z,0,-Ka.x,gc.z,0,-gc.x,-qa.y,qa.x,0,-Ka.y,Ka.x,0,-gc.y,gc.x,0];return!CS(n,td,nd,rd,G0)||(n=[1,0,0,0,1,0,0,0,1],!CS(n,td,nd,rd,G0))?!1:(W0.crossVectors(qa,Ka),n=[W0.x,W0.y,W0.z],CS(n,td,nd,rd,G0))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Xs).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Xs).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(oa[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),oa[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),oa[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),oa[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),oa[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),oa[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),oa[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),oa[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(oa),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const oa=[new X,new X,new X,new X,new X,new X,new X,new X],Xs=new X,j0=new li,td=new X,nd=new X,rd=new X,qa=new X,Ka=new X,gc=new X,Bh=new X,G0=new X,W0=new X,vc=new X;function CS(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){vc.fromArray(t,s);const a=i.x*Math.abs(vc.x)+i.y*Math.abs(vc.y)+i.z*Math.abs(vc.z),l=e.dot(vc),c=n.dot(vc),u=r.dot(vc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const ere=new li,zh=new X,AS=new X;class Yr{constructor(e=new X,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):ere.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;zh.subVectors(e,this.center);const n=zh.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(zh,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(AS.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(zh.copy(e.center).add(AS)),this.expandByPoint(zh.copy(e.center).sub(AS))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const aa=new X,RS=new X,X0=new X,Za=new X,PS=new X,$0=new X,IS=new X;class nh{constructor(e=new X,n=new X(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,aa)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=aa.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(aa.copy(this.origin).addScaledVector(this.direction,n),aa.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){RS.copy(e).add(n).multiplyScalar(.5),X0.copy(n).sub(e).normalize(),Za.copy(this.origin).sub(RS);const s=e.distanceTo(n)*.5,o=-this.direction.dot(X0),a=Za.dot(this.direction),l=-Za.dot(X0),c=Za.lengthSq(),u=Math.abs(1-o*o);let d,p,m,v;if(u>0)if(d=o*l-a,p=o*a-l,v=s*u,d>=0)if(p>=-v)if(p<=v){const x=1/u;d*=x,p*=x,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+c}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p<=-v?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c):p<=v?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(RS).addScaledVector(X0,p),m}intersectSphere(e,n){aa.subVectors(e.center,this.origin);const r=aa.dot(this.direction),i=aa.dot(aa)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,aa)!==null}intersectTriangle(e,n,r,i,s){PS.subVectors(n,e),$0.subVectors(r,e),IS.crossVectors(PS,$0);let o=this.direction.dot(IS),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Za.subVectors(this.origin,e);const l=a*this.direction.dot($0.crossVectors(Za,$0));if(l<0)return null;const c=a*this.direction.dot(PS.cross(Za));if(c<0||l+c>o)return null;const u=-a*Za.dot(IS);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Gt{constructor(e,n,r,i,s,o,a,l,c,u,d,p,m,v,x,y){Gt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c,u,d,p,m,v,x,y)}set(e,n,r,i,s,o,a,l,c,u,d,p,m,v,x,y){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=d,g[14]=p,g[3]=m,g[7]=v,g[11]=x,g[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Gt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/id.setFromMatrixColumn(e,0).length(),s=1/id.setFromMatrixColumn(e,1).length(),o=1/id.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*u,m=o*d,v=a*u,x=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=m+v*c,n[5]=p-x*c,n[9]=-a*l,n[2]=x-p*c,n[6]=v+m*c,n[10]=o*l}else if(e.order==="YXZ"){const p=l*u,m=l*d,v=c*u,x=c*d;n[0]=p+x*a,n[4]=v*a-m,n[8]=o*c,n[1]=o*d,n[5]=o*u,n[9]=-a,n[2]=m*a-v,n[6]=x+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*u,m=l*d,v=c*u,x=c*d;n[0]=p-x*a,n[4]=-o*d,n[8]=v+m*a,n[1]=m+v*a,n[5]=o*u,n[9]=x-p*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*u,m=o*d,v=a*u,x=a*d;n[0]=l*u,n[4]=v*c-m,n[8]=p*c+x,n[1]=l*d,n[5]=x*c+p,n[9]=m*c-v,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,v=a*l,x=a*c;n[0]=l*u,n[4]=x-p*d,n[8]=v*d+m,n[1]=d,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=m*d+v,n[10]=p-x*d}else if(e.order==="XZY"){const p=o*l,m=o*c,v=a*l,x=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=p*d+x,n[5]=o*u,n[9]=m*d-v,n[2]=v*d-m,n[6]=a*u,n[10]=x*d+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(tre,e,nre)}lookAt(e,n,r){const i=this.elements;return Qi.subVectors(e,n),Qi.lengthSq()===0&&(Qi.z=1),Qi.normalize(),Qa.crossVectors(r,Qi),Qa.lengthSq()===0&&(Math.abs(r.z)===1?Qi.x+=1e-4:Qi.z+=1e-4,Qi.normalize(),Qa.crossVectors(r,Qi)),Qa.normalize(),Y0.crossVectors(Qi,Qa),i[0]=Qa.x,i[4]=Y0.x,i[8]=Qi.x,i[1]=Qa.y,i[5]=Y0.y,i[9]=Qi.y,i[2]=Qa.z,i[6]=Y0.z,i[10]=Qi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],d=r[5],p=r[9],m=r[13],v=r[2],x=r[6],y=r[10],g=r[14],_=r[3],S=r[7],M=r[11],A=r[15],R=i[0],C=i[4],D=i[8],N=i[12],I=i[1],F=i[5],V=i[9],Y=i[13],G=i[2],ee=i[6],Q=i[10],ie=i[14],z=i[3],H=i[7],$=i[11],oe=i[15];return s[0]=o*R+a*I+l*G+c*z,s[4]=o*C+a*F+l*ee+c*H,s[8]=o*D+a*V+l*Q+c*$,s[12]=o*N+a*Y+l*ie+c*oe,s[1]=u*R+d*I+p*G+m*z,s[5]=u*C+d*F+p*ee+m*H,s[9]=u*D+d*V+p*Q+m*$,s[13]=u*N+d*Y+p*ie+m*oe,s[2]=v*R+x*I+y*G+g*z,s[6]=v*C+x*F+y*ee+g*H,s[10]=v*D+x*V+y*Q+g*$,s[14]=v*N+x*Y+y*ie+g*oe,s[3]=_*R+S*I+M*G+A*z,s[7]=_*C+S*F+M*ee+A*H,s[11]=_*D+S*V+M*Q+A*$,s[15]=_*N+S*Y+M*ie+A*oe,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],p=e[10],m=e[14],v=e[3],x=e[7],y=e[11],g=e[15];return v*(+s*l*d-i*c*d-s*a*p+r*c*p+i*a*m-r*l*m)+x*(+n*l*m-n*c*p+s*o*p-i*o*m+i*c*u-s*l*u)+y*(+n*c*d-n*a*m-s*o*d+r*o*m+s*a*u-r*c*u)+g*(-i*a*u-n*l*d+n*a*p+i*o*d-r*o*p+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],p=e[10],m=e[11],v=e[12],x=e[13],y=e[14],g=e[15],_=d*y*c-x*p*c+x*l*m-a*y*m-d*l*g+a*p*g,S=v*p*c-u*y*c-v*l*m+o*y*m+u*l*g-o*p*g,M=u*x*c-v*d*c+v*a*m-o*x*m-u*a*g+o*d*g,A=v*d*l-u*x*l-v*a*p+o*x*p+u*a*y-o*d*y,R=n*_+r*S+i*M+s*A;if(R===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/R;return e[0]=_*C,e[1]=(x*p*s-d*y*s-x*i*m+r*y*m+d*i*g-r*p*g)*C,e[2]=(a*y*s-x*l*s+x*i*c-r*y*c-a*i*g+r*l*g)*C,e[3]=(d*l*s-a*p*s-d*i*c+r*p*c+a*i*m-r*l*m)*C,e[4]=S*C,e[5]=(u*y*s-v*p*s+v*i*m-n*y*m-u*i*g+n*p*g)*C,e[6]=(v*l*s-o*y*s-v*i*c+n*y*c+o*i*g-n*l*g)*C,e[7]=(o*p*s-u*l*s+u*i*c-n*p*c-o*i*m+n*l*m)*C,e[8]=M*C,e[9]=(v*d*s-u*x*s-v*r*m+n*x*m+u*r*g-n*d*g)*C,e[10]=(o*x*s-v*a*s+v*r*c-n*x*c-o*r*g+n*a*g)*C,e[11]=(u*a*s-o*d*s-u*r*c+n*d*c+o*r*m-n*a*m)*C,e[12]=A*C,e[13]=(u*x*i-v*d*i+v*r*p-n*x*p-u*r*y+n*d*y)*C,e[14]=(v*a*i-o*x*i-v*r*l+n*x*l+o*r*y-n*a*y)*C,e[15]=(o*d*i-u*a*i+u*r*l-n*d*l-o*r*p+n*a*p)*C,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,u=o+o,d=a+a,p=s*c,m=s*u,v=s*d,x=o*u,y=o*d,g=a*d,_=l*c,S=l*u,M=l*d,A=r.x,R=r.y,C=r.z;return i[0]=(1-(x+g))*A,i[1]=(m+M)*A,i[2]=(v-S)*A,i[3]=0,i[4]=(m-M)*R,i[5]=(1-(p+g))*R,i[6]=(y+_)*R,i[7]=0,i[8]=(v+S)*C,i[9]=(y-_)*C,i[10]=(1-(p+x))*C,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=id.set(i[0],i[1],i[2]).length();const o=id.set(i[4],i[5],i[6]).length(),a=id.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],$s.copy(this);const c=1/s,u=1/o,d=1/a;return $s.elements[0]*=c,$s.elements[1]*=c,$s.elements[2]*=c,$s.elements[4]*=u,$s.elements[5]*=u,$s.elements[6]*=u,$s.elements[8]*=d,$s.elements[9]*=d,$s.elements[10]*=d,n.setFromRotationMatrix($s),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=is,l=!1){const c=this.elements,u=2*s/(n-e),d=2*s/(r-i),p=(n+e)/(n-e),m=(r+i)/(r-i);let v,x;if(l)v=s/(o-s),x=o*s/(o-s);else if(a===is)v=-(o+s)/(o-s),x=-2*o*s/(o-s);else if(a===Of)v=-o/(o-s),x=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return c[0]=u,c[4]=0,c[8]=p,c[12]=0,c[1]=0,c[5]=d,c[9]=m,c[13]=0,c[2]=0,c[6]=0,c[10]=v,c[14]=x,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=is,l=!1){const c=this.elements,u=2/(n-e),d=2/(r-i),p=-(n+e)/(n-e),m=-(r+i)/(r-i);let v,x;if(l)v=1/(o-s),x=o/(o-s);else if(a===is)v=-2/(o-s),x=-(o+s)/(o-s);else if(a===Of)v=-1/(o-s),x=-s/(o-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return c[0]=u,c[4]=0,c[8]=0,c[12]=p,c[1]=0,c[5]=d,c[9]=0,c[13]=m,c[2]=0,c[6]=0,c[10]=v,c[14]=x,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const id=new X,$s=new Gt,tre=new X(0,0,0),nre=new X(1,1,1),Qa=new X,Y0=new X,Qi=new X,HN=new Gt,jN=new Si;class ds{constructor(e=0,n=0,r=0,i=ds.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],p=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(qt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-qt(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(qt(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-qt(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(qt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-qt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:yt("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return HN.makeRotationFromQuaternion(e),this.setFromRotationMatrix(HN,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return jN.setFromEuler(this),this.setFromQuaternion(jN,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ds.DEFAULT_ORDER="XYZ";class du{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let rre=0;const GN=new X,sd=new Si,la=new Gt,q0=new X,Vh=new X,ire=new X,sre=new Si,WN=new X(1,0,0),XN=new X(0,1,0),$N=new X(0,0,1),YN={type:"added"},ore={type:"removed"},od={type:"childadded",child:null},NS={type:"childremoved",child:null};class Mn extends Ko{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:rre++}),this.uuid=as(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Mn.DEFAULT_UP.clone();const e=new X,n=new ds,r=new Si,i=new X(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Gt},normalMatrix:{value:new nn}}),this.matrix=new Gt,this.matrixWorld=new Gt,this.matrixAutoUpdate=Mn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Mn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new du,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return sd.setFromAxisAngle(e,n),this.quaternion.multiply(sd),this}rotateOnWorldAxis(e,n){return sd.setFromAxisAngle(e,n),this.quaternion.premultiply(sd),this}rotateX(e){return this.rotateOnAxis(WN,e)}rotateY(e){return this.rotateOnAxis(XN,e)}rotateZ(e){return this.rotateOnAxis($N,e)}translateOnAxis(e,n){return GN.copy(e).applyQuaternion(this.quaternion),this.position.add(GN.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(WN,e)}translateY(e){return this.translateOnAxis(XN,e)}translateZ(e){return this.translateOnAxis($N,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(la.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?q0.copy(e):q0.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Vh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?la.lookAt(Vh,q0,this.up):la.lookAt(q0,Vh,this.up),this.quaternion.setFromRotationMatrix(la),i&&(la.extractRotation(i.matrixWorld),sd.setFromRotationMatrix(la),this.quaternion.premultiply(sd.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(Zt("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(YN),od.child=e,this.dispatchEvent(od),od.child=null):Zt("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(ore),NS.child=e,this.dispatchEvent(NS),NS.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),la.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),la.multiply(e.parent.matrixWorld)),e.applyMatrix4(la),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(YN),od.child=e,this.dispatchEvent(od),od.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Vh,e,ire),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Vh,sre,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(a=>({...a,boundingBox:a.boundingBox?a.boundingBox.toJSON():void 0,boundingSphere:a.boundingSphere?a.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(a=>({...a})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Mn.DEFAULT_UP=new X(0,1,0);Mn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Mn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ys=new X,ca=new X,DS=new X,ua=new X,ad=new X,ld=new X,qN=new X,LS=new X,OS=new X,FS=new X,kS=new Sn,US=new Sn,BS=new Sn;class zi{constructor(e=new X,n=new X,r=new X){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Ys.subVectors(e,n),i.cross(Ys);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Ys.subVectors(i,n),ca.subVectors(r,n),DS.subVectors(e,n);const o=Ys.dot(Ys),a=Ys.dot(ca),l=Ys.dot(DS),c=ca.dot(ca),u=ca.dot(DS),d=o*c-a*a;if(d===0)return s.set(0,0,0),null;const p=1/d,m=(c*l-a*u)*p,v=(o*u-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,ua)===null?!1:ua.x>=0&&ua.y>=0&&ua.x+ua.y<=1}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,ua)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,ua.x),l.addScaledVector(o,ua.y),l.addScaledVector(a,ua.z),l)}static getInterpolatedAttribute(e,n,r,i,s,o){return kS.setScalar(0),US.setScalar(0),BS.setScalar(0),kS.fromBufferAttribute(e,n),US.fromBufferAttribute(e,r),BS.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(kS,s.x),o.addScaledVector(US,s.y),o.addScaledVector(BS,s.z),o}static isFrontFacing(e,n,r,i){return Ys.subVectors(r,n),ca.subVectors(e,n),Ys.cross(ca).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ys.subVectors(this.c,this.b),ca.subVectors(this.a,this.b),Ys.cross(ca).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return zi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return zi.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return zi.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return zi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return zi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;ad.subVectors(i,r),ld.subVectors(s,r),LS.subVectors(e,r);const l=ad.dot(LS),c=ld.dot(LS);if(l<=0&&c<=0)return n.copy(r);OS.subVectors(e,i);const u=ad.dot(OS),d=ld.dot(OS);if(u>=0&&d<=u)return n.copy(i);const p=l*d-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(r).addScaledVector(ad,o);FS.subVectors(e,s);const m=ad.dot(FS),v=ld.dot(FS);if(v>=0&&m<=v)return n.copy(s);const x=m*c-l*v;if(x<=0&&c>=0&&v<=0)return a=c/(c-v),n.copy(r).addScaledVector(ld,a);const y=u*v-m*d;if(y<=0&&d-u>=0&&m-v>=0)return qN.subVectors(s,i),a=(d-u)/(d-u+(m-v)),n.copy(i).addScaledVector(qN,a);const g=1/(y+x+p);return o=x*g,a=p*g,n.copy(r).addScaledVector(ad,o).addScaledVector(ld,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const $5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ja={h:0,s:0,l:0},K0={h:0,s:0,l:0};function zS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Ct{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=vi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,vn.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=vn.workingColorSpace){return this.r=e,this.g=n,this.b=r,vn.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=vn.workingColorSpace){if(e=dA(e,1),n=qt(n,0,1),r=qt(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=zS(o,s,e+1/3),this.g=zS(o,s,e),this.b=zS(o,s,e-1/3)}return vn.colorSpaceToWorking(this,i),this}setStyle(e,n=vi){function r(s){s!==void 0&&parseFloat(s)<1&&yt("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:yt("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);yt("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=vi){const r=$5[e.toLowerCase()];return r!==void 0?this.setHex(r,n):yt("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ea(e.r),this.g=Ea(e.g),this.b=Ea(e.b),this}copyLinearToSRGB(e){return this.r=nf(e.r),this.g=nf(e.g),this.b=nf(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=vi){return vn.workingToColorSpace(ii.copy(this),e),Math.round(qt(ii.r*255,0,255))*65536+Math.round(qt(ii.g*255,0,255))*256+Math.round(qt(ii.b*255,0,255))}getHexString(e=vi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=vn.workingColorSpace){vn.workingToColorSpace(ii.copy(this),n);const r=ii.r,i=ii.g,s=ii.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=vn.workingColorSpace){return vn.workingToColorSpace(ii.copy(this),n),e.r=ii.r,e.g=ii.g,e.b=ii.b,e}getStyle(e=vi){vn.workingToColorSpace(ii.copy(this),e);const n=ii.r,r=ii.g,i=ii.b;return e!==vi?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Ja),this.setHSL(Ja.h+e,Ja.s+n,Ja.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Ja),e.getHSL(K0);const r=Fp(Ja.h,K0.h,n),i=Fp(Ja.s,K0.s,n),s=Fp(Ja.l,K0.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ii=new Ct;Ct.NAMES=$5;let are=0;class Kr extends Ko{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:are++}),this.uuid=as(),this.name="",this.type="Material",this.blending=cu,this.side=La,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=ry,this.blendDst=iy,this.blendEquation=hl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ct(0,0,0),this.blendAlpha=0,this.depthFunc=bu,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=PE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Dc,this.stencilZFail=Dc,this.stencilZPass=Dc,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){yt(`Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){yt(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==cu&&(r.blending=this.blending),this.side!==La&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==ry&&(r.blendSrc=this.blendSrc),this.blendDst!==iy&&(r.blendDst=this.blendDst),this.blendEquation!==hl&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==bu&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==PE&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Dc&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Dc&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Dc&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ka extends Kr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ct(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ds,this.combine=og,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ya=lre();function lre(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function Li(t){Math.abs(t)>65504&&yt("DataUtils.toHalfFloat(): Value out of range."),t=qt(t,-65504,65504),ya.floatView[0]=t;const e=ya.uint32View[0],n=e>>23&511;return ya.baseTable[n]+((e&8388607)>>ya.shiftTable[n])}function dp(t){const e=t>>10;return ya.uint32View[0]=ya.mantissaTable[ya.offsetTable[e]+(t&1023)]+ya.exponentTable[e],ya.floatView[0]}class Xc{static toHalfFloat(e){return Li(e)}static fromHalfFloat(e){return dp(e)}}const wr=new X,Z0=new Xe;let cre=0;class kn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:cre++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Sm,this.updateRanges=[],this.gpuType=nr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Z0.fromBufferAttribute(this,n),Z0.applyMatrix3(e),this.setXY(n,Z0.x,Z0.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)wr.fromBufferAttribute(this,n),wr.applyMatrix3(e),this.setXYZ(n,wr.x,wr.y,wr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)wr.fromBufferAttribute(this,n),wr.applyMatrix4(e),this.setXYZ(n,wr.x,wr.y,wr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)wr.fromBufferAttribute(this,n),wr.applyNormalMatrix(e),this.setXYZ(n,wr.x,wr.y,wr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)wr.fromBufferAttribute(this,n),wr.transformDirection(e),this.setXYZ(n,wr.x,wr.y,wr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=xi(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=sn(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=xi(n,this.array)),n}setX(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=xi(n,this.array)),n}setY(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=xi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=xi(n,this.array)),n}setW(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=sn(n,this.array),r=sn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=sn(n,this.array),r=sn(r,this.array),i=sn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=sn(n,this.array),r=sn(r,this.array),i=sn(i,this.array),s=sn(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Sm&&(e.usage=this.usage),e}}class ure extends kn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class dre extends kn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class fre extends kn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class hre extends kn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class hA extends kn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class pre extends kn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class pA extends kn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class mre extends kn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=dp(this.array[e*this.itemSize]);return this.normalized&&(n=xi(n,this.array)),n}setX(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize]=Li(n),this}getY(e){let n=dp(this.array[e*this.itemSize+1]);return this.normalized&&(n=xi(n,this.array)),n}setY(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize+1]=Li(n),this}getZ(e){let n=dp(this.array[e*this.itemSize+2]);return this.normalized&&(n=xi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize+2]=Li(n),this}getW(e){let n=dp(this.array[e*this.itemSize+3]);return this.normalized&&(n=xi(n,this.array)),n}setW(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize+3]=Li(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=sn(n,this.array),r=sn(r,this.array)),this.array[e+0]=Li(n),this.array[e+1]=Li(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=sn(n,this.array),r=sn(r,this.array),i=sn(i,this.array)),this.array[e+0]=Li(n),this.array[e+1]=Li(r),this.array[e+2]=Li(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=sn(n,this.array),r=sn(r,this.array),i=sn(i,this.array),s=sn(s,this.array)),this.array[e+0]=Li(n),this.array[e+1]=Li(r),this.array[e+2]=Li(i),this.array[e+3]=Li(s),this}}class Ot extends kn{constructor(e,n,r){super(new Float32Array(e),n,r)}}let gre=0;const bs=new Gt,VS=new Mn,cd=new X,Ji=new li,Hh=new li,kr=new X;class rn extends Ko{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:gre++}),this.uuid=as(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(j5(e)?pA:hA)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new nn().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return bs.makeRotationFromQuaternion(e),this.applyMatrix4(bs),this}rotateX(e){return bs.makeRotationX(e),this.applyMatrix4(bs),this}rotateY(e){return bs.makeRotationY(e),this.applyMatrix4(bs),this}rotateZ(e){return bs.makeRotationZ(e),this.applyMatrix4(bs),this}translate(e,n,r){return bs.makeTranslation(e,n,r),this.applyMatrix4(bs),this}scale(e,n,r){return bs.makeScale(e,n,r),this.applyMatrix4(bs),this}lookAt(e){return VS.lookAt(e),VS.updateMatrix(),this.applyMatrix4(VS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(cd).negate(),this.translate(cd.x,cd.y,cd.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Ot(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const s=e[i];n.setXYZ(i,s.x,s.y,s.z||0)}e.length>n.count&&yt("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new li);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Zt("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new X(-1/0,-1/0,-1/0),new X(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Ji.setFromBufferAttribute(s),this.morphTargetsRelative?(kr.addVectors(this.boundingBox.min,Ji.min),this.boundingBox.expandByPoint(kr),kr.addVectors(this.boundingBox.max,Ji.max),this.boundingBox.expandByPoint(kr)):(this.boundingBox.expandByPoint(Ji.min),this.boundingBox.expandByPoint(Ji.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Zt('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Yr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Zt("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new X,1/0);return}if(e){const r=this.boundingSphere.center;if(Ji.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];Hh.setFromBufferAttribute(a),this.morphTargetsRelative?(kr.addVectors(Ji.min,Hh.min),Ji.expandByPoint(kr),kr.addVectors(Ji.max,Hh.max),Ji.expandByPoint(kr)):(Ji.expandByPoint(Hh.min),Ji.expandByPoint(Hh.max))}Ji.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)kr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(kr));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)kr.fromBufferAttribute(a,c),l&&(cd.fromBufferAttribute(e,c),kr.add(cd)),i=Math.max(i,r.distanceToSquared(kr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&Zt('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){Zt("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new kn(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let D=0;D<r.count;D++)a[D]=new X,l[D]=new X;const c=new X,u=new X,d=new X,p=new Xe,m=new Xe,v=new Xe,x=new X,y=new X;function g(D,N,I){c.fromBufferAttribute(r,D),u.fromBufferAttribute(r,N),d.fromBufferAttribute(r,I),p.fromBufferAttribute(s,D),m.fromBufferAttribute(s,N),v.fromBufferAttribute(s,I),u.sub(c),d.sub(c),m.sub(p),v.sub(p);const F=1/(m.x*v.y-v.x*m.y);isFinite(F)&&(x.copy(u).multiplyScalar(v.y).addScaledVector(d,-m.y).multiplyScalar(F),y.copy(d).multiplyScalar(m.x).addScaledVector(u,-v.x).multiplyScalar(F),a[D].add(x),a[N].add(x),a[I].add(x),l[D].add(y),l[N].add(y),l[I].add(y))}let _=this.groups;_.length===0&&(_=[{start:0,count:e.count}]);for(let D=0,N=_.length;D<N;++D){const I=_[D],F=I.start,V=I.count;for(let Y=F,G=F+V;Y<G;Y+=3)g(e.getX(Y+0),e.getX(Y+1),e.getX(Y+2))}const S=new X,M=new X,A=new X,R=new X;function C(D){A.fromBufferAttribute(i,D),R.copy(A);const N=a[D];S.copy(N),S.sub(A.multiplyScalar(A.dot(N))).normalize(),M.crossVectors(R,N);const F=M.dot(l[D])<0?-1:1;o.setXYZW(D,S.x,S.y,S.z,F)}for(let D=0,N=_.length;D<N;++D){const I=_[D],F=I.start,V=I.count;for(let Y=F,G=F+V;Y<G;Y+=3)C(e.getX(Y+0)),C(e.getX(Y+1)),C(e.getX(Y+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new kn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new X,s=new X,o=new X,a=new X,l=new X,c=new X,u=new X,d=new X;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),x=e.getX(p+1),y=e.getX(p+2);i.fromBufferAttribute(n,v),s.fromBufferAttribute(n,x),o.fromBufferAttribute(n,y),u.subVectors(o,s),d.subVectors(i,s),u.cross(d),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,x),c.fromBufferAttribute(r,y),a.add(u),l.add(u),c.add(u),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let p=0,m=n.count;p<m;p+=3)i.fromBufferAttribute(n,p+0),s.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),u.subVectors(o,s),d.subVectors(i,s),u.cross(d),r.setXYZ(p+0,u.x,u.y,u.z),r.setXYZ(p+1,u.x,u.y,u.z),r.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)kr.fromBufferAttribute(e,n),kr.normalize(),e.setXYZ(n,kr.x,kr.y,kr.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,p=new c.constructor(l.length*u);let m=0,v=0;for(let x=0,y=l.length;x<y;x++){a.isInterleavedBufferAttribute?m=l[x]*a.data.stride+a.offset:m=l[x]*u;for(let g=0;g<u;g++)p[v++]=c[m++]}return new kn(p,u,d)}if(this.index===null)return yt("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new rn,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const p=c[u],m=e(p,r);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,p=c.length;d<p;d++){const m=c[d];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere=a.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let p=0,m=d.length;p<m;p++)u.push(d[p].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const KN=new Gt,xc=new nh,Q0=new Yr,ZN=new X,J0=new X,ev=new X,tv=new X,HS=new X,nv=new X,QN=new X,rv=new X;class or extends Mn{constructor(e=new rn,n=new ka){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){nv.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],d=s[l];u!==0&&(HS.fromBufferAttribute(d,e),o?nv.addScaledVector(HS,u):nv.addScaledVector(HS.sub(n),u))}n.add(nv)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Q0.copy(r.boundingSphere),Q0.applyMatrix4(s),xc.copy(e.ray).recast(e.near),!(Q0.containsPoint(xc.origin)===!1&&(xc.intersectSphere(Q0,ZN)===null||xc.origin.distanceToSquared(ZN)>(e.far-e.near)**2))&&(KN.copy(s).invert(),xc.copy(e.ray).applyMatrix4(KN),!(r.boundingBox!==null&&xc.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,xc)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,d=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,x=p.length;v<x;v++){const y=p[v],g=o[y.materialIndex],_=Math.max(y.start,m.start),S=Math.min(a.count,Math.min(y.start+y.count,m.start+m.count));for(let M=_,A=S;M<A;M+=3){const R=a.getX(M),C=a.getX(M+1),D=a.getX(M+2);i=iv(this,g,e,r,c,u,d,R,C,D),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const v=Math.max(0,m.start),x=Math.min(a.count,m.start+m.count);for(let y=v,g=x;y<g;y+=3){const _=a.getX(y),S=a.getX(y+1),M=a.getX(y+2);i=iv(this,o,e,r,c,u,d,_,S,M),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,x=p.length;v<x;v++){const y=p[v],g=o[y.materialIndex],_=Math.max(y.start,m.start),S=Math.min(l.count,Math.min(y.start+y.count,m.start+m.count));for(let M=_,A=S;M<A;M+=3){const R=M,C=M+1,D=M+2;i=iv(this,g,e,r,c,u,d,R,C,D),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const v=Math.max(0,m.start),x=Math.min(l.count,m.start+m.count);for(let y=v,g=x;y<g;y+=3){const _=y,S=y+1,M=y+2;i=iv(this,o,e,r,c,u,d,_,S,M),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function vre(t,e,n,r,i,s,o,a){let l;if(e.side===wi?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===La,a),l===null)return null;rv.copy(a),rv.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(rv);return c<n.near||c>n.far?null:{distance:c,point:rv.clone(),object:t}}function iv(t,e,n,r,i,s,o,a,l,c){t.getVertexPosition(a,J0),t.getVertexPosition(l,ev),t.getVertexPosition(c,tv);const u=vre(t,e,n,r,J0,ev,tv,QN);if(u){const d=new X;zi.getBarycoord(QN,J0,ev,tv,d),i&&(u.uv=zi.getInterpolatedAttribute(i,a,l,c,d,new Xe)),s&&(u.uv1=zi.getInterpolatedAttribute(s,a,l,c,d,new Xe)),o&&(u.normal=zi.getInterpolatedAttribute(o,a,l,c,d,new X),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const p={a,b:l,c,normal:new X,materialIndex:0};zi.getNormal(J0,ev,tv,p.normal),u.face=p,u.barycoord=d}return u}class Lu extends rn{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let p=0,m=0;v("z","y","x",-1,-1,r,n,e,o,s,0),v("z","y","x",1,-1,r,n,-e,o,s,1),v("x","z","y",1,1,e,r,n,i,o,2),v("x","z","y",1,-1,e,r,-n,i,o,3),v("x","y","z",1,-1,e,n,r,i,s,4),v("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Ot(c,3)),this.setAttribute("normal",new Ot(u,3)),this.setAttribute("uv",new Ot(d,2));function v(x,y,g,_,S,M,A,R,C,D,N){const I=M/C,F=A/D,V=M/2,Y=A/2,G=R/2,ee=C+1,Q=D+1;let ie=0,z=0;const H=new X;for(let $=0;$<Q;$++){const oe=$*F-Y;for(let pe=0;pe<ee;pe++){const Me=pe*I-V;H[x]=Me*_,H[y]=oe*S,H[g]=G,c.push(H.x,H.y,H.z),H[x]=0,H[y]=0,H[g]=R>0?1:-1,u.push(H.x,H.y,H.z),d.push(pe/C),d.push(1-$/D),ie+=1}}for(let $=0;$<D;$++)for(let oe=0;oe<C;oe++){const pe=p+oe+ee*$,Me=p+oe+ee*($+1),Ue=p+(oe+1)+ee*($+1),at=p+(oe+1)+ee*$;l.push(pe,Me,at),l.push(Me,Ue,at),z+=6}a.addGroup(m,z,N),m+=z,p+=ie}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Uf(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(yt("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function hi(t){const e={};for(let n=0;n<t.length;n++){const r=Uf(t[n]);for(const i in r)e[i]=r[i]}return e}function xre(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function Y5(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:vn.workingColorSpace}const q5={clone:Uf,merge:hi};var yre=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,_re=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Mi extends Kr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=yre,this.fragmentShader=_re,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Uf(e.uniforms),this.uniformsGroups=xre(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class ug extends Mn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Gt,this.projectionMatrix=new Gt,this.projectionMatrixInverse=new Gt,this.coordinateSystem=is,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const el=new X,JN=new Xe,eD=new Xe;class zr extends ug{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=kf*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(uu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return kf*2*Math.atan(Math.tan(uu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){el.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(el.x,el.y).multiplyScalar(-e/el.z),el.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(el.x,el.y).multiplyScalar(-e/el.z)}getViewSize(e,n){return this.getViewBounds(e,JN,eD),n.subVectors(eD,JN)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(uu*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const ud=-90,dd=1;class K5 extends Mn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new zr(ud,dd,e,n);i.layers=this.layers,this.add(i);const s=new zr(ud,dd,e,n);s.layers=this.layers,this.add(s);const o=new zr(ud,dd,e,n);o.layers=this.layers,this.add(o);const a=new zr(ud,dd,e,n);a.layers=this.layers,this.add(a);const l=new zr(ud,dd,e,n);l.layers=this.layers,this.add(l);const c=new zr(ud,dd,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===is)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Of)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,d=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(d,p,m),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class dg extends Fn{constructor(e=[],n=Xo,r,i,s,o,a,l,c,u){super(e,n,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class mA extends Us{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new dg(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Lu(5,5,5),s=new Mi({name:"CubemapFromEquirect",uniforms:Uf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:wi,blending:co});s.uniforms.tEquirect.value=n;const o=new or(i,s),a=n.minFilter;return n.minFilter===ko&&(n.minFilter=An),new K5(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}let $c=class extends Mn{constructor(){super(),this.isGroup=!0,this.type="Group"}};const wre={type:"move"};class fx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new $c,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new $c,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new X,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new X),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new $c,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new X,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new X),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const x of e.hand.values()){const y=n.getJointPose(x,r),g=this._getHandJoint(c,x);y!==null&&(g.matrix.fromArray(y.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=y.radius),g.visible=y!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],p=u.position.distanceTo(d.position),m=.02,v=.005;c.inputState.pinching&&p>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(wre)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new $c;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class V_{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ct(e),this.density=n}clone(){return new V_(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class H_{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Ct(e),this.near=n,this.far=r}clone(){return new H_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class fg extends Mn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ds,this.environmentIntensity=1,this.environmentRotation=new ds,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class j_{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Sm,this.updateRanges=[],this.version=0,this.uuid=as()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=as()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=as()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const fi=new X;class Mu{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)fi.fromBufferAttribute(this,n),fi.applyMatrix4(e),this.setXYZ(n,fi.x,fi.y,fi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)fi.fromBufferAttribute(this,n),fi.applyNormalMatrix(e),this.setXYZ(n,fi.x,fi.y,fi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)fi.fromBufferAttribute(this,n),fi.transformDirection(e),this.setXYZ(n,fi.x,fi.y,fi.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=xi(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=sn(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=sn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=sn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=sn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=sn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=xi(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=xi(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=xi(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=xi(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=sn(n,this.array),r=sn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=sn(n,this.array),r=sn(r,this.array),i=sn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=sn(n,this.array),r=sn(r,this.array),i=sn(i,this.array),s=sn(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){Mm("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new kn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Mu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){Mm("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class gA extends Kr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ct(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let fd;const jh=new X,hd=new X,pd=new X,md=new Xe,Gh=new Xe,Z5=new Gt,sv=new X,Wh=new X,ov=new X,tD=new Xe,jS=new Xe,nD=new Xe;class Q5 extends Mn{constructor(e=new gA){if(super(),this.isSprite=!0,this.type="Sprite",fd===void 0){fd=new rn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new j_(n,5);fd.setIndex([0,1,2,0,2,3]),fd.setAttribute("position",new Mu(r,3,0,!1)),fd.setAttribute("uv",new Mu(r,2,3,!1))}this.geometry=fd,this.material=e,this.center=new Xe(.5,.5),this.count=1}raycast(e,n){e.camera===null&&Zt('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),hd.setFromMatrixScale(this.matrixWorld),Z5.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),pd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&hd.multiplyScalar(-pd.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;av(sv.set(-.5,-.5,0),pd,o,hd,i,s),av(Wh.set(.5,-.5,0),pd,o,hd,i,s),av(ov.set(.5,.5,0),pd,o,hd,i,s),tD.set(0,0),jS.set(1,0),nD.set(1,1);let a=e.ray.intersectTriangle(sv,Wh,ov,!1,jh);if(a===null&&(av(Wh.set(-.5,.5,0),pd,o,hd,i,s),jS.set(0,1),a=e.ray.intersectTriangle(sv,ov,Wh,!1,jh),a===null))return;const l=e.ray.origin.distanceTo(jh);l<e.near||l>e.far||n.push({distance:l,point:jh.clone(),uv:zi.getInterpolation(jh,sv,Wh,ov,tD,jS,nD,new Xe),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function av(t,e,n,r,i,s){md.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Gh.x=s*md.x-i*md.y,Gh.y=i*md.x+s*md.y):Gh.copy(md),t.copy(e),t.x+=Gh.x,t.y+=Gh.y,t.applyMatrix4(Z5)}const lv=new X,rD=new X;class J5 extends Mn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){lv.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(lv);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){lv.setFromMatrixPosition(e.matrixWorld),rD.setFromMatrixPosition(this.matrixWorld);const r=lv.distanceTo(rD)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const iD=new X,sD=new Sn,oD=new Sn,Sre=new X,aD=new Gt,cv=new X,GS=new Yr,lD=new Gt,WS=new nh;class ez extends or{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=AE,this.bindMatrix=new Gt,this.bindMatrixInverse=new Gt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new li),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,cv),this.boundingBox.expandByPoint(cv)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Yr),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,cv),this.boundingSphere.expandByPoint(cv)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),GS.copy(this.boundingSphere),GS.applyMatrix4(i),e.ray.intersectsSphere(GS)!==!1&&(lD.copy(i).invert(),WS.copy(e.ray).applyMatrix4(lD),!(this.boundingBox!==null&&WS.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,WS)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Sn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===AE?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===R5?this.bindMatrixInverse.copy(this.bindMatrix).invert():yt("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;sD.fromBufferAttribute(i.attributes.skinIndex,e),oD.fromBufferAttribute(i.attributes.skinWeight,e),iD.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=oD.getComponent(s);if(o!==0){const a=sD.getComponent(s);aD.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(Sre.copy(iD).applyMatrix4(aD),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class vA extends Mn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ls extends Fn{constructor(e=null,n=1,r=1,i,s,o,a,l,c=$r,u=$r,d,p){super(null,o,a,l,c,u,i,s,d,p),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const cD=new Gt,bre=new Gt;let tz=class nz{constructor(e=[],n=[]){this.uuid=as(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){yt("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Gt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Gt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:bre;cD.multiplyMatrices(a,n[s]),cD.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new nz(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Ls(n,e,e,vr,nr);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(yt("Skeleton: No bone found with UUID:",s),o=new vA),this.bones.push(o),this.boneInverses.push(new Gt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}};class Bf extends kn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const gd=new Gt,uD=new Gt,uv=[],dD=new li,Mre=new Gt,Xh=new or,$h=new Yr;class rz extends or{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Bf(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Mre)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new li),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,gd),dD.copy(e.boundingBox).applyMatrix4(gd),this.boundingBox.union(dD)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Yr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,gd),$h.copy(e.boundingSphere).applyMatrix4(gd),this.boundingSphere.union($h)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,o=e*s+1;for(let a=0;a<r.length;a++)r[a]=i[o+a]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Xh.geometry=this.geometry,Xh.material=this.material,Xh.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),$h.copy(this.boundingSphere),$h.applyMatrix4(r),e.ray.intersectsSphere($h)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,gd),uD.multiplyMatrices(r,gd),Xh.matrixWorld=uD,Xh.raycast(e,uv);for(let o=0,a=uv.length;o<a;o++){const l=uv[o];l.instanceId=s,l.object=this,n.push(l)}uv.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Bf(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Ls(new Float32Array(i*this.count),i,this.count,lg,nr));const s=this.morphTexture.source.data.data;let o=0;for(let c=0;c<r.length;c++)o+=r[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=i*e;s[l]=a,s.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const XS=new X,Ere=new X,Tre=new nn;class cl{constructor(e=new X(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=XS.subVectors(r,n).cross(Ere.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(XS),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Tre.getNormalMatrix(e),i=this.coplanarPoint(XS).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const yc=new Yr,Cre=new Xe(.5,.5),dv=new X;class rh{constructor(e=new cl,n=new cl,r=new cl,i=new cl,s=new cl,o=new cl){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=is,r=!1){const i=this.planes,s=e.elements,o=s[0],a=s[1],l=s[2],c=s[3],u=s[4],d=s[5],p=s[6],m=s[7],v=s[8],x=s[9],y=s[10],g=s[11],_=s[12],S=s[13],M=s[14],A=s[15];if(i[0].setComponents(c-o,m-u,g-v,A-_).normalize(),i[1].setComponents(c+o,m+u,g+v,A+_).normalize(),i[2].setComponents(c+a,m+d,g+x,A+S).normalize(),i[3].setComponents(c-a,m-d,g-x,A-S).normalize(),r)i[4].setComponents(l,p,y,M).normalize(),i[5].setComponents(c-l,m-p,g-y,A-M).normalize();else if(i[4].setComponents(c-l,m-p,g-y,A-M).normalize(),n===is)i[5].setComponents(c+l,m+p,g+y,A+M).normalize();else if(n===Of)i[5].setComponents(l,p,y,M).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),yc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),yc.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(yc)}intersectsSprite(e){yc.center.set(0,0,0);const n=Cre.distanceTo(e.center);return yc.radius=.7071067811865476+n,yc.applyMatrix4(e.matrixWorld),this.intersectsSphere(yc)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(dv.x=i.normal.x>0?e.max.x:e.min.x,dv.y=i.normal.y>0?e.max.y:e.min.y,dv.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(dv)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Co=new Gt,Ao=new rh;class G_{constructor(){this.coordinateSystem=is}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Co.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ao.setFromProjectionMatrix(Co,i.coordinateSystem,i.reversedDepth),Ao.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Co.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ao.setFromProjectionMatrix(Co,i.coordinateSystem,i.reversedDepth),Ao.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Co.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ao.setFromProjectionMatrix(Co,i.coordinateSystem,i.reversedDepth),Ao.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Co.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ao.setFromProjectionMatrix(Co,i.coordinateSystem,i.reversedDepth),Ao.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Co.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ao.setFromProjectionMatrix(Co,i.coordinateSystem,i.reversedDepth),Ao.containsPoint(e))return!0}return!1}clone(){return new G_}}function $S(t,e){return t-e}function Are(t,e){return t.z-e.z}function Rre(t,e){return e.z-t.z}class Pre{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const a=s[this.index];o.push(a),this.index++,a.start=e,a.count=n,a.z=r,a.index=i}reset(){this.list.length=0,this.index=0}}const Di=new Gt,Ire=new Ct(1,1,1),fD=new rh,Nre=new G_,fv=new li,_c=new Yr,Yh=new X,hD=new X,Dre=new X,YS=new Pre,si=new or,hv=[];function Lre(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function wc(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class iz extends or{constructor(e,n,r=n*2,i){super(new rn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Ls(n,e,e,vr,nr);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new Ls(n,e,e,cg,$o);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new Ls(n,e,e,vr,nr);r.colorSpace=vn.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:l,normalized:c}=o,u=new a.constructor(r*l),d=new kn(u,l,c);n.setAttribute(s,d)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new kn(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new li);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,Di),this.getBoundingBoxAt(s,fv).applyMatrix4(Di),e.union(fv)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Yr);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,Di),this.getBoundingSphereAt(s,_c).applyMatrix4(Di),e.union(_c)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort($S),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const s=this._matricesTexture;Di.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(Ire.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const o=e.getIndex();if(o!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?o.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort($S),l=this._availableGeometryIds.shift(),s[l]=i):(l=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=n.getIndex(),a=this._geometryInfo[e];if(i&&o.count>a.reservedIndexCount||n.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.reservedVertexCount;a.vertexCount=n.getAttribute("position").count;for(const u in r.attributes){const d=n.getAttribute(u),p=r.getAttribute(u);Lre(d,p,l);const m=d.itemSize;for(let v=d.count,x=c;v<x;v++){const y=l+v;for(let g=0;g<m;g++)p.setComponent(y,g,0)}p.needsUpdate=!0,p.addUpdateRange(l*m,c*m)}if(i){const u=a.indexStart,d=a.reservedIndexCount;a.indexCount=n.getIndex().count;for(let p=0;p<o.count;p++)s.setX(u+p,l+o.getX(p));for(let p=o.count,m=d;p<m;p++)s.setX(u+p,l);s.needsUpdate=!0,s.addUpdateRange(u,a.reservedIndexCount)}return a.start=i?a.indexStart:a.vertexStart,a.count=i?a.indexCount:a.vertexCount,a.boundingBox=null,n.boundingBox!==null&&(a.boundingBox=n.boundingBox.clone()),a.boundingSphere=null,n.boundingSphere!==null&&(a.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,s=r.length;i<s;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((o,a)=>a).sort((o,a)=>r[o].vertexStart-r[a].vertexStart),s=this.geometry;for(let o=0,a=r.length;o<a;o++){const l=i[o],c=r[l];if(c.active!==!1){if(s.index!==null){if(c.indexStart!==n){const{indexStart:u,vertexStart:d,reservedIndexCount:p}=c,m=s.index,v=m.array,x=e-d;for(let y=u;y<u+p;y++)v[y]=v[y]+x;m.array.copyWithin(n,u,u+p),m.addUpdateRange(n,p),c.indexStart=n}n+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:u,reservedVertexCount:d}=c,p=s.attributes;for(const m in p){const v=p[m],{array:x,itemSize:y}=v;x.copyWithin(e*y,u*y,(u+d)*y),v.addUpdateRange(e*y,d*y)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=s.index?c.indexStart:c.vertexStart,this._nextIndexStart=s.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new li,o=r.index,a=r.attributes.position;for(let l=i.start,c=i.start+i.count;l<c;l++){let u=l;o&&(u=o.getX(u)),s.expandByPoint(Yh.fromBufferAttribute(a,u))}i.boundingBox=s}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new Yr;this.getBoundingBoxAt(e,fv),fv.getCenter(s.center);const o=r.index,a=r.attributes.position;let l=0;for(let c=i.start,u=i.start+i.count;c<u;c++){let d=c;o&&(d=o.getX(d)),Yh.fromBufferAttribute(a,d),l=Math.max(l,s.center.distanceToSquared(Yh))}s.radius=Math.sqrt(l),i.boundingSphere=s}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return n.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort($S);n[n.length-1]===r.length-1;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);wc(this._multiDrawCounts,i),wc(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const o=this._indirectTexture,a=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),wc(o.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),wc(a.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),wc(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...r.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new rn,this._initializeGeometry(s));const o=this.geometry;s.index&&wc(s.index.array,o.index.array);for(const a in s.attributes)wc(s.attributes[a].array,o.attributes[a].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,o=this.geometry;si.material=this.material,si.geometry.index=o.index,si.geometry.attributes=o.attributes,si.geometry.boundingBox===null&&(si.geometry.boundingBox=new li),si.geometry.boundingSphere===null&&(si.geometry.boundingSphere=new Yr);for(let a=0,l=r.length;a<l;a++){if(!r[a].visible||!r[a].active)continue;const c=r[a].geometryIndex,u=i[c];si.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(a,si.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,si.geometry.boundingBox),this.getBoundingSphereAt(c,si.geometry.boundingSphere),si.raycast(e,hv);for(let d=0,p=hv.length;d<p;d++){const m=hv[d];m.object=this,m.batchId=a,n.push(m)}hv.length=0}si.material=null,si.geometry.index=null,si.geometry.attributes={},si.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,u=this._multiDrawCounts,d=this._geometryInfo,p=this.perObjectFrustumCulled,m=this._indirectTexture,v=m.image.data,x=r.isArrayCamera?Nre:fD;p&&!r.isArrayCamera&&(Di.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),fD.setFromProjectionMatrix(Di,r.coordinateSystem,r.reversedDepth));let y=0;if(this.sortObjects){Di.copy(this.matrixWorld).invert(),Yh.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Di),hD.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(Di);for(let S=0,M=l.length;S<M;S++)if(l[S].visible&&l[S].active){const A=l[S].geometryIndex;this.getMatrixAt(S,Di),this.getBoundingSphereAt(A,_c).applyMatrix4(Di);let R=!1;if(p&&(R=!x.intersectsSphere(_c,r)),!R){const C=d[A],D=Dre.subVectors(_c.center,Yh).dot(hD);YS.push(C.start,C.count,D,S)}}const g=YS.list,_=this.customSort;_===null?g.sort(s.transparent?Rre:Are):_.call(this,g,r);for(let S=0,M=g.length;S<M;S++){const A=g[S];c[y]=A.start*a,u[y]=A.count,v[y]=A.index,y++}YS.reset()}else for(let g=0,_=l.length;g<_;g++)if(l[g].visible&&l[g].active){const S=l[g].geometryIndex;let M=!1;if(p&&(this.getMatrixAt(g,Di),this.getBoundingSphereAt(S,_c).applyMatrix4(Di),M=!x.intersectsSphere(_c,r)),!M){const A=d[S];c[y]=A.start*a,u[y]=A.count,v[y]=g,y++}}m.needsUpdate=!0,this._multiDrawCount=y,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class Ci extends Kr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ct(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Vy=new X,Hy=new X,pD=new Gt,qh=new nh,pv=new Yr,qS=new X,mD=new X;class Xl extends Mn{constructor(e=new rn,n=new Ci){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)Vy.fromBufferAttribute(n,i-1),Hy.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=Vy.distanceTo(Hy);e.setAttribute("lineDistance",new Ot(r,1))}else yt("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),pv.copy(r.boundingSphere),pv.applyMatrix4(i),pv.radius+=s,e.ray.intersectsSphere(pv)===!1)return;pD.copy(i).invert(),qh.copy(e.ray).applyMatrix4(pD);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,u=r.index,p=r.attributes.position;if(u!==null){const m=Math.max(0,o.start),v=Math.min(u.count,o.start+o.count);for(let x=m,y=v-1;x<y;x+=c){const g=u.getX(x),_=u.getX(x+1),S=mv(this,e,qh,l,g,_,x);S&&n.push(S)}if(this.isLineLoop){const x=u.getX(v-1),y=u.getX(m),g=mv(this,e,qh,l,x,y,v-1);g&&n.push(g)}}else{const m=Math.max(0,o.start),v=Math.min(p.count,o.start+o.count);for(let x=m,y=v-1;x<y;x+=c){const g=mv(this,e,qh,l,x,x+1,x);g&&n.push(g)}if(this.isLineLoop){const x=mv(this,e,qh,l,v-1,m,v-1);x&&n.push(x)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function mv(t,e,n,r,i,s,o){const a=t.geometry.attributes.position;if(Vy.fromBufferAttribute(a,i),Hy.fromBufferAttribute(a,s),n.distanceSqToSegment(Vy,Hy,qS,mD)>r)return;qS.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(qS);if(!(c<e.near||c>e.far))return{distance:c,point:mD.clone().applyMatrix4(t.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:t}}const gD=new X,vD=new X;class Zo extends Xl{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)gD.fromBufferAttribute(n,i),vD.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+gD.distanceTo(vD);e.setAttribute("lineDistance",new Ot(r,1))}else yt("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class sz extends Xl{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class xA extends Kr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ct(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const xD=new Gt,DE=new nh,gv=new Yr,vv=new X;class oz extends Mn{constructor(e=new rn,n=new xA){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),gv.copy(r.boundingSphere),gv.applyMatrix4(i),gv.radius+=s,e.ray.intersectsSphere(gv)===!1)return;xD.copy(i).invert(),DE.copy(e.ray).applyMatrix4(xD);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,d=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=p,x=m;v<x;v++){const y=c.getX(v);vv.fromBufferAttribute(d,y),yD(vv,y,l,i,e,n,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let v=p,x=m;v<x;v++)vv.fromBufferAttribute(d,v),yD(vv,v,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function yD(t,e,n,r,i,s,o){const a=DE.distanceSqToPoint(t);if(a<n){const l=new X;DE.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class az extends Fn{constructor(e,n,r,i,s=An,o=An,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const u=this;function d(){u.needsUpdate=!0,u._requestVideoFrameCallbackId=e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(d))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class Ore extends az{constructor(e,n,r,i,s,o,a,l){super({},e,n,r,i,s,o,a,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Fre extends Fn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=$r,this.minFilter=$r,this.generateMipmaps=!1,this.needsUpdate=!0}}class W_ extends Fn{constructor(e,n,r,i,s,o,a,l,c,u,d,p){super(null,o,a,l,c,u,i,s,d,p),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class kre extends W_{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=hr,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Ure extends W_{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Xo),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Bre extends Fn{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class yA extends Fn{constructor(e,n,r=$o,i,s,o,a=$r,l=$r,c,u=Df,d=1){if(u!==Df&&u!==Lf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const p={width:e,height:n,depth:d};super(p,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new El(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class _A extends Fn{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class X_ extends rn{constructor(e=1,n=1,r=4,i=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i,heightSegments:s},n=Math.max(0,n),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),s=Math.max(1,Math.floor(s));const o=[],a=[],l=[],c=[],u=n/2,d=Math.PI/2*e,p=n,m=2*d+p,v=r*2+s,x=i+1,y=new X,g=new X;for(let _=0;_<=v;_++){let S=0,M=0,A=0,R=0;if(_<=r){const N=_/r,I=N*Math.PI/2;M=-u-e*Math.cos(I),A=e*Math.sin(I),R=-e*Math.cos(I),S=N*d}else if(_<=r+s){const N=(_-r)/s;M=-u+N*n,A=e,R=0,S=d+N*p}else{const N=(_-r-s)/r,I=N*Math.PI/2;M=u+e*Math.sin(I),A=e*Math.cos(I),R=e*Math.sin(I),S=d+p+N*d}const C=Math.max(0,Math.min(1,S/m));let D=0;_===0?D=.5/i:_===v&&(D=-.5/i);for(let N=0;N<=i;N++){const I=N/i,F=I*Math.PI*2,V=Math.sin(F),Y=Math.cos(F);g.x=-A*Y,g.y=M,g.z=A*V,a.push(g.x,g.y,g.z),y.set(-A*Y,R,A*V),y.normalize(),l.push(y.x,y.y,y.z),c.push(I+D,C)}if(_>0){const N=(_-1)*x;for(let I=0;I<i;I++){const F=N+I,V=N+I+1,Y=_*x+I,G=_*x+I+1;o.push(F,V,Y),o.push(V,G,Y)}}}this.setIndex(o),this.setAttribute("position",new Ot(a,3)),this.setAttribute("normal",new Ot(l,3)),this.setAttribute("uv",new Ot(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new X_(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class $_ extends rn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new X,u=new Xe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=n;d++,p+=3){const m=r+d/n*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[p]/e+1)/2,u.y=(o[p+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Ot(o,3)),this.setAttribute("normal",new Ot(a,3)),this.setAttribute("uv",new Ot(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $_(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class hg extends rn{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],d=[],p=[],m=[];let v=0;const x=[],y=r/2;let g=0;_(),o===!1&&(e>0&&S(!0),n>0&&S(!1)),this.setIndex(u),this.setAttribute("position",new Ot(d,3)),this.setAttribute("normal",new Ot(p,3)),this.setAttribute("uv",new Ot(m,2));function _(){const M=new X,A=new X;let R=0;const C=(n-e)/r;for(let D=0;D<=s;D++){const N=[],I=D/s,F=I*(n-e)+e;for(let V=0;V<=i;V++){const Y=V/i,G=Y*l+a,ee=Math.sin(G),Q=Math.cos(G);A.x=F*ee,A.y=-I*r+y,A.z=F*Q,d.push(A.x,A.y,A.z),M.set(ee,C,Q).normalize(),p.push(M.x,M.y,M.z),m.push(Y,1-I),N.push(v++)}x.push(N)}for(let D=0;D<i;D++)for(let N=0;N<s;N++){const I=x[N][D],F=x[N+1][D],V=x[N+1][D+1],Y=x[N][D+1];(e>0||N!==0)&&(u.push(I,F,Y),R+=3),(n>0||N!==s-1)&&(u.push(F,V,Y),R+=3)}c.addGroup(g,R,0),g+=R}function S(M){const A=v,R=new Xe,C=new X;let D=0;const N=M===!0?e:n,I=M===!0?1:-1;for(let V=1;V<=i;V++)d.push(0,y*I,0),p.push(0,I,0),m.push(.5,.5),v++;const F=v;for(let V=0;V<=i;V++){const G=V/i*l+a,ee=Math.cos(G),Q=Math.sin(G);C.x=N*Q,C.y=y*I,C.z=N*ee,d.push(C.x,C.y,C.z),p.push(0,I,0),R.x=ee*.5+.5,R.y=Q*.5*I+.5,m.push(R.x,R.y),v++}for(let V=0;V<i;V++){const Y=A+V,G=F+V;M===!0?u.push(G,G+1,Y):u.push(G+1,G,Y),D+=3}c.addGroup(g,D,M===!0?1:2),g+=D}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hg(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class pg extends hg{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new pg(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class rc extends rn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new Ot(s,3)),this.setAttribute("normal",new Ot(s.slice(),3)),this.setAttribute("uv",new Ot(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const S=new X,M=new X,A=new X;for(let R=0;R<n.length;R+=3)m(n[R+0],S),m(n[R+1],M),m(n[R+2],A),l(S,M,A,_)}function l(_,S,M,A){const R=A+1,C=[];for(let D=0;D<=R;D++){C[D]=[];const N=_.clone().lerp(M,D/R),I=S.clone().lerp(M,D/R),F=R-D;for(let V=0;V<=F;V++)V===0&&D===R?C[D][V]=N:C[D][V]=N.clone().lerp(I,V/F)}for(let D=0;D<R;D++)for(let N=0;N<2*(R-D)-1;N++){const I=Math.floor(N/2);N%2===0?(p(C[D][I+1]),p(C[D+1][I]),p(C[D][I])):(p(C[D][I+1]),p(C[D+1][I+1]),p(C[D+1][I]))}}function c(_){const S=new X;for(let M=0;M<s.length;M+=3)S.x=s[M+0],S.y=s[M+1],S.z=s[M+2],S.normalize().multiplyScalar(_),s[M+0]=S.x,s[M+1]=S.y,s[M+2]=S.z}function u(){const _=new X;for(let S=0;S<s.length;S+=3){_.x=s[S+0],_.y=s[S+1],_.z=s[S+2];const M=y(_)/2/Math.PI+.5,A=g(_)/Math.PI+.5;o.push(M,1-A)}v(),d()}function d(){for(let _=0;_<o.length;_+=6){const S=o[_+0],M=o[_+2],A=o[_+4],R=Math.max(S,M,A),C=Math.min(S,M,A);R>.9&&C<.1&&(S<.2&&(o[_+0]+=1),M<.2&&(o[_+2]+=1),A<.2&&(o[_+4]+=1))}}function p(_){s.push(_.x,_.y,_.z)}function m(_,S){const M=_*3;S.x=e[M+0],S.y=e[M+1],S.z=e[M+2]}function v(){const _=new X,S=new X,M=new X,A=new X,R=new Xe,C=new Xe,D=new Xe;for(let N=0,I=0;N<s.length;N+=9,I+=6){_.set(s[N+0],s[N+1],s[N+2]),S.set(s[N+3],s[N+4],s[N+5]),M.set(s[N+6],s[N+7],s[N+8]),R.set(o[I+0],o[I+1]),C.set(o[I+2],o[I+3]),D.set(o[I+4],o[I+5]),A.copy(_).add(S).add(M).divideScalar(3);const F=y(A);x(R,I+0,_,F),x(C,I+2,S,F),x(D,I+4,M,F)}}function x(_,S,M,A){A<0&&_.x===1&&(o[S]=_.x-1),M.x===0&&M.z===0&&(o[S]=A/2/Math.PI+.5)}function y(_){return Math.atan2(_.z,-_.x)}function g(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rc(e.vertices,e.indices,e.radius,e.details)}}class Y_ extends rc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Y_(e.radius,e.detail)}}const xv=new X,yv=new X,KS=new X,_v=new zi;class lz extends rn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(uu*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:x,b:y,c:g}=_v;if(x.fromBufferAttribute(a,c[0]),y.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),_v.getNormal(KS),d[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,d[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,d[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let _=0;_<3;_++){const S=(_+1)%3,M=d[_],A=d[S],R=_v[u[_]],C=_v[u[S]],D=`${M}_${A}`,N=`${A}_${M}`;N in p&&p[N]?(KS.dot(p[N].normal)<=s&&(m.push(R.x,R.y,R.z),m.push(C.x,C.y,C.z)),p[N]=null):D in p||(p[D]={index0:c[_],index1:c[S],normal:KS.clone()})}}for(const v in p)if(p[v]){const{index0:x,index1:y}=p[v];xv.fromBufferAttribute(a,x),yv.fromBufferAttribute(a,y),m.push(xv.x,xv.y,xv.z),m.push(yv.x,yv.y,yv.z)}this.setAttribute("position",new Ot(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class go{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){yt("Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],p=r[i+1]-u,m=(o-u)/p;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new Xe:new X);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new X,i=[],s=[],o=[],a=new X,l=new Gt;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new X)}s[0]=new X,o[0]=new X;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),d=Math.abs(i[0].y),p=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(qt(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(qt(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class q_ extends go{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n=new Xe){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*u-m*d+this.aX,c=p*d+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class cz extends q_{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function wA(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,d){let p=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+d)+(l-a)/d;p*=u,m*=u,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const wv=new X,ZS=new wA,QS=new wA,JS=new wA;class uz extends go{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new X){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(wv.subVectors(i[0],i[1]).add(i[0]),c=wv);const d=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(wv.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=wv),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(d),m),x=Math.pow(d.distanceToSquared(p),m),y=Math.pow(p.distanceToSquared(u),m);x<1e-4&&(x=1),v<1e-4&&(v=x),y<1e-4&&(y=x),ZS.initNonuniformCatmullRom(c.x,d.x,p.x,u.x,v,x,y),QS.initNonuniformCatmullRom(c.y,d.y,p.y,u.y,v,x,y),JS.initNonuniformCatmullRom(c.z,d.z,p.z,u.z,v,x,y)}else this.curveType==="catmullrom"&&(ZS.initCatmullRom(c.x,d.x,p.x,u.x,this.tension),QS.initCatmullRom(c.y,d.y,p.y,u.y,this.tension),JS.initCatmullRom(c.z,d.z,p.z,u.z,this.tension));return r.set(ZS.calc(l),QS.calc(l),JS.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new X().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function _D(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function zre(t,e){const n=1-t;return n*n*e}function Vre(t,e){return 2*(1-t)*t*e}function Hre(t,e){return t*t*e}function kp(t,e,n,r){return zre(t,e)+Vre(t,n)+Hre(t,r)}function jre(t,e){const n=1-t;return n*n*n*e}function Gre(t,e){const n=1-t;return 3*n*n*t*e}function Wre(t,e){return 3*(1-t)*t*t*e}function Xre(t,e){return t*t*t*e}function Up(t,e,n,r,i){return jre(t,e)+Gre(t,n)+Wre(t,r)+Xre(t,i)}class SA extends go{constructor(e=new Xe,n=new Xe,r=new Xe,i=new Xe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Xe){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Up(e,i.x,s.x,o.x,a.x),Up(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class dz extends go{constructor(e=new X,n=new X,r=new X,i=new X){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new X){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Up(e,i.x,s.x,o.x,a.x),Up(e,i.y,s.y,o.y,a.y),Up(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class bA extends go{constructor(e=new Xe,n=new Xe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Xe){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Xe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class fz extends go{constructor(e=new X,n=new X){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new X){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new X){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class MA extends go{constructor(e=new Xe,n=new Xe,r=new Xe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Xe){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(kp(e,i.x,s.x,o.x),kp(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class EA extends go{constructor(e=new X,n=new X,r=new X){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new X){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(kp(e,i.x,s.x,o.x),kp(e,i.y,s.y,o.y),kp(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class TA extends go{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Xe){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set(_D(a,l.x,c.x,u.x,d.x),_D(a,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Xe().fromArray(i))}return this}}var jy=Object.freeze({__proto__:null,ArcCurve:cz,CatmullRomCurve3:uz,CubicBezierCurve:SA,CubicBezierCurve3:dz,EllipseCurve:q_,LineCurve:bA,LineCurve3:fz,QuadraticBezierCurve:MA,QuadraticBezierCurve3:EA,SplineCurve:TA});class hz extends go{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new jy[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new jy[i.type]().fromJSON(i))}return this}}class Gy extends hz{constructor(e){super(),this.type="Path",this.currentPoint=new Xe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new bA(this.currentPoint.clone(),new Xe(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new MA(this.currentPoint.clone(),new Xe(e,n),new Xe(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new SA(this.currentPoint.clone(),new Xe(e,n),new Xe(r,i),new Xe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new TA(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const c=new q_(e,n,r,i,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class fu extends Gy{constructor(e){super(e),this.uuid=as(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Gy().fromJSON(i))}return this}}function $re(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=pz(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c;if(r&&(s=Qre(t,e,s,n)),t.length>80*n){a=t[0],l=t[1];let u=a,d=l;for(let p=n;p<i;p+=n){const m=t[p],v=t[p+1];m<a&&(a=m),v<l&&(l=v),m>u&&(u=m),v>d&&(d=v)}c=Math.max(u-a,d-l),c=c!==0?32767/c:0}return Em(s,o,n,a,l,c,0),o}function pz(t,e,n,r,i){let s;if(i===cie(t,e,n,r)>0)for(let o=e;o<n;o+=r)s=wD(o/r|0,t[o],t[o+1],s);else for(let o=n-r;o>=e;o-=r)s=wD(o/r|0,t[o],t[o+1],s);return s&&zf(s,s.next)&&(Cm(s),s=s.next),s}function Eu(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(zf(n,n.next)||er(n.prev,n,n.next)===0)){if(Cm(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Em(t,e,n,r,i,s,o){if(!t)return;!o&&s&&rie(t,r,i,s);let a=t;for(;t.prev!==t.next;){const l=t.prev,c=t.next;if(s?qre(t,r,i,s):Yre(t)){e.push(l.i,t.i,c.i),Cm(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=Kre(Eu(t),e),Em(t,e,n,r,i,s,2)):o===2&&Zre(t,e,n,r,i,s):Em(Eu(t),e,n,r,i,s,1);break}}}function Yre(t){const e=t.prev,n=t,r=t.next;if(er(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,c=r.y,u=Math.min(i,s,o),d=Math.min(a,l,c),p=Math.max(i,s,o),m=Math.max(a,l,c);let v=r.next;for(;v!==e;){if(v.x>=u&&v.x<=p&&v.y>=d&&v.y<=m&&fp(i,a,s,l,o,c,v.x,v.y)&&er(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function qre(t,e,n,r){const i=t.prev,s=t,o=t.next;if(er(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,d=s.y,p=o.y,m=Math.min(a,l,c),v=Math.min(u,d,p),x=Math.max(a,l,c),y=Math.max(u,d,p),g=LE(m,v,e,n,r),_=LE(x,y,e,n,r);let S=t.prevZ,M=t.nextZ;for(;S&&S.z>=g&&M&&M.z<=_;){if(S.x>=m&&S.x<=x&&S.y>=v&&S.y<=y&&S!==i&&S!==o&&fp(a,u,l,d,c,p,S.x,S.y)&&er(S.prev,S,S.next)>=0||(S=S.prevZ,M.x>=m&&M.x<=x&&M.y>=v&&M.y<=y&&M!==i&&M!==o&&fp(a,u,l,d,c,p,M.x,M.y)&&er(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;S&&S.z>=g;){if(S.x>=m&&S.x<=x&&S.y>=v&&S.y<=y&&S!==i&&S!==o&&fp(a,u,l,d,c,p,S.x,S.y)&&er(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;M&&M.z<=_;){if(M.x>=m&&M.x<=x&&M.y>=v&&M.y<=y&&M!==i&&M!==o&&fp(a,u,l,d,c,p,M.x,M.y)&&er(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function Kre(t,e){let n=t;do{const r=n.prev,i=n.next.next;!zf(r,i)&&gz(r,n,n.next,i)&&Tm(r,i)&&Tm(i,r)&&(e.push(r.i,n.i,i.i),Cm(n),Cm(n.next),n=t=i),n=n.next}while(n!==t);return Eu(n)}function Zre(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&oie(o,a)){let l=vz(o,a);o=Eu(o,o.next),l=Eu(l,l.next),Em(o,e,n,r,i,s,0),Em(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function Qre(t,e,n,r){const i=[];for(let s=0,o=e.length;s<o;s++){const a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=pz(t,a,l,r,!1);c===c.next&&(c.steiner=!0),i.push(sie(c))}i.sort(Jre);for(let s=0;s<i.length;s++)n=eie(i[s],n);return n}function Jre(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function eie(t,e){const n=tie(t,e);if(!n)return e;const r=vz(n,t);return Eu(r,r.next),Eu(n,n.next)}function tie(t,e){let n=e;const r=t.x,i=t.y;let s=-1/0,o;if(zf(t,n))return n;do{if(zf(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const d=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=r&&d>s&&(s=d,o=n.x<n.next.x?n:n.next,d===r))return o}n=n.next}while(n!==e);if(!o)return null;const a=o,l=o.x,c=o.y;let u=1/0;n=o;do{if(r>=n.x&&n.x>=l&&r!==n.x&&mz(i<c?r:s,i,l,c,i<c?s:r,i,n.x,n.y)){const d=Math.abs(i-n.y)/(r-n.x);Tm(n,t)&&(d<u||d===u&&(n.x>o.x||n.x===o.x&&nie(o,n)))&&(o=n,u=d)}n=n.next}while(n!==a);return o}function nie(t,e){return er(t.prev,t,e.prev)<0&&er(e.next,t,t.next)<0}function rie(t,e,n,r){let i=t;do i.z===0&&(i.z=LE(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,iie(i)}function iie(t){let e,n=1;do{let r=t,i;t=null;let s=null;for(e=0;r;){e++;let o=r,a=0;for(let c=0;c<n&&(a++,o=o.nextZ,!!o);c++);let l=n;for(;a>0||l>0&&o;)a!==0&&(l===0||!o||r.z<=o.z)?(i=r,r=r.nextZ,a--):(i=o,o=o.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=o}s.nextZ=null,n*=2}while(e>1);return t}function LE(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function sie(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function mz(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function fp(t,e,n,r,i,s,o,a){return!(t===o&&e===a)&&mz(t,e,n,r,i,s,o,a)}function oie(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!aie(t,e)&&(Tm(t,e)&&Tm(e,t)&&lie(t,e)&&(er(t.prev,t,e.prev)||er(t,e.prev,e))||zf(t,e)&&er(t.prev,t,t.next)>0&&er(e.prev,e,e.next)>0)}function er(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function zf(t,e){return t.x===e.x&&t.y===e.y}function gz(t,e,n,r){const i=bv(er(t,e,n)),s=bv(er(t,e,r)),o=bv(er(n,r,t)),a=bv(er(n,r,e));return!!(i!==s&&o!==a||i===0&&Sv(t,n,e)||s===0&&Sv(t,r,e)||o===0&&Sv(n,t,r)||a===0&&Sv(n,e,r))}function Sv(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function bv(t){return t>0?1:t<0?-1:0}function aie(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&gz(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Tm(t,e){return er(t.prev,t,t.next)<0?er(t,e,t.next)>=0&&er(t,t.prev,e)>=0:er(t,e,t.prev)<0||er(t,t.next,e)<0}function lie(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function vz(t,e){const n=OE(t.i,t.x,t.y),r=OE(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function wD(t,e,n,r){const i=OE(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Cm(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function OE(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function cie(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class uie{static triangulate(e,n,r=2){return $re(e,n,r)}}class oo{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return oo.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];SD(e),bD(r,e);let o=e.length;n.forEach(SD);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,bD(r,n[l]);const a=uie.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function SD(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function bD(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class K_ extends rn{constructor(e=new fu([new Xe(.5,.5),new Xe(-.5,.5),new Xe(-.5,-.5),new Xe(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Ot(i,3)),this.setAttribute("uv",new Ot(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:m-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,_=n.UVGenerator!==void 0?n.UVGenerator:die;let S,M=!1,A,R,C,D;g&&(S=g.getSpacedPoints(u),M=!0,p=!1,A=g.computeFrenetFrames(u,!1),R=new X,C=new X,D=new X),p||(y=0,m=0,v=0,x=0);const N=a.extractPoints(c);let I=N.shape;const F=N.holes;if(!oo.isClockWise(I)){I=I.reverse();for(let Te=0,j=F.length;Te<j;Te++){const Ae=F[Te];oo.isClockWise(Ae)&&(F[Te]=Ae.reverse())}}function Y(Te){const Ae=10000000000000001e-36;let Ve=Te[0];for(let qe=1;qe<=Te.length;qe++){const Fe=qe%Te.length,pt=Te[Fe],et=pt.x-Ve.x,vt=pt.y-Ve.y,W=et*et+vt*vt,U=Math.max(Math.abs(pt.x),Math.abs(pt.y),Math.abs(Ve.x),Math.abs(Ve.y)),de=Ae*U*U;if(W<=de){Te.splice(Fe,1),qe--;continue}Ve=pt}}Y(I),F.forEach(Y);const G=F.length,ee=I;for(let Te=0;Te<G;Te++){const j=F[Te];I=I.concat(j)}function Q(Te,j,Ae){return j||Zt("ExtrudeGeometry: vec does not exist"),Te.clone().addScaledVector(j,Ae)}const ie=I.length;function z(Te,j,Ae){let Ve,qe,Fe;const pt=Te.x-j.x,et=Te.y-j.y,vt=Ae.x-Te.x,W=Ae.y-Te.y,U=pt*pt+et*et,de=pt*W-et*vt;if(Math.abs(de)>Number.EPSILON){const be=Math.sqrt(U),Ne=Math.sqrt(vt*vt+W*W),we=j.x-et/be,gt=j.y+pt/be,tt=Ae.x-W/Ne,Rt=Ae.y+vt/Ne,wt=((tt-we)*W-(Rt-gt)*vt)/(pt*W-et*vt);Ve=we+pt*wt-Te.x,qe=gt+et*wt-Te.y;const Pe=Ve*Ve+qe*qe;if(Pe<=2)return new Xe(Ve,qe);Fe=Math.sqrt(Pe/2)}else{let be=!1;pt>Number.EPSILON?vt>Number.EPSILON&&(be=!0):pt<-Number.EPSILON?vt<-Number.EPSILON&&(be=!0):Math.sign(et)===Math.sign(W)&&(be=!0),be?(Ve=-et,qe=pt,Fe=Math.sqrt(U)):(Ve=pt,qe=et,Fe=Math.sqrt(U/2))}return new Xe(Ve/Fe,qe/Fe)}const H=[];for(let Te=0,j=ee.length,Ae=j-1,Ve=Te+1;Te<j;Te++,Ae++,Ve++)Ae===j&&(Ae=0),Ve===j&&(Ve=0),H[Te]=z(ee[Te],ee[Ae],ee[Ve]);const $=[];let oe,pe=H.concat();for(let Te=0,j=G;Te<j;Te++){const Ae=F[Te];oe=[];for(let Ve=0,qe=Ae.length,Fe=qe-1,pt=Ve+1;Ve<qe;Ve++,Fe++,pt++)Fe===qe&&(Fe=0),pt===qe&&(pt=0),oe[Ve]=z(Ae[Ve],Ae[Fe],Ae[pt]);$.push(oe),pe=pe.concat(oe)}let Me;if(y===0)Me=oo.triangulateShape(ee,F);else{const Te=[],j=[];for(let Ae=0;Ae<y;Ae++){const Ve=Ae/y,qe=m*Math.cos(Ve*Math.PI/2),Fe=v*Math.sin(Ve*Math.PI/2)+x;for(let pt=0,et=ee.length;pt<et;pt++){const vt=Q(ee[pt],H[pt],Fe);ct(vt.x,vt.y,-qe),Ve===0&&Te.push(vt)}for(let pt=0,et=G;pt<et;pt++){const vt=F[pt];oe=$[pt];const W=[];for(let U=0,de=vt.length;U<de;U++){const be=Q(vt[U],oe[U],Fe);ct(be.x,be.y,-qe),Ve===0&&W.push(be)}Ve===0&&j.push(W)}}Me=oo.triangulateShape(Te,j)}const Ue=Me.length,at=v+x;for(let Te=0;Te<ie;Te++){const j=p?Q(I[Te],pe[Te],at):I[Te];M?(C.copy(A.normals[0]).multiplyScalar(j.x),R.copy(A.binormals[0]).multiplyScalar(j.y),D.copy(S[0]).add(C).add(R),ct(D.x,D.y,D.z)):ct(j.x,j.y,0)}for(let Te=1;Te<=u;Te++)for(let j=0;j<ie;j++){const Ae=p?Q(I[j],pe[j],at):I[j];M?(C.copy(A.normals[Te]).multiplyScalar(Ae.x),R.copy(A.binormals[Te]).multiplyScalar(Ae.y),D.copy(S[Te]).add(C).add(R),ct(D.x,D.y,D.z)):ct(Ae.x,Ae.y,d/u*Te)}for(let Te=y-1;Te>=0;Te--){const j=Te/y,Ae=m*Math.cos(j*Math.PI/2),Ve=v*Math.sin(j*Math.PI/2)+x;for(let qe=0,Fe=ee.length;qe<Fe;qe++){const pt=Q(ee[qe],H[qe],Ve);ct(pt.x,pt.y,d+Ae)}for(let qe=0,Fe=F.length;qe<Fe;qe++){const pt=F[qe];oe=$[qe];for(let et=0,vt=pt.length;et<vt;et++){const W=Q(pt[et],oe[et],Ve);M?ct(W.x,W.y+S[u-1].y,S[u-1].x+Ae):ct(W.x,W.y,d+Ae)}}}ae(),fe();function ae(){const Te=i.length/3;if(p){let j=0,Ae=ie*j;for(let Ve=0;Ve<Ue;Ve++){const qe=Me[Ve];st(qe[2]+Ae,qe[1]+Ae,qe[0]+Ae)}j=u+y*2,Ae=ie*j;for(let Ve=0;Ve<Ue;Ve++){const qe=Me[Ve];st(qe[0]+Ae,qe[1]+Ae,qe[2]+Ae)}}else{for(let j=0;j<Ue;j++){const Ae=Me[j];st(Ae[2],Ae[1],Ae[0])}for(let j=0;j<Ue;j++){const Ae=Me[j];st(Ae[0]+ie*u,Ae[1]+ie*u,Ae[2]+ie*u)}}r.addGroup(Te,i.length/3-Te,0)}function fe(){const Te=i.length/3;let j=0;je(ee,j),j+=ee.length;for(let Ae=0,Ve=F.length;Ae<Ve;Ae++){const qe=F[Ae];je(qe,j),j+=qe.length}r.addGroup(Te,i.length/3-Te,1)}function je(Te,j){let Ae=Te.length;for(;--Ae>=0;){const Ve=Ae;let qe=Ae-1;qe<0&&(qe=Te.length-1);for(let Fe=0,pt=u+y*2;Fe<pt;Fe++){const et=ie*Fe,vt=ie*(Fe+1),W=j+Ve+et,U=j+qe+et,de=j+qe+vt,be=j+Ve+vt;ut(W,U,de,be)}}}function ct(Te,j,Ae){l.push(Te),l.push(j),l.push(Ae)}function st(Te,j,Ae){Be(Te),Be(j),Be(Ae);const Ve=i.length/3,qe=_.generateTopUV(r,i,Ve-3,Ve-2,Ve-1);Ye(qe[0]),Ye(qe[1]),Ye(qe[2])}function ut(Te,j,Ae,Ve){Be(Te),Be(j),Be(Ve),Be(j),Be(Ae),Be(Ve);const qe=i.length/3,Fe=_.generateSideWallUV(r,i,qe-6,qe-3,qe-2,qe-1);Ye(Fe[0]),Ye(Fe[1]),Ye(Fe[3]),Ye(Fe[1]),Ye(Fe[2]),Ye(Fe[3])}function Be(Te){i.push(l[Te*3+0]),i.push(l[Te*3+1]),i.push(l[Te*3+2])}function Ye(Te){s.push(Te.x),s.push(Te.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return fie(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new jy[i.type]().fromJSON(i)),new K_(r,e.options)}}const die={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Xe(s,o),new Xe(a,l),new Xe(c,u)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],p=e[i*3],m=e[i*3+1],v=e[i*3+2],x=e[s*3],y=e[s*3+1],g=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Xe(o,1-l),new Xe(c,1-d),new Xe(p,1-v),new Xe(x,1-g)]:[new Xe(a,1-l),new Xe(u,1-d),new Xe(m,1-v),new Xe(y,1-g)]}};function fie(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class mg extends rc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new mg(e.radius,e.detail)}}class Z_ extends rn{constructor(e=[new Xe(0,-.5),new Xe(.5,0),new Xe(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=qt(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/n,d=new X,p=new Xe,m=new X,v=new X,x=new X;let y=0,g=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:y=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,m.x=g*1,m.y=-y,m.z=g*0,x.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:y=e[_+1].x-e[_].x,g=e[_+1].y-e[_].y,m.x=g*1,m.y=-y,m.z=g*0,v.copy(m),m.x+=x.x,m.y+=x.y,m.z+=x.z,m.normalize(),l.push(m.x,m.y,m.z),x.copy(v)}for(let _=0;_<=n;_++){const S=r+_*u*i,M=Math.sin(S),A=Math.cos(S);for(let R=0;R<=e.length-1;R++){d.x=e[R].x*M,d.y=e[R].y,d.z=e[R].x*A,o.push(d.x,d.y,d.z),p.x=_/n,p.y=R/(e.length-1),a.push(p.x,p.y);const C=l[3*R+0]*M,D=l[3*R+1],N=l[3*R+0]*A;c.push(C,D,N)}}for(let _=0;_<n;_++)for(let S=0;S<e.length-1;S++){const M=S+_*e.length,A=M,R=M+e.length,C=M+e.length+1,D=M+1;s.push(A,R,D),s.push(C,D,R)}this.setIndex(s),this.setAttribute("position",new Ot(o,3)),this.setAttribute("uv",new Ot(a,2)),this.setAttribute("normal",new Ot(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Z_(e.points,e.segments,e.phiStart,e.phiLength)}}class gg extends rc{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new gg(e.radius,e.detail)}}class ic extends rn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,d=e/a,p=n/l,m=[],v=[],x=[],y=[];for(let g=0;g<u;g++){const _=g*p-o;for(let S=0;S<c;S++){const M=S*d-s;v.push(M,-_,0),x.push(0,0,1),y.push(S/a),y.push(1-g/l)}}for(let g=0;g<l;g++)for(let _=0;_<a;_++){const S=_+c*g,M=_+c*(g+1),A=_+1+c*(g+1),R=_+1+c*g;m.push(S,M,R),m.push(M,A,R)}this.setIndex(m),this.setAttribute("position",new Ot(v,3)),this.setAttribute("normal",new Ot(x,3)),this.setAttribute("uv",new Ot(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ic(e.width,e.height,e.widthSegments,e.heightSegments)}}class Q_ extends rn{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let d=e;const p=(n-e)/i,m=new X,v=new Xe;for(let x=0;x<=i;x++){for(let y=0;y<=r;y++){const g=s+y/r*o;m.x=d*Math.cos(g),m.y=d*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/n+1)/2,v.y=(m.y/n+1)/2,u.push(v.x,v.y)}d+=p}for(let x=0;x<i;x++){const y=x*(r+1);for(let g=0;g<r;g++){const _=g+y,S=_,M=_+r+1,A=_+r+2,R=_+1;a.push(S,M,R),a.push(M,A,R)}}this.setIndex(a),this.setAttribute("position",new Ot(l,3)),this.setAttribute("normal",new Ot(c,3)),this.setAttribute("uv",new Ot(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Q_(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class J_ extends rn{constructor(e=new fu([new Xe(0,.5),new Xe(-.5,-.5),new Xe(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Ot(i,3)),this.setAttribute("normal",new Ot(s,3)),this.setAttribute("uv",new Ot(o,2));function c(u){const d=i.length/3,p=u.extractPoints(n);let m=p.shape;const v=p.holes;oo.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,g=v.length;y<g;y++){const _=v[y];oo.isClockWise(_)===!0&&(v[y]=_.reverse())}const x=oo.triangulateShape(m,v);for(let y=0,g=v.length;y<g;y++){const _=v[y];m=m.concat(_)}for(let y=0,g=m.length;y<g;y++){const _=m[y];i.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let y=0,g=x.length;y<g;y++){const _=x[y],S=_[0]+d,M=_[1]+d,A=_[2]+d;r.push(S,M,A),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return hie(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new J_(r,e.curveSegments)}}function hie(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class vg extends rn{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],d=new X,p=new X,m=[],v=[],x=[],y=[];for(let g=0;g<=r;g++){const _=[],S=g/r;let M=0;g===0&&o===0?M=.5/n:g===r&&l===Math.PI&&(M=-.5/n);for(let A=0;A<=n;A++){const R=A/n;d.x=-e*Math.cos(i+R*s)*Math.sin(o+S*a),d.y=e*Math.cos(o+S*a),d.z=e*Math.sin(i+R*s)*Math.sin(o+S*a),v.push(d.x,d.y,d.z),p.copy(d).normalize(),x.push(p.x,p.y,p.z),y.push(R+M,1-S),_.push(c++)}u.push(_)}for(let g=0;g<r;g++)for(let _=0;_<n;_++){const S=u[g][_+1],M=u[g][_],A=u[g+1][_],R=u[g+1][_+1];(g!==0||o>0)&&m.push(S,M,R),(g!==r-1||l<Math.PI)&&m.push(M,A,R)}this.setIndex(m),this.setAttribute("position",new Ot(v,3)),this.setAttribute("normal",new Ot(x,3)),this.setAttribute("uv",new Ot(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vg(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class e1 extends rc{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new e1(e.radius,e.detail)}}class t1 extends rn{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new X,d=new X,p=new X;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const x=v/i*s,y=m/r*Math.PI*2;d.x=(e+n*Math.cos(y))*Math.cos(x),d.y=(e+n*Math.cos(y))*Math.sin(x),d.z=n*Math.sin(y),a.push(d.x,d.y,d.z),u.x=e*Math.cos(x),u.y=e*Math.sin(x),p.subVectors(d,u).normalize(),l.push(p.x,p.y,p.z),c.push(v/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const x=(i+1)*m+v-1,y=(i+1)*(m-1)+v-1,g=(i+1)*(m-1)+v,_=(i+1)*m+v;o.push(x,y,_),o.push(y,g,_)}this.setIndex(o),this.setAttribute("position",new Ot(a,3)),this.setAttribute("normal",new Ot(l,3)),this.setAttribute("uv",new Ot(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t1(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class n1 extends rn{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],d=new X,p=new X,m=new X,v=new X,x=new X,y=new X,g=new X;for(let S=0;S<=r;++S){const M=S/r*s*Math.PI*2;_(M,s,o,e,m),_(M+.01,s,o,e,v),y.subVectors(v,m),g.addVectors(v,m),x.crossVectors(y,g),g.crossVectors(x,y),x.normalize(),g.normalize();for(let A=0;A<=i;++A){const R=A/i*Math.PI*2,C=-n*Math.cos(R),D=n*Math.sin(R);d.x=m.x+(C*g.x+D*x.x),d.y=m.y+(C*g.y+D*x.y),d.z=m.z+(C*g.z+D*x.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),c.push(p.x,p.y,p.z),u.push(S/r),u.push(A/i)}}for(let S=1;S<=r;S++)for(let M=1;M<=i;M++){const A=(i+1)*(S-1)+(M-1),R=(i+1)*S+(M-1),C=(i+1)*S+M,D=(i+1)*(S-1)+M;a.push(A,R,D),a.push(R,C,D)}this.setIndex(a),this.setAttribute("position",new Ot(l,3)),this.setAttribute("normal",new Ot(c,3)),this.setAttribute("uv",new Ot(u,2));function _(S,M,A,R,C){const D=Math.cos(S),N=Math.sin(S),I=A/M*S,F=Math.cos(I);C.x=R*(2+F)*.5*D,C.y=R*(2+F)*N*.5,C.z=R*Math.sin(I)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new n1(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class r1 extends rn{constructor(e=new EA(new X(-1,-1,0),new X(-1,1,0),new X(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new X,l=new X,c=new Xe;let u=new X;const d=[],p=[],m=[],v=[];x(),this.setIndex(v),this.setAttribute("position",new Ot(d,3)),this.setAttribute("normal",new Ot(p,3)),this.setAttribute("uv",new Ot(m,2));function x(){for(let S=0;S<n;S++)y(S);y(s===!1?n:0),_(),g()}function y(S){u=e.getPointAt(S/n,u);const M=o.normals[S],A=o.binormals[S];for(let R=0;R<=i;R++){const C=R/i*Math.PI*2,D=Math.sin(C),N=-Math.cos(C);l.x=N*M.x+D*A.x,l.y=N*M.y+D*A.y,l.z=N*M.z+D*A.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,d.push(a.x,a.y,a.z)}}function g(){for(let S=1;S<=n;S++)for(let M=1;M<=i;M++){const A=(i+1)*(S-1)+(M-1),R=(i+1)*S+(M-1),C=(i+1)*S+M,D=(i+1)*(S-1)+M;v.push(A,R,D),v.push(R,C,D)}}function _(){for(let S=0;S<=n;S++)for(let M=0;M<=i;M++)c.x=S/n,c.y=M/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new r1(new jy[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class xz extends rn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new X,s=new X;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],p=d.start,m=d.count;for(let v=p,x=p+m;v<x;v+=3)for(let y=0;y<3;y++){const g=a.getX(v+y),_=a.getX(v+(y+1)%3);i.fromBufferAttribute(o,g),s.fromBufferAttribute(o,_),MD(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,d),MD(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ot(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function MD(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var ED=Object.freeze({__proto__:null,BoxGeometry:Lu,CapsuleGeometry:X_,CircleGeometry:$_,ConeGeometry:pg,CylinderGeometry:hg,DodecahedronGeometry:Y_,EdgesGeometry:lz,ExtrudeGeometry:K_,IcosahedronGeometry:mg,LatheGeometry:Z_,OctahedronGeometry:gg,PlaneGeometry:ic,PolyhedronGeometry:rc,RingGeometry:Q_,ShapeGeometry:J_,SphereGeometry:vg,TetrahedronGeometry:e1,TorusGeometry:t1,TorusKnotGeometry:n1,TubeGeometry:r1,WireframeGeometry:xz});class yz extends Kr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ct(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class _z extends Mi{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class CA extends Kr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Ct(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nc,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ds,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wz extends CA{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Xe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return qt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ct(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ct(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ct(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Sz extends Kr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ct(16777215),this.specular=new Ct(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nc,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ds,this.combine=og,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class bz extends Kr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ct(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nc,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Mz extends Kr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nc,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Ez extends Kr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ct(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nc,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ds,this.combine=og,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class AA extends Kr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=D5,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class RA extends Kr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class Tz extends Kr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ct(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nc,this.normalScale=new Xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Cz extends Ci{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Yc(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function Az(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Rz(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function FE(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function PA(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push(...o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function pie(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],p=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*i;if(!(v<n||v>=r)){d.push(c.times[m]);for(let x=0;x<u;++x)p.push(c.values[m*u+x])}}d.length!==0&&(c.times=Yc(d,c.times.constructor),c.values=Yc(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function mie(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let x;if(s<=a.times[0]){const g=u,_=d-u;x=a.values.slice(g,_)}else if(s>=a.times[v]){const g=v*d+u,_=g+d-u;x=a.values.slice(g,_)}else{const g=a.createInterpolant(),_=u,S=d-u;g.evaluate(s),x=g.resultBuffer.slice(_,S)}l==="quaternion"&&new Si().fromArray(x).normalize().conjugate().toArray(x);const y=c.times.length;for(let g=0;g<y;++g){const _=g*m+p;if(l==="quaternion")Si.multiplyQuaternionsFlat(c.values,_,x,0,c.values,_);else{const S=m-p*2;for(let M=0;M<S;++M)c.values[_+M]-=x[M]}}}return t.blendMode=cA,t}class gie{static convertArray(e,n){return Yc(e,n)}static isTypedArray(e){return Az(e)}static getKeyframeOrder(e){return Rz(e)}static sortedArray(e,n,r){return FE(e,n,r)}static flattenJSON(e,n,r,i){PA(e,n,r,i)}static subclip(e,n,r,i,s=30){return pie(e,n,r,i,s)}static makeClipAdditive(e,n=0,r=e,i=30){return mie(e,n,r,i)}}class xg{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Pz extends xg{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Gc,endingEnd:Gc}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Wc:s=e,a=2*n-r;break;case _m:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Wc:o=e,l=2*r-n;break;case _m:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(r-n)/(i-n),x=v*v,y=x*v,g=-p*y+2*p*x-p*v,_=(1+p)*y+(-1.5-2*p)*x+(-.5+p)*v+1,S=(-1-m)*y+(1.5+m)*x+.5*v,M=m*y-m*x;for(let A=0;A!==a;++A)s[A]=g*o[u+A]+_*o[c+A]+S*o[l+A]+M*o[d+A];return s}}class IA extends xg{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-n)/(i-n),d=1-u;for(let p=0;p!==a;++p)s[p]=o[c+p]*d+o[l+p]*u;return s}}class Iz extends xg{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class zs{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Yc(n,this.TimeBufferType),this.values=Yc(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Yc(e.times,Array),values:Yc(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Iz(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new IA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Pz(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case ym:n=this.InterpolantFactoryMethodDiscrete;break;case zy:n=this.InterpolantFactoryMethodLinear;break;case dx:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return yt("KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ym;case this.InterpolantFactoryMethodLinear:return zy;case this.InterpolantFactoryMethodSmooth:return dx}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(Zt("KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(Zt("KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){Zt("KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){Zt("KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&Az(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){Zt("KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===dx,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const d=a*r,p=d-r,m=d+r;for(let v=0;v!==r;++v){const x=n[d+v];if(x!==n[p+v]||x!==n[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*r,p=o*r;for(let m=0;m!==r;++m)n[p+m]=n[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}zs.prototype.ValueTypeName="";zs.prototype.TimeBufferType=Float32Array;zs.prototype.ValueBufferType=Float32Array;zs.prototype.DefaultInterpolation=zy;class Ou extends zs{constructor(e,n,r){super(e,n,r)}}Ou.prototype.ValueTypeName="bool";Ou.prototype.ValueBufferType=Array;Ou.prototype.DefaultInterpolation=ym;Ou.prototype.InterpolantFactoryMethodLinear=void 0;Ou.prototype.InterpolantFactoryMethodSmooth=void 0;class NA extends zs{constructor(e,n,r,i){super(e,n,r,i)}}NA.prototype.ValueTypeName="color";class Am extends zs{constructor(e,n,r,i){super(e,n,r,i)}}Am.prototype.ValueTypeName="number";class Nz extends xg{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let c=e*a;for(let u=c+a;c!==u;c+=4)Si.slerpFlat(s,0,o,c-a,o,c,l);return s}}class yg extends zs{constructor(e,n,r,i){super(e,n,r,i)}InterpolantFactoryMethodLinear(e){return new Nz(this.times,this.values,this.getValueSize(),e)}}yg.prototype.ValueTypeName="quaternion";yg.prototype.InterpolantFactoryMethodSmooth=void 0;class Fu extends zs{constructor(e,n,r){super(e,n,r)}}Fu.prototype.ValueTypeName="string";Fu.prototype.ValueBufferType=Array;Fu.prototype.DefaultInterpolation=ym;Fu.prototype.InterpolantFactoryMethodLinear=void 0;Fu.prototype.InterpolantFactoryMethodSmooth=void 0;class Rm extends zs{constructor(e,n,r,i){super(e,n,r,i)}}Rm.prototype.ValueTypeName="vector";class Pm{constructor(e="",n=-1,r=[],i=U_){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=as(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(xie(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s.userData=JSON.parse(e.userData||"{}"),s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let s=0,o=r.length;s!==o;++s)n.push(zs.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=Rz(l);l=FE(l,1,u),c=FE(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Am(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let p=i[d];p||(i[d]=p=[]),p.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(yt("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Zt("AnimationClip: No animation in JSONLoader data."),null;const r=function(d,p,m,v,x){if(m.length!==0){const y=[],g=[];PA(m,y,g,v),y.length!==0&&x.push(new d(p,y,g))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const p=c[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let x=0;x<p[v].morphTargets.length;x++)m[p[v].morphTargets[x]]=-1;for(const x in m){const y=[],g=[];for(let _=0;_!==p[v].morphTargets.length;++_){const S=p[v];y.push(S.time),g.push(S.morphTarget===x?1:0)}i.push(new Am(".morphTargetInfluence["+x+"]",y,g))}l=m.length*o}else{const m=".bones["+n[d].name+"]";r(Rm,m+".position",p,"pos",i),r(yg,m+".quaternion",p,"rot",i),r(Rm,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const n=new this.constructor(this.name,this.duration,e,this.blendMode);return n.userData=JSON.parse(JSON.stringify(this.userData)),n}toJSON(){return this.constructor.toJSON(this)}}function vie(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Am;case"vector":case"vector2":case"vector3":case"vector4":return Rm;case"color":return NA;case"quaternion":return yg;case"bool":case"boolean":return Ou;case"string":return Fu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function xie(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=vie(t.type);if(t.times===void 0){const n=[],r=[];PA(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Uo={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class i1{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this._abortController=null,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,p=c.length;d<p;d+=2){const m=c[d],v=c[d+1];if(m.global&&(m.lastIndex=0),m.test(u))return v}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const Dz=new i1;class Ai{constructor(e){this.manager=e!==void 0?e:Dz,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Ai.DEFAULT_MATERIAL_NAME="__DEFAULT";const da={};class yie extends Error{constructor(e,n){super(e),this.response=n}}class ls extends Ai{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Uo.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(da[e]!==void 0){da[e].push({onLoad:n,onProgress:r,onError:i});return}da[e]=[],da[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&yt("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=da[e],d=c.body.getReader(),p=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),m=p?parseInt(p):0,v=m!==0;let x=0;const y=new ReadableStream({start(g){_();function _(){d.read().then(({done:S,value:M})=>{if(S)g.close();else{x+=M.byteLength;const A=new ProgressEvent("progress",{lengthComputable:v,loaded:x,total:m});for(let R=0,C=u.length;R<C;R++){const D=u[R];D.onProgress&&D.onProgress(A)}g.enqueue(M),_()}},S=>{g.error(S)})}}});return new Response(y)}else throw new yie(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a==="")return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{Uo.add(`file:${e}`,c);const u=da[e];delete da[e];for(let d=0,p=u.length;d<p;d++){const m=u[d];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=da[e];if(u===void 0)throw this.manager.itemError(e),c;delete da[e];for(let d=0,p=u.length;d<p;d++){const m=u[d];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class _ie extends Ai{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new ls(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):Zt(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Pm.parse(e[r]);n.push(i)}return n}}class wie extends Ai{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new W_,l=new ls(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=An),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)u(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let x=0;x<p.mipmapCount;x++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+x]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=An),a.format=p.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}const vd=new WeakMap;class Im extends Ai{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Uo.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0);else{let d=vd.get(o);d===void 0&&(d=[],vd.set(o,d)),d.push({onLoad:n,onError:i})}return o}const a=bm("img");function l(){u(),n&&n(this);const d=vd.get(this)||[];for(let p=0;p<d.length;p++){const m=d[p];m.onLoad&&m.onLoad(this)}vd.delete(this),s.manager.itemEnd(e)}function c(d){u(),i&&i(d),Uo.remove(`image:${e}`);const p=vd.get(this)||[];for(let m=0;m<p.length;m++){const v=p[m];v.onError&&v.onError(d)}vd.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),Uo.add(`image:${e}`,a),s.manager.itemStart(e),a.src=e,a}}class Lz extends Ai{constructor(e){super(e)}load(e,n,r,i){const s=new dg;s.colorSpace=vi;const o=new Im(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class DA extends Ai{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ls,a=new ls(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(i!==void 0)i(u);else{u(u);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:hr,o.wrapT=c.wrapT!==void 0?c.wrapT:hr,o.magFilter=c.magFilter!==void 0?c.magFilter:An,o.minFilter=c.minFilter!==void 0?c.minFilter:An,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=ko),c.mipmapCount===1&&(o.minFilter=An),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},r,i),o}}class Sie extends Ai{constructor(e){super(e)}load(e,n,r,i){const s=new Fn,o=new Im(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class sc extends Mn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Ct(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class Oz extends sc{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Mn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ct(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const eb=new Gt,TD=new X,CD=new X;class LA{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Xe(512,512),this.mapType=bi,this.map=null,this.mapPass=null,this.matrix=new Gt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new rh,this._frameExtents=new Xe(1,1),this._viewportCount=1,this._viewports=[new Sn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;TD.setFromMatrixPosition(e.matrixWorld),n.position.copy(TD),CD.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(CD),n.updateMatrixWorld(),eb.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(eb,n.coordinateSystem,n.reversedDepth),n.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(eb)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class bie extends LA{constructor(){super(new zr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,r=kf*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Fz extends sc{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Mn.DEFAULT_UP),this.updateMatrix(),this.target=new Mn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new bie}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const AD=new Gt,Kh=new X,tb=new X;class Mie extends LA{constructor(){super(new zr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Xe(4,2),this._viewportCount=6,this._viewports=[new Sn(2,1,1,1),new Sn(0,1,1,1),new Sn(3,1,1,1),new Sn(1,1,1,1),new Sn(3,0,1,1),new Sn(1,0,1,1)],this._cubeDirections=[new X(1,0,0),new X(-1,0,0),new X(0,0,1),new X(0,0,-1),new X(0,1,0),new X(0,-1,0)],this._cubeUps=[new X(0,1,0),new X(0,1,0),new X(0,1,0),new X(0,1,0),new X(0,0,1),new X(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Kh.setFromMatrixPosition(e.matrixWorld),r.position.copy(Kh),tb.copy(r.position),tb.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(tb),r.updateMatrixWorld(),i.makeTranslation(-Kh.x,-Kh.y,-Kh.z),AD.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(AD,r.coordinateSystem,r.reversedDepth)}}class kz extends sc{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Mie}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class ih extends ug{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class Eie extends LA{constructor(){super(new ih(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Uz extends sc{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Mn.DEFAULT_UP),this.updateMatrix(),this.target=new Mn,this.shadow=new Eie}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Bz extends sc{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class zz extends sc{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Vz{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new X)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class Hz extends sc{constructor(e=new Vz,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class s1 extends Ai{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new ls(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):Zt(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&yt("MaterialLoader: Undefined texture",s),n[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Ct().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Ct().setHex(o.value);break;case"v2":i.uniforms[s].value=new Xe().fromArray(o.value);break;case"v3":i.uniforms[s].value=new X().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Sn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new nn().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Gt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Xe().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Xe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return s1.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:yz,SpriteMaterial:gA,RawShaderMaterial:_z,ShaderMaterial:Mi,PointsMaterial:xA,MeshPhysicalMaterial:wz,MeshStandardMaterial:CA,MeshPhongMaterial:Sz,MeshToonMaterial:bz,MeshNormalMaterial:Mz,MeshLambertMaterial:Ez,MeshDepthMaterial:AA,MeshDistanceMaterial:RA,MeshBasicMaterial:ka,MeshMatcapMaterial:Tz,LineDashedMaterial:Cz,LineBasicMaterial:Ci,Material:Kr};return new n[e]}}class kE{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class jz extends rn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Gz extends Ai{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new ls(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):Zt(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,v){if(n[v]!==void 0)return n[v];const y=m.interleavedBuffers[v],g=s(m,y.buffer),_=Wd(y.type,g),S=new j_(_,y.stride);return S.uuid=y.uuid,n[v]=S,S}function s(m,v){if(r[v]!==void 0)return r[v];const y=m.arrayBuffers[v],g=new Uint32Array(y).buffer;return r[v]=g,g}const o=e.isInstancedBufferGeometry?new jz:new rn,a=e.data.index;if(a!==void 0){const m=Wd(a.type,a.array);o.setIndex(new kn(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let x;if(v.isInterleavedBufferAttribute){const y=i(e.data,v.data);x=new Mu(y,v.itemSize,v.offset,v.normalized)}else{const y=Wd(v.type,v.array),g=v.isInstancedBufferAttribute?Bf:kn;x=new g(y,v.itemSize,v.normalized)}v.name!==void 0&&(x.name=v.name),v.usage!==void 0&&x.setUsage(v.usage),o.setAttribute(m,x)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],x=[];for(let y=0,g=v.length;y<g;y++){const _=v[y];let S;if(_.isInterleavedBufferAttribute){const M=i(e.data,_.data);S=new Mu(M,_.itemSize,_.offset,_.normalized)}else{const M=Wd(_.type,_.array);S=new kn(M,_.itemSize,_.normalized)}_.name!==void 0&&(S.name=_.name),x.push(S)}o.morphAttributes[m]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,v=d.length;m!==v;++m){const x=d[m];o.addGroup(x.start,x.count,x.materialIndex)}const p=e.data.boundingSphere;return p!==void 0&&(o.boundingSphere=new Yr().fromJSON(p)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Tie extends Ai{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?kE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new ls(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),d("ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),Zt("ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?kE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new ls(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),this.bindLightTargets(c),n!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new fu().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new tz().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Gz;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in ED?a=ED[l.type].fromJSON(l,n):yt(`ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new s1;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Pm.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:Wd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new i1(n);s=new Im(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],p=d.url;if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const y=p[v],g=a(y);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Ls(g.data,g.width,g.height)))}i[d.uuid]=new El(m)}else{const m=a(d.url);i[d.uuid]=new El(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Wd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Im(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,p=c.length;d<p;d++){const m=c[d],v=await s(m);v!==null&&(v instanceof HTMLImageElement?u.push(v):u.push(new Ls(v.data,v.width,v.height)))}r[l.uuid]=new El(u)}else{const u=await s(l.url);r[l.uuid]=new El(u)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(yt("ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&yt('ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&yt("ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let u;Array.isArray(c)?(u=new dg,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Ls:u=new Fn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,Cie)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],RD),u.wrapT=r(a.wrap[1],RD)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,PD)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,PD)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,n,r,i,s){let o;function a(p){return n[p]===void 0&&yt("ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const y=p[v];r[y]===void 0&&yt("ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[p]===void 0&&yt("ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&yt("ObjectLoader: Undefined texture",p),i[p]}let u,d;switch(e.type){case"Scene":o=new fg,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ct(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new H_(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new V_(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new zr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new ih(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Bz(e.color,e.intensity);break;case"DirectionalLight":o=new Uz(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new kz(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new zz(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Fz(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new Oz(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Hz().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),o=new ez(u,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),o=new or(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new rz(u,d,p),o.instanceMatrix=new Bf(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new Bf(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":u=a(e.geometry),d=l(e.material),o=new iz(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,d),o.geometry=u,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(x=>{let y=null,g=null;return x.boundingBox!==void 0&&(y=new li().fromJSON(x.boundingBox)),x.boundingSphere!==void 0&&(g=new Yr().fromJSON(x.boundingSphere)),{...x,boundingBox:y,boundingSphere:g}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=c(e.matricesTexture.uuid),o._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new Yr().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new li().fromJSON(e.boundingBox));break;case"LOD":o=new J5;break;case"Line":o=new Xl(a(e.geometry),l(e.material));break;case"LineLoop":o=new sz(a(e.geometry),l(e.material));break;case"LineSegments":o=new Zo(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new oz(a(e.geometry),l(e.material));break;case"Sprite":o=new Q5(l(e.material));break;case"Group":o=new $c;break;case"Bone":o=new vA;break;default:o=new Mn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],n,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],x=o.getObjectByProperty("uuid",v.object);x!==void 0&&o.addLevel(x,v.distance,v.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?yt("ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new Mn}})}}const Cie={UVMapping:jl,CubeReflectionMapping:Xo,CubeRefractionMapping:Gl,EquirectangularReflectionMapping:Pf,EquirectangularRefractionMapping:gm,CubeUVReflectionMapping:th},RD={RepeatWrapping:vm,ClampToEdgeWrapping:hr,MirroredRepeatWrapping:xm},PD={NearestFilter:$r,NearestMipmapNearestFilter:iA,NearestMipmapLinearFilter:Gd,LinearFilter:An,LinearMipmapNearestFilter:Ip,LinearMipmapLinearFilter:ko},nb=new WeakMap;class Aie extends Ai{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&yt("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&yt("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Uo.get(`image-bitmap:${e}`);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{if(nb.has(o)===!0)i&&i(nb.get(o)),s.manager.itemError(e),s.manager.itemEnd(e);else return n&&n(c),s.manager.itemEnd(e),c});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,a.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return Uo.add(`image-bitmap:${e}`,c),n&&n(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),nb.set(l,c),Uo.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});Uo.add(`image-bitmap:${e}`,l),s.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let Mv;class OA{static getContext(){return Mv===void 0&&(Mv=new(window.AudioContext||window.webkitAudioContext)),Mv}static setContext(e){Mv=e}}class Rie extends Ai{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new ls(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);OA.getContext().decodeAudioData(c,function(d){n(d)}).catch(a)}catch(c){a(c)}},r,i);function a(l){i?i(l):Zt(l),s.manager.itemError(e)}}}const ID=new Gt,ND=new Gt,Sc=new Gt;class Pie{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new zr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new zr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Sc.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(uu*n.fov*.5)/n.zoom;let a,l;ND.elements[12]=-i,ID.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,Sc.elements[0]=2*n.near/(l-a),Sc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Sc),a=-o*n.aspect-s,l=o*n.aspect-s,Sc.elements[0]=2*n.near/(l-a),Sc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Sc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(ND),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(ID)}}class Wz extends zr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class FA{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const bc=new X,rb=new Si,Iie=new X,Mc=new X,Ec=new X;class Nie extends Mn{constructor(){super(),this.type="AudioListener",this.context=OA.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new FA}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(bc,rb,Iie),Mc.set(0,0,-1).applyQuaternion(rb),Ec.set(0,1,0).applyQuaternion(rb),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(bc.x,r),n.positionY.linearRampToValueAtTime(bc.y,r),n.positionZ.linearRampToValueAtTime(bc.z,r),n.forwardX.linearRampToValueAtTime(Mc.x,r),n.forwardY.linearRampToValueAtTime(Mc.y,r),n.forwardZ.linearRampToValueAtTime(Mc.z,r),n.upX.linearRampToValueAtTime(Ec.x,r),n.upY.linearRampToValueAtTime(Ec.y,r),n.upZ.linearRampToValueAtTime(Ec.z,r)}else n.setPosition(bc.x,bc.y,bc.z),n.setOrientation(Mc.x,Mc.y,Mc.z,Ec.x,Ec.y,Ec.z)}}class Xz extends Mn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){yt("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){yt("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){yt("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){yt("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){yt("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(yt("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){yt("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(yt("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Tc=new X,DD=new Si,Die=new X,Cc=new X;class Lie extends Xz{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Tc,DD,Die),Cc.set(0,0,1).applyQuaternion(DD);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Tc.x,r),n.positionY.linearRampToValueAtTime(Tc.y,r),n.positionZ.linearRampToValueAtTime(Tc.z,r),n.orientationX.linearRampToValueAtTime(Cc.x,r),n.orientationY.linearRampToValueAtTime(Cc.y,r),n.orientationZ.linearRampToValueAtTime(Cc.z,r)}else n.setPosition(Tc.x,Tc.y,Tc.z),n.setOrientation(Cc.x,Cc.y,Cc.z)}}class Oie{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class $z{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Si.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;Si.multiplyQuaternionsFlat(e,o,e,n,e,r),Si.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const kA="\\[\\]\\.:\\/",Fie=new RegExp("["+kA+"]","g"),UA="[^"+kA+"]",kie="[^"+kA.replace("\\.","")+"]",Uie=/((?:WC+[\/:])*)/.source.replace("WC",UA),Bie=/(WCOD+)?/.source.replace("WCOD",kie),zie=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",UA),Vie=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",UA),Hie=new RegExp("^"+Uie+Bie+zie+Vie+"$"),jie=["material","materials","bones","map"];class Gie{constructor(e,n,r){const i=r||wn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class wn{constructor(e,n,r){this.path=n,this.parsedPath=r||wn.parseTrackName(n),this.node=wn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new wn.Composite(e,n,r):new wn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Fie,"")}static parseTrackName(e){const n=Hie.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);jie.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=wn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){yt("PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){Zt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Zt("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Zt("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Zt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Zt("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){Zt("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){Zt("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=n.nodeName;Zt("PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){Zt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Zt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}wn.Composite=Gie;wn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};wn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};wn.prototype.GetterByBindingType=[wn.prototype._getValue_direct,wn.prototype._getValue_array,wn.prototype._getValue_arrayElement,wn.prototype._getValue_toArray];wn.prototype.SetterByBindingTypeAndVersioning=[[wn.prototype._setValue_direct,wn.prototype._setValue_direct_setNeedsUpdate,wn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[wn.prototype._setValue_array,wn.prototype._setValue_array_setNeedsUpdate,wn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[wn.prototype._setValue_arrayElement,wn.prototype._setValue_arrayElement_setNeedsUpdate,wn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[wn.prototype._setValue_fromArray,wn.prototype._setValue_fromArray_setNeedsUpdate,wn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Wie{constructor(){this.isAnimationObjectGroup=!0,this.uuid=as(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const p=arguments[u],m=p.uuid;let v=n[m];if(v===void 0){v=l++,n[m]=v,e.push(p);for(let x=0,y=o;x!==y;++x)s[x].push(new wn(p,r[x],i[x]))}else if(v<c){a=e[v];const x=--c,y=e[x];n[y.uuid]=v,e[v]=y,n[m]=x,e[x]=p;for(let g=0,_=o;g!==_;++g){const S=s[g],M=S[x];let A=S[v];S[v]=M,A===void 0&&(A=new wn(p,r[g],i[g])),S[x]=A}}else e[v]!==a&&Zt("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=n[c];if(u!==void 0&&u>=s){const d=s++,p=e[d];n[p.uuid]=u,e[u]=p,n[c]=d,e[d]=l;for(let m=0,v=i;m!==v;++m){const x=r[m],y=x[d],g=x[u];x[u]=y,x[d]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=n[u];if(d!==void 0)if(delete n[u],d<s){const p=--s,m=e[p],v=--o,x=e[v];n[m.uuid]=d,e[d]=m,n[x.uuid]=p,e[p]=x,e.pop();for(let y=0,g=i;y!==g;++y){const _=r[y],S=_[p],M=_[v];_[d]=S,_[p]=M,_.pop()}}else{const p=--o,m=e[p];p>0&&(n[m.uuid]=d),e[d]=m,e.pop();for(let v=0,x=i;v!==x;++v){const y=r[v];y[d]=y[p],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(d);for(let p=u,m=l.length;p!==m;++p){const v=l[p];d[p]=new wn(v,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class Yz{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Gc,endingEnd:Gc};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=I5,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r=!1){if(e.fadeOut(n),this.fadeIn(n),r===!0){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r=!1){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case cA:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case U_:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===N5;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===P5){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Wc,i.endingEnd=Wc):(e?i.endingStart=this.zeroSlopeAtStart?Wc:Gc:i.endingStart=_m,n?i.endingEnd=this.zeroSlopeAtEnd?Wc:Gc:i.endingEnd=_m)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const Xie=new Float32Array(1);class $ie extends Ko{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const p=i[d],m=p.name;let v=u[m];if(v!==void 0)++v.referenceCount,o[d]=v;else{if(v=o[d],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const x=n&&n._propertyBindings[d].binding.parsedPath;v=new $z(wn.create(r,m,x),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[d]=v}a[d].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new IA(new Float32Array(2),new Float32Array(2),1,Xie),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?Pm.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=U_),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new Yz(this,o,n,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?Pm.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,n[u]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class Yie extends fA{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new z_(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class BA{constructor(e){this.value=e}clone(){return new BA(this.value.clone===void 0?this.value:this.value.clone())}}let qie=0;class Kie extends Ko{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:qie++}),this.name="",this.usage=Sm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class Zie extends j_{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Qie{constructor(e,n,r,i,s,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const LD=new Gt;class zA{constructor(e,n,r=0,i=1/0){this.ray=new nh(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new du,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):Zt("Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return LD.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(LD),this}intersectObject(e,n=!0,r=[]){return UE(e,this,r,n),r.sort(OD),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)UE(e[i],this,r,n);return r.sort(OD),r}}function OD(t,e){return t.distance-e.distance}function UE(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const s=t.children;for(let o=0,a=s.length;o<a;o++)UE(s[o],e,n,!0)}}class Jie{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=ese.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function ese(){this._document.hidden===!1&&this.reset()}class tse{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=qt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(qt(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class nse{constructor(e=1,n=0,r=0){this.radius=e,this.theta=n,this.y=r}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class VA{constructor(e,n,r,i){VA.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const s=this.elements;return s[0]=e,s[2]=n,s[1]=r,s[3]=i,this}}const FD=new Xe;class rse{constructor(e=new Xe(1/0,1/0),n=new Xe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=FD.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,FD).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const kD=new X,Ev=new X,xd=new X,yd=new X,ib=new X,ise=new X,sse=new X;class ose{constructor(e=new X,n=new X){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){kD.subVectors(e,this.start),Ev.subVectors(this.end,this.start);const r=Ev.dot(Ev);let s=Ev.dot(kD)/r;return n&&(s=qt(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,n=ise,r=sse){const i=10000000000000001e-32;let s,o;const a=this.start,l=e.start,c=this.end,u=e.end;xd.subVectors(c,a),yd.subVectors(u,l),ib.subVectors(a,l);const d=xd.dot(xd),p=yd.dot(yd),m=yd.dot(ib);if(d<=i&&p<=i)return n.copy(a),r.copy(l),n.sub(r),n.dot(n);if(d<=i)s=0,o=m/p,o=qt(o,0,1);else{const v=xd.dot(ib);if(p<=i)o=0,s=qt(-v/d,0,1);else{const x=xd.dot(yd),y=d*p-x*x;y!==0?s=qt((x*m-v*p)/y,0,1):s=0,o=(x*s+m)/p,o<0?(o=0,s=qt(-v/d,0,1)):o>1&&(o=1,s=qt((x-v)/d,0,1))}}return n.copy(a).add(xd.multiplyScalar(s)),r.copy(l).add(yd.multiplyScalar(o)),n.sub(r),n.dot(n)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const UD=new X;class ase extends Mn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new rn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new Ot(i,3));const s=new Ci({fog:!1,toneMapped:!1});this.cone=new Zo(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),UD.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(UD),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const tl=new X,Tv=new Gt,sb=new Gt;class lse extends Zo{constructor(e){const n=qz(e),r=new rn,i=[],s=[];for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}r.setAttribute("position",new Ot(i,3)),r.setAttribute("color",new Ot(s,3));const o=new Ci({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const a=new Ct(255),l=new Ct(65280);this.setColors(a,l)}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");sb.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(Tv.multiplyMatrices(sb,a.matrixWorld),tl.setFromMatrixPosition(Tv),i.setXYZ(o,tl.x,tl.y,tl.z),Tv.multiplyMatrices(sb,a.parent.matrixWorld),tl.setFromMatrixPosition(Tv),i.setXYZ(o+1,tl.x,tl.y,tl.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,n){const i=this.geometry.getAttribute("color");for(let s=0;s<i.count;s+=2)i.setXYZ(s,e.r,e.g,e.b),i.setXYZ(s+1,n.r,n.g,n.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function qz(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...qz(t.children[n]));return e}class cse extends or{constructor(e,n,r){const i=new vg(n,4,2),s=new ka({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const use=new X,BD=new Ct,zD=new Ct;class dse extends Mn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new gg(n);i.rotateY(Math.PI*.5),this.material=new ka({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new kn(o,3)),this.add(new or(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");BD.copy(this.light.color),zD.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?BD:zD;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(use.setFromMatrixPosition(this.light.matrixWorld).negate())}}class fse extends Zo{constructor(e=10,n=10,r=4473924,i=8947848){r=new Ct(r),i=new Ct(i);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let p=0,m=0,v=-a;p<=n;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const x=p===s?r:i;x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3}const u=new rn;u.setAttribute("position",new Ot(l,3)),u.setAttribute("color",new Ot(c,3));const d=new Ci({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class hse extends Zo{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new Ct(s),o=new Ct(o);const a=[],l=[];if(n>1)for(let d=0;d<n;d++){const p=d/n*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const x=d&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let d=0;d<r;d++){const p=d&1?s:o,m=e-e/r*d;for(let v=0;v<i;v++){let x=v/i*(Math.PI*2),y=Math.sin(x)*m,g=Math.cos(x)*m;a.push(y,0,g),l.push(p.r,p.g,p.b),x=(v+1)/i*(Math.PI*2),y=Math.sin(x)*m,g=Math.cos(x)*m,a.push(y,0,g),l.push(p.r,p.g,p.b)}}const c=new rn;c.setAttribute("position",new Ot(a,3)),c.setAttribute("color",new Ot(l,3));const u=new Ci({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const VD=new X,Cv=new X,HD=new X;class pse extends Mn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new rn;i.setAttribute("position",new Ot([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Ci({fog:!1,toneMapped:!1});this.lightPlane=new Xl(i,s),this.add(this.lightPlane),i=new rn,i.setAttribute("position",new Ot([0,0,0,0,0,1],3)),this.targetLine=new Xl(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),VD.setFromMatrixPosition(this.light.matrixWorld),Cv.setFromMatrixPosition(this.light.target.matrixWorld),HD.subVectors(Cv,VD),this.lightPlane.lookAt(Cv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Cv),this.targetLine.scale.z=HD.length()}}const Av=new X,cr=new ug;class mse extends Zo{constructor(e){const n=new rn,r=new Ci({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,x){l(v),l(x)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}n.setAttribute("position",new Ot(i,3)),n.setAttribute("color",new Ot(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Ct(16755200),u=new Ct(16711680),d=new Ct(43775),p=new Ct(16777215),m=new Ct(3355443);this.setColors(c,u,d,p,m)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");return a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0,this}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;let s,o;if(cr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)s=1,o=0;else if(this.camera.coordinateSystem===is)s=-1,o=1;else if(this.camera.coordinateSystem===Of)s=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);mr("c",n,e,cr,0,0,s),mr("t",n,e,cr,0,0,o),mr("n1",n,e,cr,-r,-i,s),mr("n2",n,e,cr,r,-i,s),mr("n3",n,e,cr,-r,i,s),mr("n4",n,e,cr,r,i,s),mr("f1",n,e,cr,-r,-i,o),mr("f2",n,e,cr,r,-i,o),mr("f3",n,e,cr,-r,i,o),mr("f4",n,e,cr,r,i,o),mr("u1",n,e,cr,r*.7,i*1.1,s),mr("u2",n,e,cr,-r*.7,i*1.1,s),mr("u3",n,e,cr,0,i*2,s),mr("cf1",n,e,cr,-r,0,o),mr("cf2",n,e,cr,r,0,o),mr("cf3",n,e,cr,0,-i,o),mr("cf4",n,e,cr,0,i,o),mr("cn1",n,e,cr,-r,0,s),mr("cn2",n,e,cr,r,0,s),mr("cn3",n,e,cr,0,-i,s),mr("cn4",n,e,cr,0,i,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function mr(t,e,n,r,i,s,o){Av.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],Av.x,Av.y,Av.z)}}const Rv=new li;class gse extends Zo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new rn;s.setIndex(new kn(r,1)),s.setAttribute("position",new kn(i,3)),super(s,new Ci({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Rv.setFromObject(this.object),Rv.isEmpty())return;const e=Rv.min,n=Rv.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class vse extends Zo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new rn;s.setIndex(new kn(r,1)),s.setAttribute("position",new Ot(i,3)),super(s,new Ci({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class xse extends Xl{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new rn;o.setAttribute("position",new Ot(s,3)),o.computeBoundingSphere(),super(o,new Ci({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new rn;l.setAttribute("position",new Ot(a,3)),l.computeBoundingSphere(),this.add(new or(l,new ka({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const jD=new X;let Pv,ob;class yse extends Mn{constructor(e=new X(0,0,1),n=new X(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",Pv===void 0&&(Pv=new rn,Pv.setAttribute("position",new Ot([0,0,0,0,1,0],3)),ob=new pg(.5,1,5,1),ob.translate(0,-.5,0)),this.position.copy(n),this.line=new Xl(Pv,new Ci({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new or(ob,new ka({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{jD.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(jD,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class _se extends Zo{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new rn;i.setAttribute("position",new Ot(n,3)),i.setAttribute("color",new Ot(r,3));const s=new Ci({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new Ct,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class wse{constructor(){this.type="ShapePath",this.color=new Ct,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Gy,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const _=[];for(let S=0,M=g.length;S<M;S++){const A=g[S],R=new fu;R.curves=A.curves,_.push(R)}return _}function r(g,_){const S=_.length;let M=!1;for(let A=S-1,R=0;R<S;A=R++){let C=_[A],D=_[R],N=D.x-C.x,I=D.y-C.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(C=_[R],N=-N,D=_[A],I=-I),g.y<C.y||g.y>D.y)continue;if(g.y===C.y){if(g.x===C.x)return!0}else{const F=I*(g.x-C.x)-N*(g.y-C.y);if(F===0)return!0;if(F<0)continue;M=!M}}else{if(g.y!==C.y)continue;if(D.x<=g.x&&g.x<=C.x||C.x<=g.x&&g.x<=D.x)return!0}}return M}const i=oo.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new fu,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const d=[],p=[];let m=[],v=0,x;p[v]=void 0,m[v]=[];for(let g=0,_=s.length;g<_;g++)a=s[g],x=a.getPoints(),o=i(x),o=e?!o:o,o?(!u&&p[v]&&v++,p[v]={s:new fu,p:x},p[v].s.curves=a.curves,u&&v++,m[v]=[]):m[v].push({h:a,p:x[0]});if(!p[0])return n(s);if(p.length>1){let g=!1,_=0;for(let S=0,M=p.length;S<M;S++)d[S]=[];for(let S=0,M=p.length;S<M;S++){const A=m[S];for(let R=0;R<A.length;R++){const C=A[R];let D=!0;for(let N=0;N<p.length;N++)r(C.p,p[N].p)&&(S!==N&&_++,D?(D=!1,d[N].push(C)):g=!0);D&&d[S].push(C)}}_>0&&g===!1&&(m=d)}let y;for(let g=0,_=p.length;g<_;g++){l=p[g].s,c.push(l),y=m[g];for(let S=0,M=y.length;S<M;S++)l.holes.push(y[S].h)}return c}}class Sse extends Ko{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){yt("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function bse(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function Mse(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function Ese(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function BE(t,e,n,r){const i=Tse(r);switch(n){case aA:return t*e;case lg:return t*e/i.components*i.byteLength;case cg:return t*e/i.components*i.byteLength;case O_:return t*e*2/i.components*i.byteLength;case F_:return t*e*2/i.components*i.byteLength;case lA:return t*e*3/i.components*i.byteLength;case vr:return t*e*4/i.components*i.byteLength;case k_:return t*e*4/i.components*i.byteLength;case Np:case Dp:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Lp:case Op:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case hy:case my:return Math.max(t,16)*Math.max(e,8)/4;case fy:case py:return Math.max(t,8)*Math.max(e,8)/2;case gy:case vy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case xy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case yy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case _y:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case wy:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Sy:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case by:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case My:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case Ey:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case Ty:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case Cy:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case Ay:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Ry:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case Py:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case Iy:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case Ny:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Dy:case Ly:case Oy:return Math.ceil(t/4)*Math.ceil(e/4)*16;case Fy:case ky:return Math.ceil(t/4)*Math.ceil(e/4)*8;case Uy:case By:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function Tse(t){switch(t){case bi:case I_:return{byteLength:1,components:1};case If:case N_:case Ir:return{byteLength:2,components:1};case D_:case L_:return{byteLength:2,components:4};case $o:case ag:case nr:return{byteLength:4,components:1};case sA:case oA:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class Cse{static contain(e,n){return bse(e,n)}static cover(e,n){return Mse(e,n)}static fill(e){return Ese(e)}static getByteLength(e,n,r,i){return BE(e,n,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:sg}}));typeof window<"u"&&(window.__THREE__?yt("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=sg);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function Kz(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function Ase(t){const e=new WeakMap;function n(a,l){const c=a.array,u=a.usage,d=c.byteLength,p=t.createBuffer();t.bindBuffer(l,p),t.bufferData(l,c,u),a.onUploadCallback();let m;if(c instanceof Float32Array)m=t.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)m=t.HALF_FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?m=t.HALF_FLOAT:m=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)m=t.SHORT;else if(c instanceof Uint32Array)m=t.UNSIGNED_INT;else if(c instanceof Int32Array)m=t.INT;else if(c instanceof Int8Array)m=t.BYTE;else if(c instanceof Uint8Array)m=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)m=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:p,type:m,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:d}}function r(a,l,c){const u=l.array,d=l.updateRanges;if(t.bindBuffer(c,a),d.length===0)t.bufferSubData(c,0,u);else{d.sort((m,v)=>m.start-v.start);let p=0;for(let m=1;m<d.length;m++){const v=d[p],x=d[m];x.start<=v.start+v.count+1?v.count=Math.max(v.count,x.start+x.count-v.start):(++p,d[p]=x)}d.length=p+1;for(let m=0,v=d.length;m<v;m++){const x=d[m];t.bufferSubData(c,x.start*u.BYTES_PER_ELEMENT,u,x.start,x.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=e.get(a);(!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,a,l),c.version=a.version}}return{get:i,remove:s,update:o}}var Rse=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Pse=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Ise=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Nse=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Dse=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Lse=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Ose=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Fse=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,kse=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Use=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Bse=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,zse=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Vse=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Hse=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,jse=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Gse=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Wse=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Xse=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,$se=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Yse=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,qse=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Kse=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Zse=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Qse=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Jse=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,eoe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,toe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,noe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,roe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,ioe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,soe="gl_FragColor = linearToOutputTexel( gl_FragColor );",ooe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,aoe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,loe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,coe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,uoe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,doe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,foe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,hoe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,poe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,moe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,goe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,voe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,xoe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,yoe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,_oe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,woe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Soe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,boe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Moe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Eoe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Toe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Coe=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Aoe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Roe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Poe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Ioe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Noe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Doe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Loe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Ooe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Foe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,koe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Uoe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Boe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,zoe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Voe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Hoe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,joe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Goe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Woe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Xoe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,$oe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Yoe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,qoe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Koe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Zoe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Qoe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Joe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,eae=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,tae=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,nae=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,rae=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,iae=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,sae=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,oae=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,aae=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,lae=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,cae=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,uae=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,dae=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,fae=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,hae=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,pae=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,mae=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,gae=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,vae=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,xae=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,yae=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,_ae=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,wae=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Sae=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,bae=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Mae=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Eae=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Tae=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Cae=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Aae=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Rae=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Pae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Iae=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Nae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Dae=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Lae=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Oae=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Fae=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,kae=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Uae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Bae=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,zae=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Vae=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Hae=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,jae=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Gae=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Wae=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Xae=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,$ae=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Yae=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,qae=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Kae=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Zae=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Qae=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Jae=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ele=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tle=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nle=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,rle=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ile=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sle=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ole=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ale=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ln={alphahash_fragment:Rse,alphahash_pars_fragment:Pse,alphamap_fragment:Ise,alphamap_pars_fragment:Nse,alphatest_fragment:Dse,alphatest_pars_fragment:Lse,aomap_fragment:Ose,aomap_pars_fragment:Fse,batching_pars_vertex:kse,batching_vertex:Use,begin_vertex:Bse,beginnormal_vertex:zse,bsdfs:Vse,iridescence_fragment:Hse,bumpmap_pars_fragment:jse,clipping_planes_fragment:Gse,clipping_planes_pars_fragment:Wse,clipping_planes_pars_vertex:Xse,clipping_planes_vertex:$se,color_fragment:Yse,color_pars_fragment:qse,color_pars_vertex:Kse,color_vertex:Zse,common:Qse,cube_uv_reflection_fragment:Jse,defaultnormal_vertex:eoe,displacementmap_pars_vertex:toe,displacementmap_vertex:noe,emissivemap_fragment:roe,emissivemap_pars_fragment:ioe,colorspace_fragment:soe,colorspace_pars_fragment:ooe,envmap_fragment:aoe,envmap_common_pars_fragment:loe,envmap_pars_fragment:coe,envmap_pars_vertex:uoe,envmap_physical_pars_fragment:woe,envmap_vertex:doe,fog_vertex:foe,fog_pars_vertex:hoe,fog_fragment:poe,fog_pars_fragment:moe,gradientmap_pars_fragment:goe,lightmap_pars_fragment:voe,lights_lambert_fragment:xoe,lights_lambert_pars_fragment:yoe,lights_pars_begin:_oe,lights_toon_fragment:Soe,lights_toon_pars_fragment:boe,lights_phong_fragment:Moe,lights_phong_pars_fragment:Eoe,lights_physical_fragment:Toe,lights_physical_pars_fragment:Coe,lights_fragment_begin:Aoe,lights_fragment_maps:Roe,lights_fragment_end:Poe,logdepthbuf_fragment:Ioe,logdepthbuf_pars_fragment:Noe,logdepthbuf_pars_vertex:Doe,logdepthbuf_vertex:Loe,map_fragment:Ooe,map_pars_fragment:Foe,map_particle_fragment:koe,map_particle_pars_fragment:Uoe,metalnessmap_fragment:Boe,metalnessmap_pars_fragment:zoe,morphinstance_vertex:Voe,morphcolor_vertex:Hoe,morphnormal_vertex:joe,morphtarget_pars_vertex:Goe,morphtarget_vertex:Woe,normal_fragment_begin:Xoe,normal_fragment_maps:$oe,normal_pars_fragment:Yoe,normal_pars_vertex:qoe,normal_vertex:Koe,normalmap_pars_fragment:Zoe,clearcoat_normal_fragment_begin:Qoe,clearcoat_normal_fragment_maps:Joe,clearcoat_pars_fragment:eae,iridescence_pars_fragment:tae,opaque_fragment:nae,packing:rae,premultiplied_alpha_fragment:iae,project_vertex:sae,dithering_fragment:oae,dithering_pars_fragment:aae,roughnessmap_fragment:lae,roughnessmap_pars_fragment:cae,shadowmap_pars_fragment:uae,shadowmap_pars_vertex:dae,shadowmap_vertex:fae,shadowmask_pars_fragment:hae,skinbase_vertex:pae,skinning_pars_vertex:mae,skinning_vertex:gae,skinnormal_vertex:vae,specularmap_fragment:xae,specularmap_pars_fragment:yae,tonemapping_fragment:_ae,tonemapping_pars_fragment:wae,transmission_fragment:Sae,transmission_pars_fragment:bae,uv_pars_fragment:Mae,uv_pars_vertex:Eae,uv_vertex:Tae,worldpos_vertex:Cae,background_vert:Aae,background_frag:Rae,backgroundCube_vert:Pae,backgroundCube_frag:Iae,cube_vert:Nae,cube_frag:Dae,depth_vert:Lae,depth_frag:Oae,distanceRGBA_vert:Fae,distanceRGBA_frag:kae,equirect_vert:Uae,equirect_frag:Bae,linedashed_vert:zae,linedashed_frag:Vae,meshbasic_vert:Hae,meshbasic_frag:jae,meshlambert_vert:Gae,meshlambert_frag:Wae,meshmatcap_vert:Xae,meshmatcap_frag:$ae,meshnormal_vert:Yae,meshnormal_frag:qae,meshphong_vert:Kae,meshphong_frag:Zae,meshphysical_vert:Qae,meshphysical_frag:Jae,meshtoon_vert:ele,meshtoon_frag:tle,points_vert:nle,points_frag:rle,shadow_vert:ile,shadow_frag:sle,sprite_vert:ole,sprite_frag:ale},xt={common:{diffuse:{value:new Ct(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new nn},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new nn}},envmap:{envMap:{value:null},envMapRotation:{value:new nn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new nn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new nn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new nn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new nn},normalScale:{value:new Xe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new nn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new nn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new nn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new nn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ct(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ct(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0},uvTransform:{value:new nn}},sprite:{diffuse:{value:new Ct(16777215)},opacity:{value:1},center:{value:new Xe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new nn},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0}}},io={basic:{uniforms:hi([xt.common,xt.specularmap,xt.envmap,xt.aomap,xt.lightmap,xt.fog]),vertexShader:ln.meshbasic_vert,fragmentShader:ln.meshbasic_frag},lambert:{uniforms:hi([xt.common,xt.specularmap,xt.envmap,xt.aomap,xt.lightmap,xt.emissivemap,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.fog,xt.lights,{emissive:{value:new Ct(0)}}]),vertexShader:ln.meshlambert_vert,fragmentShader:ln.meshlambert_frag},phong:{uniforms:hi([xt.common,xt.specularmap,xt.envmap,xt.aomap,xt.lightmap,xt.emissivemap,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.fog,xt.lights,{emissive:{value:new Ct(0)},specular:{value:new Ct(1118481)},shininess:{value:30}}]),vertexShader:ln.meshphong_vert,fragmentShader:ln.meshphong_frag},standard:{uniforms:hi([xt.common,xt.envmap,xt.aomap,xt.lightmap,xt.emissivemap,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.roughnessmap,xt.metalnessmap,xt.fog,xt.lights,{emissive:{value:new Ct(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ln.meshphysical_vert,fragmentShader:ln.meshphysical_frag},toon:{uniforms:hi([xt.common,xt.aomap,xt.lightmap,xt.emissivemap,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.gradientmap,xt.fog,xt.lights,{emissive:{value:new Ct(0)}}]),vertexShader:ln.meshtoon_vert,fragmentShader:ln.meshtoon_frag},matcap:{uniforms:hi([xt.common,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.fog,{matcap:{value:null}}]),vertexShader:ln.meshmatcap_vert,fragmentShader:ln.meshmatcap_frag},points:{uniforms:hi([xt.points,xt.fog]),vertexShader:ln.points_vert,fragmentShader:ln.points_frag},dashed:{uniforms:hi([xt.common,xt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ln.linedashed_vert,fragmentShader:ln.linedashed_frag},depth:{uniforms:hi([xt.common,xt.displacementmap]),vertexShader:ln.depth_vert,fragmentShader:ln.depth_frag},normal:{uniforms:hi([xt.common,xt.bumpmap,xt.normalmap,xt.displacementmap,{opacity:{value:1}}]),vertexShader:ln.meshnormal_vert,fragmentShader:ln.meshnormal_frag},sprite:{uniforms:hi([xt.sprite,xt.fog]),vertexShader:ln.sprite_vert,fragmentShader:ln.sprite_frag},background:{uniforms:{uvTransform:{value:new nn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ln.background_vert,fragmentShader:ln.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new nn}},vertexShader:ln.backgroundCube_vert,fragmentShader:ln.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ln.cube_vert,fragmentShader:ln.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ln.equirect_vert,fragmentShader:ln.equirect_frag},distanceRGBA:{uniforms:hi([xt.common,xt.displacementmap,{referencePosition:{value:new X},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ln.distanceRGBA_vert,fragmentShader:ln.distanceRGBA_frag},shadow:{uniforms:hi([xt.lights,xt.fog,{color:{value:new Ct(0)},opacity:{value:1}}]),vertexShader:ln.shadow_vert,fragmentShader:ln.shadow_frag}};io.physical={uniforms:hi([io.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new nn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new nn},clearcoatNormalScale:{value:new Xe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new nn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new nn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new nn},sheen:{value:0},sheenColor:{value:new Ct(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new nn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new nn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new nn},transmissionSamplerSize:{value:new Xe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new nn},attenuationDistance:{value:0},attenuationColor:{value:new Ct(0)},specularColor:{value:new Ct(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new nn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new nn},anisotropyVector:{value:new Xe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new nn}}]),vertexShader:ln.meshphysical_vert,fragmentShader:ln.meshphysical_frag};const Iv={r:0,b:0,g:0},Ac=new ds,lle=new Gt;function cle(t,e,n,r,i,s,o){const a=new Ct(0);let l=s===!0?0:1,c,u,d=null,p=0,m=null;function v(S){let M=S.isScene===!0?S.background:null;return M&&M.isTexture&&(M=(S.backgroundBlurriness>0?n:e).get(M)),M}function x(S){let M=!1;const A=v(S);A===null?g(a,l):A&&A.isColor&&(g(A,1),M=!0);const R=t.xr.getEnvironmentBlendMode();R==="additive"?r.buffers.color.setClear(0,0,0,1,o):R==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||M)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function y(S,M){const A=v(M);A&&(A.isCubeTexture||A.mapping===th)?(u===void 0&&(u=new or(new Lu(1,1,1),new Mi({name:"BackgroundCubeMaterial",uniforms:Uf(io.backgroundCube.uniforms),vertexShader:io.backgroundCube.vertexShader,fragmentShader:io.backgroundCube.fragmentShader,side:wi,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(R,C,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),Ac.copy(M.backgroundRotation),Ac.x*=-1,Ac.y*=-1,Ac.z*=-1,A.isCubeTexture&&A.isRenderTargetTexture===!1&&(Ac.y*=-1,Ac.z*=-1),u.material.uniforms.envMap.value=A,u.material.uniforms.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(lle.makeRotationFromEuler(Ac)),u.material.toneMapped=vn.getTransfer(A.colorSpace)!==Dn,(d!==A||p!==A.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,d=A,p=A.version,m=t.toneMapping),u.layers.enableAll(),S.unshift(u,u.geometry,u.material,0,0,null)):A&&A.isTexture&&(c===void 0&&(c=new or(new ic(2,2),new Mi({name:"BackgroundMaterial",uniforms:Uf(io.background.uniforms),vertexShader:io.background.vertexShader,fragmentShader:io.background.fragmentShader,side:La,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=A,c.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,c.material.toneMapped=vn.getTransfer(A.colorSpace)!==Dn,A.matrixAutoUpdate===!0&&A.updateMatrix(),c.material.uniforms.uvTransform.value.copy(A.matrix),(d!==A||p!==A.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,d=A,p=A.version,m=t.toneMapping),c.layers.enableAll(),S.unshift(c,c.geometry,c.material,0,0,null))}function g(S,M){S.getRGB(Iv,Y5(t)),r.buffers.color.setClear(Iv.r,Iv.g,Iv.b,M,o)}function _(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return a},setClearColor:function(S,M=1){a.set(S),l=M,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(S){l=S,g(a,l)},render:x,addToRenderList:y,dispose:_}}function ule(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=p(null);let s=i,o=!1;function a(I,F,V,Y,G){let ee=!1;const Q=d(Y,V,F);s!==Q&&(s=Q,c(s.object)),ee=m(I,Y,V,G),ee&&v(I,Y,V,G),G!==null&&e.update(G,t.ELEMENT_ARRAY_BUFFER),(ee||o)&&(o=!1,M(I,F,V,Y),G!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(G).buffer))}function l(){return t.createVertexArray()}function c(I){return t.bindVertexArray(I)}function u(I){return t.deleteVertexArray(I)}function d(I,F,V){const Y=V.wireframe===!0;let G=r[I.id];G===void 0&&(G={},r[I.id]=G);let ee=G[F.id];ee===void 0&&(ee={},G[F.id]=ee);let Q=ee[Y];return Q===void 0&&(Q=p(l()),ee[Y]=Q),Q}function p(I){const F=[],V=[],Y=[];for(let G=0;G<n;G++)F[G]=0,V[G]=0,Y[G]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:F,enabledAttributes:V,attributeDivisors:Y,object:I,attributes:{},index:null}}function m(I,F,V,Y){const G=s.attributes,ee=F.attributes;let Q=0;const ie=V.getAttributes();for(const z in ie)if(ie[z].location>=0){const $=G[z];let oe=ee[z];if(oe===void 0&&(z==="instanceMatrix"&&I.instanceMatrix&&(oe=I.instanceMatrix),z==="instanceColor"&&I.instanceColor&&(oe=I.instanceColor)),$===void 0||$.attribute!==oe||oe&&$.data!==oe.data)return!0;Q++}return s.attributesNum!==Q||s.index!==Y}function v(I,F,V,Y){const G={},ee=F.attributes;let Q=0;const ie=V.getAttributes();for(const z in ie)if(ie[z].location>=0){let $=ee[z];$===void 0&&(z==="instanceMatrix"&&I.instanceMatrix&&($=I.instanceMatrix),z==="instanceColor"&&I.instanceColor&&($=I.instanceColor));const oe={};oe.attribute=$,$&&$.data&&(oe.data=$.data),G[z]=oe,Q++}s.attributes=G,s.attributesNum=Q,s.index=Y}function x(){const I=s.newAttributes;for(let F=0,V=I.length;F<V;F++)I[F]=0}function y(I){g(I,0)}function g(I,F){const V=s.newAttributes,Y=s.enabledAttributes,G=s.attributeDivisors;V[I]=1,Y[I]===0&&(t.enableVertexAttribArray(I),Y[I]=1),G[I]!==F&&(t.vertexAttribDivisor(I,F),G[I]=F)}function _(){const I=s.newAttributes,F=s.enabledAttributes;for(let V=0,Y=F.length;V<Y;V++)F[V]!==I[V]&&(t.disableVertexAttribArray(V),F[V]=0)}function S(I,F,V,Y,G,ee,Q){Q===!0?t.vertexAttribIPointer(I,F,V,G,ee):t.vertexAttribPointer(I,F,V,Y,G,ee)}function M(I,F,V,Y){x();const G=Y.attributes,ee=V.getAttributes(),Q=F.defaultAttributeValues;for(const ie in ee){const z=ee[ie];if(z.location>=0){let H=G[ie];if(H===void 0&&(ie==="instanceMatrix"&&I.instanceMatrix&&(H=I.instanceMatrix),ie==="instanceColor"&&I.instanceColor&&(H=I.instanceColor)),H!==void 0){const $=H.normalized,oe=H.itemSize,pe=e.get(H);if(pe===void 0)continue;const Me=pe.buffer,Ue=pe.type,at=pe.bytesPerElement,ae=Ue===t.INT||Ue===t.UNSIGNED_INT||H.gpuType===ag;if(H.isInterleavedBufferAttribute){const fe=H.data,je=fe.stride,ct=H.offset;if(fe.isInstancedInterleavedBuffer){for(let st=0;st<z.locationSize;st++)g(z.location+st,fe.meshPerAttribute);I.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=fe.meshPerAttribute*fe.count)}else for(let st=0;st<z.locationSize;st++)y(z.location+st);t.bindBuffer(t.ARRAY_BUFFER,Me);for(let st=0;st<z.locationSize;st++)S(z.location+st,oe/z.locationSize,Ue,$,je*at,(ct+oe/z.locationSize*st)*at,ae)}else{if(H.isInstancedBufferAttribute){for(let fe=0;fe<z.locationSize;fe++)g(z.location+fe,H.meshPerAttribute);I.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=H.meshPerAttribute*H.count)}else for(let fe=0;fe<z.locationSize;fe++)y(z.location+fe);t.bindBuffer(t.ARRAY_BUFFER,Me);for(let fe=0;fe<z.locationSize;fe++)S(z.location+fe,oe/z.locationSize,Ue,$,oe*at,oe/z.locationSize*fe*at,ae)}}else if(Q!==void 0){const $=Q[ie];if($!==void 0)switch($.length){case 2:t.vertexAttrib2fv(z.location,$);break;case 3:t.vertexAttrib3fv(z.location,$);break;case 4:t.vertexAttrib4fv(z.location,$);break;default:t.vertexAttrib1fv(z.location,$)}}}}_()}function A(){D();for(const I in r){const F=r[I];for(const V in F){const Y=F[V];for(const G in Y)u(Y[G].object),delete Y[G];delete F[V]}delete r[I]}}function R(I){if(r[I.id]===void 0)return;const F=r[I.id];for(const V in F){const Y=F[V];for(const G in Y)u(Y[G].object),delete Y[G];delete F[V]}delete r[I.id]}function C(I){for(const F in r){const V=r[F];if(V[I.id]===void 0)continue;const Y=V[I.id];for(const G in Y)u(Y[G].object),delete Y[G];delete V[I.id]}}function D(){N(),o=!0,s!==i&&(s=i,c(s.object))}function N(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:D,resetDefaultState:N,dispose:A,releaseStatesOfGeometry:R,releaseStatesOfProgram:C,initAttributes:x,enableAttribute:y,disableUnusedAttributes:_}}function dle(t,e,n){let r;function i(c){r=c}function s(c,u){t.drawArrays(r,c,u),n.update(u,r,1)}function o(c,u,d){d!==0&&(t.drawArraysInstanced(r,c,u,d),n.update(u,r,d))}function a(c,u,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,d);let m=0;for(let v=0;v<d;v++)m+=u[v];n.update(m,r,1)}function l(c,u,d,p){if(d===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<c.length;v++)o(c[v],u[v],p[v]);else{m.multiDrawArraysInstancedWEBGL(r,c,0,u,0,p,0,d);let v=0;for(let x=0;x<d;x++)v+=u[x]*p[x];n.update(v,r,1)}}this.setMode=i,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function fle(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const C=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(C){return!(C!==vr&&r.convert(C)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(C){const D=C===Ir&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(C!==bi&&r.convert(C)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&C!==nr&&!D)}function l(C){if(C==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";C="mediump"}return C==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(yt("WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=n.logarithmicDepthBuffer===!0,p=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),m=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),g=t.getParameter(t.MAX_VERTEX_ATTRIBS),_=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),S=t.getParameter(t.MAX_VARYING_VECTORS),M=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),A=v>0,R=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:d,reversedDepthBuffer:p,maxTextures:m,maxVertexTextures:v,maxTextureSize:x,maxCubemapSize:y,maxAttributes:g,maxVertexUniforms:_,maxVaryings:S,maxFragmentUniforms:M,vertexTextures:A,maxSamples:R}}function hle(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new cl,a=new nn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const m=d.length!==0||p||r!==0||i;return i=p,r=d.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){n=u(d,p,0)},this.setState=function(d,p,m){const v=d.clippingPlanes,x=d.clipIntersection,y=d.clipShadows,g=t.get(d);if(!i||v===null||v.length===0||s&&!y)s?u(null):c();else{const _=s?0:r,S=_*4;let M=g.clippingState||null;l.value=M,M=u(v,p,S,m);for(let A=0;A!==S;++A)M[A]=n[A];g.clippingState=M,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,p,m,v){const x=d!==null?d.length:0;let y=null;if(x!==0){if(y=l.value,v!==!0||y===null){const g=m+x*4,_=p.matrixWorldInverse;a.getNormalMatrix(_),(y===null||y.length<g)&&(y=new Float32Array(g));for(let S=0,M=m;S!==x;++S,M+=4)o.copy(d[S]).applyMatrix4(_,a),o.normal.toArray(y,M),y[M+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,y}}function ple(t){let e=new WeakMap;function n(o,a){return a===Pf?o.mapping=Xo:a===gm&&(o.mapping=Gl),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===Pf||a===gm)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new mA(l.height);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const Tl=4,GD=[.125,.215,.35,.446,.526,.582],Fc=20,mle=256,Zh=new ih,WD=new Ct;let ab=null,lb=0,cb=0,ub=!1;const gle=new X;class zE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,r=.1,i=100,s={}){const{size:o=256,position:a=gle}=s;ab=this._renderer.getRenderTarget(),lb=this._renderer.getActiveCubeFace(),cb=this._renderer.getActiveMipmapLevel(),ub=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,a),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=YD(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=$D(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(ab,lb,cb),this._renderer.xr.enabled=ub,e.scissorTest=!1,_d(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Xo||e.mapping===Gl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),ab=this._renderer.getRenderTarget(),lb=this._renderer.getActiveCubeFace(),cb=this._renderer.getActiveMipmapLevel(),ub=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:An,minFilter:An,generateMipmaps:!1,type:Ir,format:vr,colorSpace:Yo,depthBuffer:!1},i=XD(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=XD(e,n,r);const{_lodMax:s}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=vle(s)),this._blurMaterial=yle(s,e,n),this._ggxMaterial=xle(s,e,n)}return i}_compileMaterial(e){const n=new or(new rn,e);this._renderer.compile(n,Zh)}_sceneToCubeUV(e,n,r,i,s){const l=new zr(90,1,n,r),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],d=this._renderer,p=d.autoClear,m=d.toneMapping;d.getClearColor(WD),d.toneMapping=Go,d.autoClear=!1,d.state.buffers.depth.getReversed()&&(d.setRenderTarget(i),d.clearDepth(),d.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new or(new Lu,new ka({name:"PMREM.Background",side:wi,depthWrite:!1,depthTest:!1})));const x=this._backgroundBox,y=x.material;let g=!1;const _=e.background;_?_.isColor&&(y.color.copy(_),e.background=null,g=!0):(y.color.copy(WD),g=!0);for(let S=0;S<6;S++){const M=S%3;M===0?(l.up.set(0,c[S],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+u[S],s.y,s.z)):M===1?(l.up.set(0,0,c[S]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+u[S],s.z)):(l.up.set(0,c[S],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+u[S]));const A=this._cubeSize;_d(i,M*A,S>2?A:0,A,A),d.setRenderTarget(i),g&&d.render(x,l),d.render(e,l)}d.toneMapping=m,d.autoClear=p,e.background=_}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Xo||e.mapping===Gl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=YD()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=$D());const s=i?this._cubemapMaterial:this._equirectMaterial,o=this._lodMeshes[0];o.material=s;const a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;_d(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,Zh)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodMeshes.length;for(let s=1;s<i;s++)this._applyGGXFilter(e,s-1,s);n.autoClear=r}_applyGGXFilter(e,n,r){const i=this._renderer,s=this._pingPongRenderTarget,o=this._ggxMaterial,a=this._lodMeshes[r];a.material=o;const l=o.uniforms,c=r/(this._lodMeshes.length-1),u=n/(this._lodMeshes.length-1),d=Math.sqrt(c*c-u*u),p=.05+c*.95,m=d*p,{_lodMax:v}=this,x=this._sizeLods[r],y=3*x*(r>v-Tl?r-v+Tl:0),g=4*(this._cubeSize-x);l.envMap.value=e.texture,l.roughness.value=m,l.mipInt.value=v-n,_d(s,y,g,3*x,2*x),i.setRenderTarget(s),i.render(a,Zh),l.envMap.value=s.texture,l.roughness.value=0,l.mipInt.value=v-r,_d(e,y,g,3*x,2*x),i.setRenderTarget(e),i.render(a,Zh)}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&Zt("blur direction must be either latitudinal or longitudinal!");const u=3,d=this._lodMeshes[i];d.material=c;const p=c.uniforms,m=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Fc-1),x=s/v,y=isFinite(s)?1+Math.floor(u*x):Fc;y>Fc&&yt(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Fc}`);const g=[];let _=0;for(let C=0;C<Fc;++C){const D=C/x,N=Math.exp(-D*D/2);g.push(N),C===0?_+=N:C<y&&(_+=2*N)}for(let C=0;C<g.length;C++)g[C]=g[C]/_;p.envMap.value=e.texture,p.samples.value=y,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=v,p.mipInt.value=S-r;const M=this._sizeLods[i],A=3*M*(i>S-Tl?i-S+Tl:0),R=4*(this._cubeSize-M);_d(n,A,R,3*M,2*M),l.setRenderTarget(n),l.render(d,Zh)}}function vle(t){const e=[],n=[],r=[];let i=t;const s=t-Tl+1+GD.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);e.push(a);let l=1/a;o>t-Tl?l=GD[o-t+Tl-1]:o===0&&(l=0),n.push(l);const c=1/(a-2),u=-c,d=1+c,p=[u,u,d,u,d,d,u,u,d,d,u,d],m=6,v=6,x=3,y=2,g=1,_=new Float32Array(x*v*m),S=new Float32Array(y*v*m),M=new Float32Array(g*v*m);for(let R=0;R<m;R++){const C=R%3*2/3-1,D=R>2?0:-1,N=[C,D,0,C+2/3,D,0,C+2/3,D+1,0,C,D,0,C+2/3,D+1,0,C,D+1,0];_.set(N,x*v*R),S.set(p,y*v*R);const I=[R,R,R,R,R,R];M.set(I,g*v*R)}const A=new rn;A.setAttribute("position",new kn(_,x)),A.setAttribute("uv",new kn(S,y)),A.setAttribute("faceIndex",new kn(M,g)),r.push(new or(A,null)),i>Tl&&i--}return{lodMeshes:r,sizeLods:e,sigmas:n}}function XD(t,e,n){const r=new Us(t,e,n);return r.texture.mapping=th,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function _d(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function xle(t,e,n){return new Mi({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:mle,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:o1(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:co,depthTest:!1,depthWrite:!1})}function yle(t,e,n){const r=new Float32Array(Fc),i=new X(0,1,0);return new Mi({name:"SphericalGaussianBlur",defines:{n:Fc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:o1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:co,depthTest:!1,depthWrite:!1})}function $D(){return new Mi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:o1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:co,depthTest:!1,depthWrite:!1})}function YD(){return new Mi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:o1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:co,depthTest:!1,depthWrite:!1})}function o1(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function _le(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===Pf||l===gm,u=l===Xo||l===Gl;if(c||u){let d=e.get(a);const p=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==p)return n===null&&(n=new zE(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const m=a.image;return c&&m&&m.height>0||u&&m&&i(m)?(n===null&&(n=new zE(t)),d=c?n.fromEquirectangular(a):n.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",s),d.texture):null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function wle(t){const e={};function n(r){if(e[r]!==void 0)return e[r];const i=t.getExtension(r);return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&Ff("WebGLRenderer: "+r+" extension not supported."),i}}}function Sle(t,e,n,r){const i={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(d,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,n.memory.geometries++),p}function l(d){const p=d.attributes;for(const m in p)e.update(p[m],t.ARRAY_BUFFER)}function c(d){const p=[],m=d.index,v=d.attributes.position;let x=0;if(m!==null){const _=m.array;x=m.version;for(let S=0,M=_.length;S<M;S+=3){const A=_[S+0],R=_[S+1],C=_[S+2];p.push(A,R,R,C,C,A)}}else if(v!==void 0){const _=v.array;x=v.version;for(let S=0,M=_.length/3-1;S<M;S+=3){const A=S+0,R=S+1,C=S+2;p.push(A,R,R,C,C,A)}}else return;const y=new(j5(p)?pA:hA)(p,1);y.version=x;const g=s.get(d);g&&e.remove(g),s.set(d,y)}function u(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function ble(t,e,n){let r;function i(p){r=p}let s,o;function a(p){s=p.type,o=p.bytesPerElement}function l(p,m){t.drawElements(r,m,s,p*o),n.update(m,r,1)}function c(p,m,v){v!==0&&(t.drawElementsInstanced(r,m,s,p*o,v),n.update(m,r,v))}function u(p,m,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,m,0,s,p,0,v);let y=0;for(let g=0;g<v;g++)y+=m[g];n.update(y,r,1)}function d(p,m,v,x){if(v===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let g=0;g<p.length;g++)c(p[g]/o,m[g],x[g]);else{y.multiDrawElementsInstancedWEBGL(r,m,0,s,p,0,x,0,v);let g=0;for(let _=0;_<v;_++)g+=m[_]*x[_];n.update(g,r,1)}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function Mle(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:Zt("WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Ele(t,e,n){const r=new WeakMap,i=new Sn;function s(o,a,l){const c=o.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=u!==void 0?u.length:0;let p=r.get(a);if(p===void 0||p.count!==d){let I=function(){D.dispose(),r.delete(a),a.removeEventListener("dispose",I)};var m=I;p!==void 0&&p.texture.dispose();const v=a.morphAttributes.position!==void 0,x=a.morphAttributes.normal!==void 0,y=a.morphAttributes.color!==void 0,g=a.morphAttributes.position||[],_=a.morphAttributes.normal||[],S=a.morphAttributes.color||[];let M=0;v===!0&&(M=1),x===!0&&(M=2),y===!0&&(M=3);let A=a.attributes.position.count*M,R=1;A>e.maxTextureSize&&(R=Math.ceil(A/e.maxTextureSize),A=e.maxTextureSize);const C=new Float32Array(A*R*4*d),D=new B_(C,A,R,d);D.type=nr,D.needsUpdate=!0;const N=M*4;for(let F=0;F<d;F++){const V=g[F],Y=_[F],G=S[F],ee=A*R*4*F;for(let Q=0;Q<V.count;Q++){const ie=Q*N;v===!0&&(i.fromBufferAttribute(V,Q),C[ee+ie+0]=i.x,C[ee+ie+1]=i.y,C[ee+ie+2]=i.z,C[ee+ie+3]=0),x===!0&&(i.fromBufferAttribute(Y,Q),C[ee+ie+4]=i.x,C[ee+ie+5]=i.y,C[ee+ie+6]=i.z,C[ee+ie+7]=0),y===!0&&(i.fromBufferAttribute(G,Q),C[ee+ie+8]=i.x,C[ee+ie+9]=i.y,C[ee+ie+10]=i.z,C[ee+ie+11]=G.itemSize===4?i.w:1)}}p={count:d,texture:D,size:new Xe(A,R)},r.set(a,p),a.addEventListener("dispose",I)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let v=0;for(let y=0;y<c.length;y++)v+=c[y];const x=a.morphTargetsRelative?1:1-v;l.getUniforms().setValue(t,"morphTargetBaseInfluence",x),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",p.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",p.size)}return{update:s}}function Tle(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==c&&(p.update(),i.set(p,c))}return d}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}const Zz=new Fn,qD=new yA(1,1),Qz=new B_,Jz=new z_,eV=new dg,KD=[],ZD=[],QD=new Float32Array(16),JD=new Float32Array(9),eL=new Float32Array(4);function sh(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=KD[i];if(s===void 0&&(s=new Float32Array(i),KD[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function Nr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Dr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function a1(t,e){let n=ZD[e];n===void 0&&(n=new Int32Array(e),ZD[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Cle(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Ale(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Nr(n,e))return;t.uniform2fv(this.addr,e),Dr(n,e)}}function Rle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Nr(n,e))return;t.uniform3fv(this.addr,e),Dr(n,e)}}function Ple(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Nr(n,e))return;t.uniform4fv(this.addr,e),Dr(n,e)}}function Ile(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Nr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Dr(n,e)}else{if(Nr(n,r))return;eL.set(r),t.uniformMatrix2fv(this.addr,!1,eL),Dr(n,r)}}function Nle(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Nr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Dr(n,e)}else{if(Nr(n,r))return;JD.set(r),t.uniformMatrix3fv(this.addr,!1,JD),Dr(n,r)}}function Dle(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Nr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Dr(n,e)}else{if(Nr(n,r))return;QD.set(r),t.uniformMatrix4fv(this.addr,!1,QD),Dr(n,r)}}function Lle(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Ole(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Nr(n,e))return;t.uniform2iv(this.addr,e),Dr(n,e)}}function Fle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Nr(n,e))return;t.uniform3iv(this.addr,e),Dr(n,e)}}function kle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Nr(n,e))return;t.uniform4iv(this.addr,e),Dr(n,e)}}function Ule(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Ble(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Nr(n,e))return;t.uniform2uiv(this.addr,e),Dr(n,e)}}function zle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Nr(n,e))return;t.uniform3uiv(this.addr,e),Dr(n,e)}}function Vle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Nr(n,e))return;t.uniform4uiv(this.addr,e),Dr(n,e)}}function Hle(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let s;this.type===t.SAMPLER_2D_SHADOW?(qD.compareFunction=uA,s=qD):s=Zz,n.setTexture2D(e||s,i)}function jle(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Jz,i)}function Gle(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||eV,i)}function Wle(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Qz,i)}function Xle(t){switch(t){case 5126:return Cle;case 35664:return Ale;case 35665:return Rle;case 35666:return Ple;case 35674:return Ile;case 35675:return Nle;case 35676:return Dle;case 5124:case 35670:return Lle;case 35667:case 35671:return Ole;case 35668:case 35672:return Fle;case 35669:case 35673:return kle;case 5125:return Ule;case 36294:return Ble;case 36295:return zle;case 36296:return Vle;case 35678:case 36198:case 36298:case 36306:case 35682:return Hle;case 35679:case 36299:case 36307:return jle;case 35680:case 36300:case 36308:case 36293:return Gle;case 36289:case 36303:case 36311:case 36292:return Wle}}function $le(t,e){t.uniform1fv(this.addr,e)}function Yle(t,e){const n=sh(e,this.size,2);t.uniform2fv(this.addr,n)}function qle(t,e){const n=sh(e,this.size,3);t.uniform3fv(this.addr,n)}function Kle(t,e){const n=sh(e,this.size,4);t.uniform4fv(this.addr,n)}function Zle(t,e){const n=sh(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Qle(t,e){const n=sh(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Jle(t,e){const n=sh(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function ece(t,e){t.uniform1iv(this.addr,e)}function tce(t,e){t.uniform2iv(this.addr,e)}function nce(t,e){t.uniform3iv(this.addr,e)}function rce(t,e){t.uniform4iv(this.addr,e)}function ice(t,e){t.uniform1uiv(this.addr,e)}function sce(t,e){t.uniform2uiv(this.addr,e)}function oce(t,e){t.uniform3uiv(this.addr,e)}function ace(t,e){t.uniform4uiv(this.addr,e)}function lce(t,e,n){const r=this.cache,i=e.length,s=a1(n,i);Nr(r,s)||(t.uniform1iv(this.addr,s),Dr(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||Zz,s[o])}function cce(t,e,n){const r=this.cache,i=e.length,s=a1(n,i);Nr(r,s)||(t.uniform1iv(this.addr,s),Dr(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||Jz,s[o])}function uce(t,e,n){const r=this.cache,i=e.length,s=a1(n,i);Nr(r,s)||(t.uniform1iv(this.addr,s),Dr(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||eV,s[o])}function dce(t,e,n){const r=this.cache,i=e.length,s=a1(n,i);Nr(r,s)||(t.uniform1iv(this.addr,s),Dr(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||Qz,s[o])}function fce(t){switch(t){case 5126:return $le;case 35664:return Yle;case 35665:return qle;case 35666:return Kle;case 35674:return Zle;case 35675:return Qle;case 35676:return Jle;case 5124:case 35670:return ece;case 35667:case 35671:return tce;case 35668:case 35672:return nce;case 35669:case 35673:return rce;case 5125:return ice;case 36294:return sce;case 36295:return oce;case 36296:return ace;case 35678:case 36198:case 36298:case 36306:case 35682:return lce;case 35679:case 36299:case 36307:return cce;case 35680:case 36300:case 36308:case 36293:return uce;case 36289:case 36303:case 36311:case 36292:return dce}}class hce{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=Xle(n.type)}}class pce{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=fce(n.type)}}class mce{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const db=/(\w+)(\])?(\[|\.)?/g;function tL(t,e){t.seq.push(e),t.map[e.id]=e}function gce(t,e,n){const r=t.name,i=r.length;for(db.lastIndex=0;;){const s=db.exec(r),o=db.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){tL(n,c===void 0?new hce(a,t,e):new pce(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new mce(a),tL(n,d)),n=d}}}class hx{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);gce(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function nL(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const vce=37297;let xce=0;function yce(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}const rL=new nn;function _ce(t){vn._getMatrix(rL,vn.workingColorSpace,t);const e=`mat3( ${rL.elements.map(n=>n.toFixed(4))} )`;switch(vn.getTransfer(t)){case wm:return[e,"LinearTransferOETF"];case Dn:return[e,"sRGBTransferOETF"];default:return yt("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function iL(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),s=(t.getShaderInfoLog(e)||"").trim();if(r&&s==="")return"";const o=/ERROR: 0:(\d+)/.exec(s);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+s+`

`+yce(t.getShaderSource(e),a)}else return s}function wce(t,e){const n=_ce(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function Sce(t,e){let n;switch(e){case b5:n="Linear";break;case M5:n="Reinhard";break;case E5:n="Cineon";break;case rA:n="ACESFilmic";break;case C5:n="AgX";break;case A5:n="Neutral";break;case T5:n="Custom";break;default:yt("WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Nv=new X;function bce(){vn.getLuminanceCoefficients(Nv);const t=Nv.x.toFixed(4),e=Nv.y.toFixed(4),n=Nv.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Mce(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(hp).join(`
`)}function Ece(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Tce(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function hp(t){return t!==""}function sL(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function oL(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Cce=/^[ \t]*#include +<([\w\d./]+)>/gm;function VE(t){return t.replace(Cce,Rce)}const Ace=new Map;function Rce(t,e){let n=ln[e];if(n===void 0){const r=Ace.get(e);if(r!==void 0)n=ln[r],yt('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return VE(n)}const Pce=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function aL(t){return t.replace(Pce,Ice)}function Ice(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function lL(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Nce(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===P_?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Pp?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Qs&&(e="SHADOWMAP_TYPE_VSM"),e}function Dce(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Xo:case Gl:e="ENVMAP_TYPE_CUBE";break;case th:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Lce(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Gl:e="ENVMAP_MODE_REFRACTION";break}return e}function Oce(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case og:e="ENVMAP_BLENDING_MULTIPLY";break;case w5:e="ENVMAP_BLENDING_MIX";break;case S5:e="ENVMAP_BLENDING_ADD";break}return e}function Fce(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function kce(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=Nce(n),c=Dce(n),u=Lce(n),d=Oce(n),p=Fce(n),m=Mce(n),v=Ece(s),x=i.createProgram();let y,g,_=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(hp).join(`
`),y.length>0&&(y+=`
`),g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(hp).join(`
`),g.length>0&&(g+=`
`)):(y=[lL(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(hp).join(`
`),g=[lL(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Go?"#define TONE_MAPPING":"",n.toneMapping!==Go?ln.tonemapping_pars_fragment:"",n.toneMapping!==Go?Sce("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",ln.colorspace_pars_fragment,wce("linearToOutputTexel",n.outputColorSpace),bce(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(hp).join(`
`)),o=VE(o),o=sL(o,n),o=oL(o,n),a=VE(a),a=sL(a,n),a=oL(a,n),o=aL(o),a=aL(a),n.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,y=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,g=["#define varying in",n.glslVersion===NE?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===NE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const S=_+y+o,M=_+g+a,A=nL(i,i.VERTEX_SHADER,S),R=nL(i,i.FRAGMENT_SHADER,M);i.attachShader(x,A),i.attachShader(x,R),n.index0AttributeName!==void 0?i.bindAttribLocation(x,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x);function C(F){if(t.debug.checkShaderErrors){const V=i.getProgramInfoLog(x)||"",Y=i.getShaderInfoLog(A)||"",G=i.getShaderInfoLog(R)||"",ee=V.trim(),Q=Y.trim(),ie=G.trim();let z=!0,H=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(z=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,x,A,R);else{const $=iL(i,A,"vertex"),oe=iL(i,R,"fragment");Zt("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Material Name: `+F.name+`
Material Type: `+F.type+`

Program Info Log: `+ee+`
`+$+`
`+oe)}else ee!==""?yt("WebGLProgram: Program Info Log:",ee):(Q===""||ie==="")&&(H=!1);H&&(F.diagnostics={runnable:z,programLog:ee,vertexShader:{log:Q,prefix:y},fragmentShader:{log:ie,prefix:g}})}i.deleteShader(A),i.deleteShader(R),D=new hx(i,x),N=Tce(i,x)}let D;this.getUniforms=function(){return D===void 0&&C(this),D};let N;this.getAttributes=function(){return N===void 0&&C(this),N};let I=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return I===!1&&(I=i.getProgramParameter(x,vce)),I},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=xce++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=A,this.fragmentShader=R,this}let Uce=0;class Bce{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new zce(e),n.set(e,r)),r}}class zce{constructor(e){this.id=Uce++,this.code=e,this.usedTimes=0}}function Vce(t,e,n,r,i,s,o){const a=new du,l=new Bce,c=new Set,u=[],d=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(N){return c.add(N),N===0?"uv":`uv${N}`}function y(N,I,F,V,Y){const G=V.fog,ee=Y.geometry,Q=N.isMeshStandardMaterial?V.environment:null,ie=(N.isMeshStandardMaterial?n:e).get(N.envMap||Q),z=ie&&ie.mapping===th?ie.image.height:null,H=v[N.type];N.precision!==null&&(m=i.getMaxPrecision(N.precision),m!==N.precision&&yt("WebGLProgram.getParameters:",N.precision,"not supported, using",m,"instead."));const $=ee.morphAttributes.position||ee.morphAttributes.normal||ee.morphAttributes.color,oe=$!==void 0?$.length:0;let pe=0;ee.morphAttributes.position!==void 0&&(pe=1),ee.morphAttributes.normal!==void 0&&(pe=2),ee.morphAttributes.color!==void 0&&(pe=3);let Me,Ue,at,ae;if(H){const Yt=io[H];Me=Yt.vertexShader,Ue=Yt.fragmentShader}else Me=N.vertexShader,Ue=N.fragmentShader,l.update(N),at=l.getVertexShaderID(N),ae=l.getFragmentShaderID(N);const fe=t.getRenderTarget(),je=t.state.buffers.depth.getReversed(),ct=Y.isInstancedMesh===!0,st=Y.isBatchedMesh===!0,ut=!!N.map,Be=!!N.matcap,Ye=!!ie,Te=!!N.aoMap,j=!!N.lightMap,Ae=!!N.bumpMap,Ve=!!N.normalMap,qe=!!N.displacementMap,Fe=!!N.emissiveMap,pt=!!N.metalnessMap,et=!!N.roughnessMap,vt=N.anisotropy>0,W=N.clearcoat>0,U=N.dispersion>0,de=N.iridescence>0,be=N.sheen>0,Ne=N.transmission>0,we=vt&&!!N.anisotropyMap,gt=W&&!!N.clearcoatMap,tt=W&&!!N.clearcoatNormalMap,Rt=W&&!!N.clearcoatRoughnessMap,wt=de&&!!N.iridescenceMap,Pe=de&&!!N.iridescenceThicknessMap,He=be&&!!N.sheenColorMap,Bt=be&&!!N.sheenRoughnessMap,Tt=!!N.specularMap,lt=!!N.specularColorMap,St=!!N.specularIntensityMap,ne=Ne&&!!N.transmissionMap,ye=Ne&&!!N.thicknessMap,Je=!!N.gradientMap,nt=!!N.alphaMap,Ge=N.alphaTest>0,Le=!!N.alphaHash,ke=!!N.extensions;let mt=Go;N.toneMapped&&(fe===null||fe.isXRRenderTarget===!0)&&(mt=t.toneMapping);const Ut={shaderID:H,shaderType:N.type,shaderName:N.name,vertexShader:Me,fragmentShader:Ue,defines:N.defines,customVertexShaderID:at,customFragmentShaderID:ae,isRawShaderMaterial:N.isRawShaderMaterial===!0,glslVersion:N.glslVersion,precision:m,batching:st,batchingColor:st&&Y._colorsTexture!==null,instancing:ct,instancingColor:ct&&Y.instanceColor!==null,instancingMorph:ct&&Y.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:fe===null?t.outputColorSpace:fe.isXRRenderTarget===!0?fe.texture.colorSpace:Yo,alphaToCoverage:!!N.alphaToCoverage,map:ut,matcap:Be,envMap:Ye,envMapMode:Ye&&ie.mapping,envMapCubeUVHeight:z,aoMap:Te,lightMap:j,bumpMap:Ae,normalMap:Ve,displacementMap:p&&qe,emissiveMap:Fe,normalMapObjectSpace:Ve&&N.normalMapType===O5,normalMapTangentSpace:Ve&&N.normalMapType===nc,metalnessMap:pt,roughnessMap:et,anisotropy:vt,anisotropyMap:we,clearcoat:W,clearcoatMap:gt,clearcoatNormalMap:tt,clearcoatRoughnessMap:Rt,dispersion:U,iridescence:de,iridescenceMap:wt,iridescenceThicknessMap:Pe,sheen:be,sheenColorMap:He,sheenRoughnessMap:Bt,specularMap:Tt,specularColorMap:lt,specularIntensityMap:St,transmission:Ne,transmissionMap:ne,thicknessMap:ye,gradientMap:Je,opaque:N.transparent===!1&&N.blending===cu&&N.alphaToCoverage===!1,alphaMap:nt,alphaTest:Ge,alphaHash:Le,combine:N.combine,mapUv:ut&&x(N.map.channel),aoMapUv:Te&&x(N.aoMap.channel),lightMapUv:j&&x(N.lightMap.channel),bumpMapUv:Ae&&x(N.bumpMap.channel),normalMapUv:Ve&&x(N.normalMap.channel),displacementMapUv:qe&&x(N.displacementMap.channel),emissiveMapUv:Fe&&x(N.emissiveMap.channel),metalnessMapUv:pt&&x(N.metalnessMap.channel),roughnessMapUv:et&&x(N.roughnessMap.channel),anisotropyMapUv:we&&x(N.anisotropyMap.channel),clearcoatMapUv:gt&&x(N.clearcoatMap.channel),clearcoatNormalMapUv:tt&&x(N.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Rt&&x(N.clearcoatRoughnessMap.channel),iridescenceMapUv:wt&&x(N.iridescenceMap.channel),iridescenceThicknessMapUv:Pe&&x(N.iridescenceThicknessMap.channel),sheenColorMapUv:He&&x(N.sheenColorMap.channel),sheenRoughnessMapUv:Bt&&x(N.sheenRoughnessMap.channel),specularMapUv:Tt&&x(N.specularMap.channel),specularColorMapUv:lt&&x(N.specularColorMap.channel),specularIntensityMapUv:St&&x(N.specularIntensityMap.channel),transmissionMapUv:ne&&x(N.transmissionMap.channel),thicknessMapUv:ye&&x(N.thicknessMap.channel),alphaMapUv:nt&&x(N.alphaMap.channel),vertexTangents:!!ee.attributes.tangent&&(Ve||vt),vertexColors:N.vertexColors,vertexAlphas:N.vertexColors===!0&&!!ee.attributes.color&&ee.attributes.color.itemSize===4,pointsUvs:Y.isPoints===!0&&!!ee.attributes.uv&&(ut||nt),fog:!!G,useFog:N.fog===!0,fogExp2:!!G&&G.isFogExp2,flatShading:N.flatShading===!0&&N.wireframe===!1,sizeAttenuation:N.sizeAttenuation===!0,logarithmicDepthBuffer:d,reversedDepthBuffer:je,skinning:Y.isSkinnedMesh===!0,morphTargets:ee.morphAttributes.position!==void 0,morphNormals:ee.morphAttributes.normal!==void 0,morphColors:ee.morphAttributes.color!==void 0,morphTargetsCount:oe,morphTextureStride:pe,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numLightProbes:I.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:N.dithering,shadowMapEnabled:t.shadowMap.enabled&&F.length>0,shadowMapType:t.shadowMap.type,toneMapping:mt,decodeVideoTexture:ut&&N.map.isVideoTexture===!0&&vn.getTransfer(N.map.colorSpace)===Dn,decodeVideoTextureEmissive:Fe&&N.emissiveMap.isVideoTexture===!0&&vn.getTransfer(N.emissiveMap.colorSpace)===Dn,premultipliedAlpha:N.premultipliedAlpha,doubleSided:N.side===so,flipSided:N.side===wi,useDepthPacking:N.depthPacking>=0,depthPacking:N.depthPacking||0,index0AttributeName:N.index0AttributeName,extensionClipCullDistance:ke&&N.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(ke&&N.extensions.multiDraw===!0||st)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:N.customProgramCacheKey()};return Ut.vertexUv1s=c.has(1),Ut.vertexUv2s=c.has(2),Ut.vertexUv3s=c.has(3),c.clear(),Ut}function g(N){const I=[];if(N.shaderID?I.push(N.shaderID):(I.push(N.customVertexShaderID),I.push(N.customFragmentShaderID)),N.defines!==void 0)for(const F in N.defines)I.push(F),I.push(N.defines[F]);return N.isRawShaderMaterial===!1&&(_(I,N),S(I,N),I.push(t.outputColorSpace)),I.push(N.customProgramCacheKey),I.join()}function _(N,I){N.push(I.precision),N.push(I.outputColorSpace),N.push(I.envMapMode),N.push(I.envMapCubeUVHeight),N.push(I.mapUv),N.push(I.alphaMapUv),N.push(I.lightMapUv),N.push(I.aoMapUv),N.push(I.bumpMapUv),N.push(I.normalMapUv),N.push(I.displacementMapUv),N.push(I.emissiveMapUv),N.push(I.metalnessMapUv),N.push(I.roughnessMapUv),N.push(I.anisotropyMapUv),N.push(I.clearcoatMapUv),N.push(I.clearcoatNormalMapUv),N.push(I.clearcoatRoughnessMapUv),N.push(I.iridescenceMapUv),N.push(I.iridescenceThicknessMapUv),N.push(I.sheenColorMapUv),N.push(I.sheenRoughnessMapUv),N.push(I.specularMapUv),N.push(I.specularColorMapUv),N.push(I.specularIntensityMapUv),N.push(I.transmissionMapUv),N.push(I.thicknessMapUv),N.push(I.combine),N.push(I.fogExp2),N.push(I.sizeAttenuation),N.push(I.morphTargetsCount),N.push(I.morphAttributeCount),N.push(I.numDirLights),N.push(I.numPointLights),N.push(I.numSpotLights),N.push(I.numSpotLightMaps),N.push(I.numHemiLights),N.push(I.numRectAreaLights),N.push(I.numDirLightShadows),N.push(I.numPointLightShadows),N.push(I.numSpotLightShadows),N.push(I.numSpotLightShadowsWithMaps),N.push(I.numLightProbes),N.push(I.shadowMapType),N.push(I.toneMapping),N.push(I.numClippingPlanes),N.push(I.numClipIntersection),N.push(I.depthPacking)}function S(N,I){a.disableAll(),I.supportsVertexTextures&&a.enable(0),I.instancing&&a.enable(1),I.instancingColor&&a.enable(2),I.instancingMorph&&a.enable(3),I.matcap&&a.enable(4),I.envMap&&a.enable(5),I.normalMapObjectSpace&&a.enable(6),I.normalMapTangentSpace&&a.enable(7),I.clearcoat&&a.enable(8),I.iridescence&&a.enable(9),I.alphaTest&&a.enable(10),I.vertexColors&&a.enable(11),I.vertexAlphas&&a.enable(12),I.vertexUv1s&&a.enable(13),I.vertexUv2s&&a.enable(14),I.vertexUv3s&&a.enable(15),I.vertexTangents&&a.enable(16),I.anisotropy&&a.enable(17),I.alphaHash&&a.enable(18),I.batching&&a.enable(19),I.dispersion&&a.enable(20),I.batchingColor&&a.enable(21),I.gradientMap&&a.enable(22),N.push(a.mask),a.disableAll(),I.fog&&a.enable(0),I.useFog&&a.enable(1),I.flatShading&&a.enable(2),I.logarithmicDepthBuffer&&a.enable(3),I.reversedDepthBuffer&&a.enable(4),I.skinning&&a.enable(5),I.morphTargets&&a.enable(6),I.morphNormals&&a.enable(7),I.morphColors&&a.enable(8),I.premultipliedAlpha&&a.enable(9),I.shadowMapEnabled&&a.enable(10),I.doubleSided&&a.enable(11),I.flipSided&&a.enable(12),I.useDepthPacking&&a.enable(13),I.dithering&&a.enable(14),I.transmission&&a.enable(15),I.sheen&&a.enable(16),I.opaque&&a.enable(17),I.pointsUvs&&a.enable(18),I.decodeVideoTexture&&a.enable(19),I.decodeVideoTextureEmissive&&a.enable(20),I.alphaToCoverage&&a.enable(21),N.push(a.mask)}function M(N){const I=v[N.type];let F;if(I){const V=io[I];F=q5.clone(V.uniforms)}else F=N.uniforms;return F}function A(N,I){let F;for(let V=0,Y=u.length;V<Y;V++){const G=u[V];if(G.cacheKey===I){F=G,++F.usedTimes;break}}return F===void 0&&(F=new kce(t,I,N,s),u.push(F)),F}function R(N){if(--N.usedTimes===0){const I=u.indexOf(N);u[I]=u[u.length-1],u.pop(),N.destroy()}}function C(N){l.remove(N)}function D(){l.dispose()}return{getParameters:y,getProgramCacheKey:g,getUniforms:M,acquireProgram:A,releaseProgram:R,releaseShaderCache:C,programs:u,dispose:D}}function Hce(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function r(o){t.delete(o)}function i(o,a,l){t.get(o)[a]=l}function s(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:s}}function jce(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function cL(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function uL(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(d,p,m,v,x,y){let g=t[e];return g===void 0?(g={id:d.id,object:d,geometry:p,material:m,groupOrder:v,renderOrder:d.renderOrder,z:x,group:y},t[e]=g):(g.id=d.id,g.object=d,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=d.renderOrder,g.z=x,g.group=y),e++,g}function a(d,p,m,v,x,y){const g=o(d,p,m,v,x,y);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):n.push(g)}function l(d,p,m,v,x,y){const g=o(d,p,m,v,x,y);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):n.unshift(g)}function c(d,p){n.length>1&&n.sort(d||jce),r.length>1&&r.sort(p||cL),i.length>1&&i.sort(p||cL)}function u(){for(let d=e,p=t.length;d<p;d++){const m=t[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function Gce(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new uL,t.set(r,[o])):i>=s.length?(o=new uL,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function Wce(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new X,color:new Ct};break;case"SpotLight":n={position:new X,direction:new X,color:new Ct,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new X,color:new Ct,distance:0,decay:0};break;case"HemisphereLight":n={direction:new X,skyColor:new Ct,groundColor:new Ct};break;case"RectAreaLight":n={color:new Ct,position:new X,halfWidth:new X,halfHeight:new X};break}return t[e.id]=n,n}}}function Xce(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xe};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xe};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xe,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let $ce=0;function Yce(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function qce(t){const e=new Wce,n=Xce(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new X);const i=new X,s=new Gt,o=new Gt;function a(c){let u=0,d=0,p=0;for(let N=0;N<9;N++)r.probe[N].set(0,0,0);let m=0,v=0,x=0,y=0,g=0,_=0,S=0,M=0,A=0,R=0,C=0;c.sort(Yce);for(let N=0,I=c.length;N<I;N++){const F=c[N],V=F.color,Y=F.intensity,G=F.distance,ee=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)u+=V.r*Y,d+=V.g*Y,p+=V.b*Y;else if(F.isLightProbe){for(let Q=0;Q<9;Q++)r.probe[Q].addScaledVector(F.sh.coefficients[Q],Y);C++}else if(F.isDirectionalLight){const Q=e.get(F);if(Q.color.copy(F.color).multiplyScalar(F.intensity),F.castShadow){const ie=F.shadow,z=n.get(F);z.shadowIntensity=ie.intensity,z.shadowBias=ie.bias,z.shadowNormalBias=ie.normalBias,z.shadowRadius=ie.radius,z.shadowMapSize=ie.mapSize,r.directionalShadow[m]=z,r.directionalShadowMap[m]=ee,r.directionalShadowMatrix[m]=F.shadow.matrix,_++}r.directional[m]=Q,m++}else if(F.isSpotLight){const Q=e.get(F);Q.position.setFromMatrixPosition(F.matrixWorld),Q.color.copy(V).multiplyScalar(Y),Q.distance=G,Q.coneCos=Math.cos(F.angle),Q.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),Q.decay=F.decay,r.spot[x]=Q;const ie=F.shadow;if(F.map&&(r.spotLightMap[A]=F.map,A++,ie.updateMatrices(F),F.castShadow&&R++),r.spotLightMatrix[x]=ie.matrix,F.castShadow){const z=n.get(F);z.shadowIntensity=ie.intensity,z.shadowBias=ie.bias,z.shadowNormalBias=ie.normalBias,z.shadowRadius=ie.radius,z.shadowMapSize=ie.mapSize,r.spotShadow[x]=z,r.spotShadowMap[x]=ee,M++}x++}else if(F.isRectAreaLight){const Q=e.get(F);Q.color.copy(V).multiplyScalar(Y),Q.halfWidth.set(F.width*.5,0,0),Q.halfHeight.set(0,F.height*.5,0),r.rectArea[y]=Q,y++}else if(F.isPointLight){const Q=e.get(F);if(Q.color.copy(F.color).multiplyScalar(F.intensity),Q.distance=F.distance,Q.decay=F.decay,F.castShadow){const ie=F.shadow,z=n.get(F);z.shadowIntensity=ie.intensity,z.shadowBias=ie.bias,z.shadowNormalBias=ie.normalBias,z.shadowRadius=ie.radius,z.shadowMapSize=ie.mapSize,z.shadowCameraNear=ie.camera.near,z.shadowCameraFar=ie.camera.far,r.pointShadow[v]=z,r.pointShadowMap[v]=ee,r.pointShadowMatrix[v]=F.shadow.matrix,S++}r.point[v]=Q,v++}else if(F.isHemisphereLight){const Q=e.get(F);Q.skyColor.copy(F.color).multiplyScalar(Y),Q.groundColor.copy(F.groundColor).multiplyScalar(Y),r.hemi[g]=Q,g++}}y>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=xt.LTC_FLOAT_1,r.rectAreaLTC2=xt.LTC_FLOAT_2):(r.rectAreaLTC1=xt.LTC_HALF_1,r.rectAreaLTC2=xt.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=d,r.ambient[2]=p;const D=r.hash;(D.directionalLength!==m||D.pointLength!==v||D.spotLength!==x||D.rectAreaLength!==y||D.hemiLength!==g||D.numDirectionalShadows!==_||D.numPointShadows!==S||D.numSpotShadows!==M||D.numSpotMaps!==A||D.numLightProbes!==C)&&(r.directional.length=m,r.spot.length=x,r.rectArea.length=y,r.point.length=v,r.hemi.length=g,r.directionalShadow.length=_,r.directionalShadowMap.length=_,r.pointShadow.length=S,r.pointShadowMap.length=S,r.spotShadow.length=M,r.spotShadowMap.length=M,r.directionalShadowMatrix.length=_,r.pointShadowMatrix.length=S,r.spotLightMatrix.length=M+A-R,r.spotLightMap.length=A,r.numSpotLightShadowsWithMaps=R,r.numLightProbes=C,D.directionalLength=m,D.pointLength=v,D.spotLength=x,D.rectAreaLength=y,D.hemiLength=g,D.numDirectionalShadows=_,D.numPointShadows=S,D.numSpotShadows=M,D.numSpotMaps=A,D.numLightProbes=C,r.version=$ce++)}function l(c,u){let d=0,p=0,m=0,v=0,x=0;const y=u.matrixWorldInverse;for(let g=0,_=c.length;g<_;g++){const S=c[g];if(S.isDirectionalLight){const M=r.directional[d];M.direction.setFromMatrixPosition(S.matrixWorld),i.setFromMatrixPosition(S.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(y),d++}else if(S.isSpotLight){const M=r.spot[m];M.position.setFromMatrixPosition(S.matrixWorld),M.position.applyMatrix4(y),M.direction.setFromMatrixPosition(S.matrixWorld),i.setFromMatrixPosition(S.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(y),m++}else if(S.isRectAreaLight){const M=r.rectArea[v];M.position.setFromMatrixPosition(S.matrixWorld),M.position.applyMatrix4(y),o.identity(),s.copy(S.matrixWorld),s.premultiply(y),o.extractRotation(s),M.halfWidth.set(S.width*.5,0,0),M.halfHeight.set(0,S.height*.5,0),M.halfWidth.applyMatrix4(o),M.halfHeight.applyMatrix4(o),v++}else if(S.isPointLight){const M=r.point[p];M.position.setFromMatrixPosition(S.matrixWorld),M.position.applyMatrix4(y),p++}else if(S.isHemisphereLight){const M=r.hemi[x];M.direction.setFromMatrixPosition(S.matrixWorld),M.direction.transformDirection(y),x++}}}return{setup:a,setupView:l,state:r}}function dL(t){const e=new qce(t),n=[],r=[];function i(u){c.camera=u,n.length=0,r.length=0}function s(u){n.push(u)}function o(u){r.push(u)}function a(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function Kce(t){let e=new WeakMap;function n(i,s=0){const o=e.get(i);let a;return o===void 0?(a=new dL(t),e.set(i,[a])):s>=o.length?(a=new dL(t),o.push(a)):a=o[s],a}function r(){e=new WeakMap}return{get:n,dispose:r}}const Zce=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Qce=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Jce(t,e,n){let r=new rh;const i=new Xe,s=new Xe,o=new Sn,a=new AA({depthPacking:L5}),l=new RA,c={},u=n.maxTextureSize,d={[La]:wi,[wi]:La,[so]:so},p=new Mi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Xe},radius:{value:4}},vertexShader:Zce,fragmentShader:Qce}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new rn;v.setAttribute("position",new kn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new or(v,p),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=P_;let g=this.type;this.render=function(R,C,D){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||R.length===0)return;const N=t.getRenderTarget(),I=t.getActiveCubeFace(),F=t.getActiveMipmapLevel(),V=t.state;V.setBlending(co),V.buffers.depth.getReversed()===!0?V.buffers.color.setClear(0,0,0,0):V.buffers.color.setClear(1,1,1,1),V.buffers.depth.setTest(!0),V.setScissorTest(!1);const Y=g!==Qs&&this.type===Qs,G=g===Qs&&this.type!==Qs;for(let ee=0,Q=R.length;ee<Q;ee++){const ie=R[ee],z=ie.shadow;if(z===void 0){yt("WebGLShadowMap:",ie,"has no shadow.");continue}if(z.autoUpdate===!1&&z.needsUpdate===!1)continue;i.copy(z.mapSize);const H=z.getFrameExtents();if(i.multiply(H),s.copy(z.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/H.x),i.x=s.x*H.x,z.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/H.y),i.y=s.y*H.y,z.mapSize.y=s.y)),z.map===null||Y===!0||G===!0){const oe=this.type!==Qs?{minFilter:$r,magFilter:$r}:{};z.map!==null&&z.map.dispose(),z.map=new Us(i.x,i.y,oe),z.map.texture.name=ie.name+".shadowMap",z.camera.updateProjectionMatrix()}t.setRenderTarget(z.map),t.clear();const $=z.getViewportCount();for(let oe=0;oe<$;oe++){const pe=z.getViewport(oe);o.set(s.x*pe.x,s.y*pe.y,s.x*pe.z,s.y*pe.w),V.viewport(o),z.updateMatrices(ie,oe),r=z.getFrustum(),M(C,D,z.camera,ie,this.type)}z.isPointLightShadow!==!0&&this.type===Qs&&_(z,D),z.needsUpdate=!1}g=this.type,y.needsUpdate=!1,t.setRenderTarget(N,I,F)};function _(R,C){const D=e.update(x);p.defines.VSM_SAMPLES!==R.blurSamples&&(p.defines.VSM_SAMPLES=R.blurSamples,m.defines.VSM_SAMPLES=R.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),R.mapPass===null&&(R.mapPass=new Us(i.x,i.y)),p.uniforms.shadow_pass.value=R.map.texture,p.uniforms.resolution.value=R.mapSize,p.uniforms.radius.value=R.radius,t.setRenderTarget(R.mapPass),t.clear(),t.renderBufferDirect(C,null,D,p,x,null),m.uniforms.shadow_pass.value=R.mapPass.texture,m.uniforms.resolution.value=R.mapSize,m.uniforms.radius.value=R.radius,t.setRenderTarget(R.map),t.clear(),t.renderBufferDirect(C,null,D,m,x,null)}function S(R,C,D,N){let I=null;const F=D.isPointLight===!0?R.customDistanceMaterial:R.customDepthMaterial;if(F!==void 0)I=F;else if(I=D.isPointLight===!0?l:a,t.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0||C.alphaToCoverage===!0){const V=I.uuid,Y=C.uuid;let G=c[V];G===void 0&&(G={},c[V]=G);let ee=G[Y];ee===void 0&&(ee=I.clone(),G[Y]=ee,C.addEventListener("dispose",A)),I=ee}if(I.visible=C.visible,I.wireframe=C.wireframe,N===Qs?I.side=C.shadowSide!==null?C.shadowSide:C.side:I.side=C.shadowSide!==null?C.shadowSide:d[C.side],I.alphaMap=C.alphaMap,I.alphaTest=C.alphaToCoverage===!0?.5:C.alphaTest,I.map=C.map,I.clipShadows=C.clipShadows,I.clippingPlanes=C.clippingPlanes,I.clipIntersection=C.clipIntersection,I.displacementMap=C.displacementMap,I.displacementScale=C.displacementScale,I.displacementBias=C.displacementBias,I.wireframeLinewidth=C.wireframeLinewidth,I.linewidth=C.linewidth,D.isPointLight===!0&&I.isMeshDistanceMaterial===!0){const V=t.properties.get(I);V.light=D}return I}function M(R,C,D,N,I){if(R.visible===!1)return;if(R.layers.test(C.layers)&&(R.isMesh||R.isLine||R.isPoints)&&(R.castShadow||R.receiveShadow&&I===Qs)&&(!R.frustumCulled||r.intersectsObject(R))){R.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,R.matrixWorld);const Y=e.update(R),G=R.material;if(Array.isArray(G)){const ee=Y.groups;for(let Q=0,ie=ee.length;Q<ie;Q++){const z=ee[Q],H=G[z.materialIndex];if(H&&H.visible){const $=S(R,H,N,I);R.onBeforeShadow(t,R,C,D,Y,$,z),t.renderBufferDirect(D,null,Y,$,R,z),R.onAfterShadow(t,R,C,D,Y,$,z)}}}else if(G.visible){const ee=S(R,G,N,I);R.onBeforeShadow(t,R,C,D,Y,ee,null),t.renderBufferDirect(D,null,Y,ee,R,null),R.onAfterShadow(t,R,C,D,Y,ee,null)}}const V=R.children;for(let Y=0,G=V.length;Y<G;Y++)M(V[Y],C,D,N,I)}function A(R){R.target.removeEventListener("dispose",A);for(const D in c){const N=c[D],I=R.target.uuid;I in N&&(N[I].dispose(),delete N[I])}}}const eue={[sy]:oy,[ay]:uy,[ly]:dy,[bu]:cy,[oy]:sy,[uy]:ay,[dy]:ly,[cy]:bu};function tue(t,e){function n(){let ne=!1;const ye=new Sn;let Je=null;const nt=new Sn(0,0,0,0);return{setMask:function(Ge){Je!==Ge&&!ne&&(t.colorMask(Ge,Ge,Ge,Ge),Je=Ge)},setLocked:function(Ge){ne=Ge},setClear:function(Ge,Le,ke,mt,Ut){Ut===!0&&(Ge*=mt,Le*=mt,ke*=mt),ye.set(Ge,Le,ke,mt),nt.equals(ye)===!1&&(t.clearColor(Ge,Le,ke,mt),nt.copy(ye))},reset:function(){ne=!1,Je=null,nt.set(-1,0,0,0)}}}function r(){let ne=!1,ye=!1,Je=null,nt=null,Ge=null;return{setReversed:function(Le){if(ye!==Le){const ke=e.get("EXT_clip_control");Le?ke.clipControlEXT(ke.LOWER_LEFT_EXT,ke.ZERO_TO_ONE_EXT):ke.clipControlEXT(ke.LOWER_LEFT_EXT,ke.NEGATIVE_ONE_TO_ONE_EXT),ye=Le;const mt=Ge;Ge=null,this.setClear(mt)}},getReversed:function(){return ye},setTest:function(Le){Le?fe(t.DEPTH_TEST):je(t.DEPTH_TEST)},setMask:function(Le){Je!==Le&&!ne&&(t.depthMask(Le),Je=Le)},setFunc:function(Le){if(ye&&(Le=eue[Le]),nt!==Le){switch(Le){case sy:t.depthFunc(t.NEVER);break;case oy:t.depthFunc(t.ALWAYS);break;case ay:t.depthFunc(t.LESS);break;case bu:t.depthFunc(t.LEQUAL);break;case ly:t.depthFunc(t.EQUAL);break;case cy:t.depthFunc(t.GEQUAL);break;case uy:t.depthFunc(t.GREATER);break;case dy:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}nt=Le}},setLocked:function(Le){ne=Le},setClear:function(Le){Ge!==Le&&(ye&&(Le=1-Le),t.clearDepth(Le),Ge=Le)},reset:function(){ne=!1,Je=null,nt=null,Ge=null,ye=!1}}}function i(){let ne=!1,ye=null,Je=null,nt=null,Ge=null,Le=null,ke=null,mt=null,Ut=null;return{setTest:function(Yt){ne||(Yt?fe(t.STENCIL_TEST):je(t.STENCIL_TEST))},setMask:function(Yt){ye!==Yt&&!ne&&(t.stencilMask(Yt),ye=Yt)},setFunc:function(Yt,Nn,Bn){(Je!==Yt||nt!==Nn||Ge!==Bn)&&(t.stencilFunc(Yt,Nn,Bn),Je=Yt,nt=Nn,Ge=Bn)},setOp:function(Yt,Nn,Bn){(Le!==Yt||ke!==Nn||mt!==Bn)&&(t.stencilOp(Yt,Nn,Bn),Le=Yt,ke=Nn,mt=Bn)},setLocked:function(Yt){ne=Yt},setClear:function(Yt){Ut!==Yt&&(t.clearStencil(Yt),Ut=Yt)},reset:function(){ne=!1,ye=null,Je=null,nt=null,Ge=null,Le=null,ke=null,mt=null,Ut=null}}}const s=new n,o=new r,a=new i,l=new WeakMap,c=new WeakMap;let u={},d={},p=new WeakMap,m=[],v=null,x=!1,y=null,g=null,_=null,S=null,M=null,A=null,R=null,C=new Ct(0,0,0),D=0,N=!1,I=null,F=null,V=null,Y=null,G=null;const ee=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Q=!1,ie=0;const z=t.getParameter(t.VERSION);z.indexOf("WebGL")!==-1?(ie=parseFloat(/^WebGL (\d)/.exec(z)[1]),Q=ie>=1):z.indexOf("OpenGL ES")!==-1&&(ie=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),Q=ie>=2);let H=null,$={};const oe=t.getParameter(t.SCISSOR_BOX),pe=t.getParameter(t.VIEWPORT),Me=new Sn().fromArray(oe),Ue=new Sn().fromArray(pe);function at(ne,ye,Je,nt){const Ge=new Uint8Array(4),Le=t.createTexture();t.bindTexture(ne,Le),t.texParameteri(ne,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ne,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let ke=0;ke<Je;ke++)ne===t.TEXTURE_3D||ne===t.TEXTURE_2D_ARRAY?t.texImage3D(ye,0,t.RGBA,1,1,nt,0,t.RGBA,t.UNSIGNED_BYTE,Ge):t.texImage2D(ye+ke,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ge);return Le}const ae={};ae[t.TEXTURE_2D]=at(t.TEXTURE_2D,t.TEXTURE_2D,1),ae[t.TEXTURE_CUBE_MAP]=at(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ae[t.TEXTURE_2D_ARRAY]=at(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ae[t.TEXTURE_3D]=at(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),fe(t.DEPTH_TEST),o.setFunc(bu),Ae(!1),Ve(ME),fe(t.CULL_FACE),Te(co);function fe(ne){u[ne]!==!0&&(t.enable(ne),u[ne]=!0)}function je(ne){u[ne]!==!1&&(t.disable(ne),u[ne]=!1)}function ct(ne,ye){return d[ne]!==ye?(t.bindFramebuffer(ne,ye),d[ne]=ye,ne===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=ye),ne===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=ye),!0):!1}function st(ne,ye){let Je=m,nt=!1;if(ne){Je=p.get(ye),Je===void 0&&(Je=[],p.set(ye,Je));const Ge=ne.textures;if(Je.length!==Ge.length||Je[0]!==t.COLOR_ATTACHMENT0){for(let Le=0,ke=Ge.length;Le<ke;Le++)Je[Le]=t.COLOR_ATTACHMENT0+Le;Je.length=Ge.length,nt=!0}}else Je[0]!==t.BACK&&(Je[0]=t.BACK,nt=!0);nt&&t.drawBuffers(Je)}function ut(ne){return v!==ne?(t.useProgram(ne),v=ne,!0):!1}const Be={[hl]:t.FUNC_ADD,[i5]:t.FUNC_SUBTRACT,[s5]:t.FUNC_REVERSE_SUBTRACT};Be[o5]=t.MIN,Be[a5]=t.MAX;const Ye={[l5]:t.ZERO,[c5]:t.ONE,[u5]:t.SRC_COLOR,[ry]:t.SRC_ALPHA,[g5]:t.SRC_ALPHA_SATURATE,[p5]:t.DST_COLOR,[f5]:t.DST_ALPHA,[d5]:t.ONE_MINUS_SRC_COLOR,[iy]:t.ONE_MINUS_SRC_ALPHA,[m5]:t.ONE_MINUS_DST_COLOR,[h5]:t.ONE_MINUS_DST_ALPHA,[v5]:t.CONSTANT_COLOR,[x5]:t.ONE_MINUS_CONSTANT_COLOR,[y5]:t.CONSTANT_ALPHA,[_5]:t.ONE_MINUS_CONSTANT_ALPHA};function Te(ne,ye,Je,nt,Ge,Le,ke,mt,Ut,Yt){if(ne===co){x===!0&&(je(t.BLEND),x=!1);return}if(x===!1&&(fe(t.BLEND),x=!0),ne!==r5){if(ne!==y||Yt!==N){if((g!==hl||M!==hl)&&(t.blendEquation(t.FUNC_ADD),g=hl,M=hl),Yt)switch(ne){case cu:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case EE:t.blendFunc(t.ONE,t.ONE);break;case TE:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case CE:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:Zt("WebGLState: Invalid blending: ",ne);break}else switch(ne){case cu:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case EE:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case TE:Zt("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case CE:Zt("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Zt("WebGLState: Invalid blending: ",ne);break}_=null,S=null,A=null,R=null,C.set(0,0,0),D=0,y=ne,N=Yt}return}Ge=Ge||ye,Le=Le||Je,ke=ke||nt,(ye!==g||Ge!==M)&&(t.blendEquationSeparate(Be[ye],Be[Ge]),g=ye,M=Ge),(Je!==_||nt!==S||Le!==A||ke!==R)&&(t.blendFuncSeparate(Ye[Je],Ye[nt],Ye[Le],Ye[ke]),_=Je,S=nt,A=Le,R=ke),(mt.equals(C)===!1||Ut!==D)&&(t.blendColor(mt.r,mt.g,mt.b,Ut),C.copy(mt),D=Ut),y=ne,N=!1}function j(ne,ye){ne.side===so?je(t.CULL_FACE):fe(t.CULL_FACE);let Je=ne.side===wi;ye&&(Je=!Je),Ae(Je),ne.blending===cu&&ne.transparent===!1?Te(co):Te(ne.blending,ne.blendEquation,ne.blendSrc,ne.blendDst,ne.blendEquationAlpha,ne.blendSrcAlpha,ne.blendDstAlpha,ne.blendColor,ne.blendAlpha,ne.premultipliedAlpha),o.setFunc(ne.depthFunc),o.setTest(ne.depthTest),o.setMask(ne.depthWrite),s.setMask(ne.colorWrite);const nt=ne.stencilWrite;a.setTest(nt),nt&&(a.setMask(ne.stencilWriteMask),a.setFunc(ne.stencilFunc,ne.stencilRef,ne.stencilFuncMask),a.setOp(ne.stencilFail,ne.stencilZFail,ne.stencilZPass)),Fe(ne.polygonOffset,ne.polygonOffsetFactor,ne.polygonOffsetUnits),ne.alphaToCoverage===!0?fe(t.SAMPLE_ALPHA_TO_COVERAGE):je(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ae(ne){I!==ne&&(ne?t.frontFace(t.CW):t.frontFace(t.CCW),I=ne)}function Ve(ne){ne!==e5?(fe(t.CULL_FACE),ne!==F&&(ne===ME?t.cullFace(t.BACK):ne===t5?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):je(t.CULL_FACE),F=ne}function qe(ne){ne!==V&&(Q&&t.lineWidth(ne),V=ne)}function Fe(ne,ye,Je){ne?(fe(t.POLYGON_OFFSET_FILL),(Y!==ye||G!==Je)&&(t.polygonOffset(ye,Je),Y=ye,G=Je)):je(t.POLYGON_OFFSET_FILL)}function pt(ne){ne?fe(t.SCISSOR_TEST):je(t.SCISSOR_TEST)}function et(ne){ne===void 0&&(ne=t.TEXTURE0+ee-1),H!==ne&&(t.activeTexture(ne),H=ne)}function vt(ne,ye,Je){Je===void 0&&(H===null?Je=t.TEXTURE0+ee-1:Je=H);let nt=$[Je];nt===void 0&&(nt={type:void 0,texture:void 0},$[Je]=nt),(nt.type!==ne||nt.texture!==ye)&&(H!==Je&&(t.activeTexture(Je),H=Je),t.bindTexture(ne,ye||ae[ne]),nt.type=ne,nt.texture=ye)}function W(){const ne=$[H];ne!==void 0&&ne.type!==void 0&&(t.bindTexture(ne.type,null),ne.type=void 0,ne.texture=void 0)}function U(){try{t.compressedTexImage2D(...arguments)}catch(ne){ne("WebGLState:",ne)}}function de(){try{t.compressedTexImage3D(...arguments)}catch(ne){ne("WebGLState:",ne)}}function be(){try{t.texSubImage2D(...arguments)}catch(ne){ne("WebGLState:",ne)}}function Ne(){try{t.texSubImage3D(...arguments)}catch(ne){ne("WebGLState:",ne)}}function we(){try{t.compressedTexSubImage2D(...arguments)}catch(ne){ne("WebGLState:",ne)}}function gt(){try{t.compressedTexSubImage3D(...arguments)}catch(ne){ne("WebGLState:",ne)}}function tt(){try{t.texStorage2D(...arguments)}catch(ne){ne("WebGLState:",ne)}}function Rt(){try{t.texStorage3D(...arguments)}catch(ne){ne("WebGLState:",ne)}}function wt(){try{t.texImage2D(...arguments)}catch(ne){ne("WebGLState:",ne)}}function Pe(){try{t.texImage3D(...arguments)}catch(ne){ne("WebGLState:",ne)}}function He(ne){Me.equals(ne)===!1&&(t.scissor(ne.x,ne.y,ne.z,ne.w),Me.copy(ne))}function Bt(ne){Ue.equals(ne)===!1&&(t.viewport(ne.x,ne.y,ne.z,ne.w),Ue.copy(ne))}function Tt(ne,ye){let Je=c.get(ye);Je===void 0&&(Je=new WeakMap,c.set(ye,Je));let nt=Je.get(ne);nt===void 0&&(nt=t.getUniformBlockIndex(ye,ne.name),Je.set(ne,nt))}function lt(ne,ye){const nt=c.get(ye).get(ne);l.get(ye)!==nt&&(t.uniformBlockBinding(ye,nt,ne.__bindingPointIndex),l.set(ye,nt))}function St(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},H=null,$={},d={},p=new WeakMap,m=[],v=null,x=!1,y=null,g=null,_=null,S=null,M=null,A=null,R=null,C=new Ct(0,0,0),D=0,N=!1,I=null,F=null,V=null,Y=null,G=null,Me.set(0,0,t.canvas.width,t.canvas.height),Ue.set(0,0,t.canvas.width,t.canvas.height),s.reset(),o.reset(),a.reset()}return{buffers:{color:s,depth:o,stencil:a},enable:fe,disable:je,bindFramebuffer:ct,drawBuffers:st,useProgram:ut,setBlending:Te,setMaterial:j,setFlipSided:Ae,setCullFace:Ve,setLineWidth:qe,setPolygonOffset:Fe,setScissorTest:pt,activeTexture:et,bindTexture:vt,unbindTexture:W,compressedTexImage2D:U,compressedTexImage3D:de,texImage2D:wt,texImage3D:Pe,updateUBOMapping:Tt,uniformBlockBinding:lt,texStorage2D:tt,texStorage3D:Rt,texSubImage2D:be,texSubImage3D:Ne,compressedTexSubImage2D:we,compressedTexSubImage3D:gt,scissor:He,viewport:Bt,reset:St}}function nue(t,e,n,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Xe,u=new WeakMap;let d;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(W,U){return m?new OffscreenCanvas(W,U):bm("canvas")}function x(W,U,de){let be=1;const Ne=vt(W);if((Ne.width>de||Ne.height>de)&&(be=de/Math.max(Ne.width,Ne.height)),be<1)if(typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&W instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&W instanceof ImageBitmap||typeof VideoFrame<"u"&&W instanceof VideoFrame){const we=Math.floor(be*Ne.width),gt=Math.floor(be*Ne.height);d===void 0&&(d=v(we,gt));const tt=U?v(we,gt):d;return tt.width=we,tt.height=gt,tt.getContext("2d").drawImage(W,0,0,we,gt),yt("WebGLRenderer: Texture has been resized from ("+Ne.width+"x"+Ne.height+") to ("+we+"x"+gt+")."),tt}else return"data"in W&&yt("WebGLRenderer: Image in DataTexture is too big ("+Ne.width+"x"+Ne.height+")."),W;return W}function y(W){return W.generateMipmaps}function g(W){t.generateMipmap(W)}function _(W){return W.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:W.isWebGL3DRenderTarget?t.TEXTURE_3D:W.isWebGLArrayRenderTarget||W.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function S(W,U,de,be,Ne=!1){if(W!==null){if(t[W]!==void 0)return t[W];yt("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+W+"'")}let we=U;if(U===t.RED&&(de===t.FLOAT&&(we=t.R32F),de===t.HALF_FLOAT&&(we=t.R16F),de===t.UNSIGNED_BYTE&&(we=t.R8)),U===t.RED_INTEGER&&(de===t.UNSIGNED_BYTE&&(we=t.R8UI),de===t.UNSIGNED_SHORT&&(we=t.R16UI),de===t.UNSIGNED_INT&&(we=t.R32UI),de===t.BYTE&&(we=t.R8I),de===t.SHORT&&(we=t.R16I),de===t.INT&&(we=t.R32I)),U===t.RG&&(de===t.FLOAT&&(we=t.RG32F),de===t.HALF_FLOAT&&(we=t.RG16F),de===t.UNSIGNED_BYTE&&(we=t.RG8)),U===t.RG_INTEGER&&(de===t.UNSIGNED_BYTE&&(we=t.RG8UI),de===t.UNSIGNED_SHORT&&(we=t.RG16UI),de===t.UNSIGNED_INT&&(we=t.RG32UI),de===t.BYTE&&(we=t.RG8I),de===t.SHORT&&(we=t.RG16I),de===t.INT&&(we=t.RG32I)),U===t.RGB_INTEGER&&(de===t.UNSIGNED_BYTE&&(we=t.RGB8UI),de===t.UNSIGNED_SHORT&&(we=t.RGB16UI),de===t.UNSIGNED_INT&&(we=t.RGB32UI),de===t.BYTE&&(we=t.RGB8I),de===t.SHORT&&(we=t.RGB16I),de===t.INT&&(we=t.RGB32I)),U===t.RGBA_INTEGER&&(de===t.UNSIGNED_BYTE&&(we=t.RGBA8UI),de===t.UNSIGNED_SHORT&&(we=t.RGBA16UI),de===t.UNSIGNED_INT&&(we=t.RGBA32UI),de===t.BYTE&&(we=t.RGBA8I),de===t.SHORT&&(we=t.RGBA16I),de===t.INT&&(we=t.RGBA32I)),U===t.RGB&&(de===t.UNSIGNED_INT_5_9_9_9_REV&&(we=t.RGB9_E5),de===t.UNSIGNED_INT_10F_11F_11F_REV&&(we=t.R11F_G11F_B10F)),U===t.RGBA){const gt=Ne?wm:vn.getTransfer(be);de===t.FLOAT&&(we=t.RGBA32F),de===t.HALF_FLOAT&&(we=t.RGBA16F),de===t.UNSIGNED_BYTE&&(we=gt===Dn?t.SRGB8_ALPHA8:t.RGBA8),de===t.UNSIGNED_SHORT_4_4_4_4&&(we=t.RGBA4),de===t.UNSIGNED_SHORT_5_5_5_1&&(we=t.RGB5_A1)}return(we===t.R16F||we===t.R32F||we===t.RG16F||we===t.RG32F||we===t.RGBA16F||we===t.RGBA32F)&&e.get("EXT_color_buffer_float"),we}function M(W,U){let de;return W?U===null||U===$o||U===Nf?de=t.DEPTH24_STENCIL8:U===nr?de=t.DEPTH32F_STENCIL8:U===If&&(de=t.DEPTH24_STENCIL8,yt("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):U===null||U===$o||U===Nf?de=t.DEPTH_COMPONENT24:U===nr?de=t.DEPTH_COMPONENT32F:U===If&&(de=t.DEPTH_COMPONENT16),de}function A(W,U){return y(W)===!0||W.isFramebufferTexture&&W.minFilter!==$r&&W.minFilter!==An?Math.log2(Math.max(U.width,U.height))+1:W.mipmaps!==void 0&&W.mipmaps.length>0?W.mipmaps.length:W.isCompressedTexture&&Array.isArray(W.image)?U.mipmaps.length:1}function R(W){const U=W.target;U.removeEventListener("dispose",R),D(U),U.isVideoTexture&&u.delete(U)}function C(W){const U=W.target;U.removeEventListener("dispose",C),I(U)}function D(W){const U=r.get(W);if(U.__webglInit===void 0)return;const de=W.source,be=p.get(de);if(be){const Ne=be[U.__cacheKey];Ne.usedTimes--,Ne.usedTimes===0&&N(W),Object.keys(be).length===0&&p.delete(de)}r.remove(W)}function N(W){const U=r.get(W);t.deleteTexture(U.__webglTexture);const de=W.source,be=p.get(de);delete be[U.__cacheKey],o.memory.textures--}function I(W){const U=r.get(W);if(W.depthTexture&&(W.depthTexture.dispose(),r.remove(W.depthTexture)),W.isWebGLCubeRenderTarget)for(let be=0;be<6;be++){if(Array.isArray(U.__webglFramebuffer[be]))for(let Ne=0;Ne<U.__webglFramebuffer[be].length;Ne++)t.deleteFramebuffer(U.__webglFramebuffer[be][Ne]);else t.deleteFramebuffer(U.__webglFramebuffer[be]);U.__webglDepthbuffer&&t.deleteRenderbuffer(U.__webglDepthbuffer[be])}else{if(Array.isArray(U.__webglFramebuffer))for(let be=0;be<U.__webglFramebuffer.length;be++)t.deleteFramebuffer(U.__webglFramebuffer[be]);else t.deleteFramebuffer(U.__webglFramebuffer);if(U.__webglDepthbuffer&&t.deleteRenderbuffer(U.__webglDepthbuffer),U.__webglMultisampledFramebuffer&&t.deleteFramebuffer(U.__webglMultisampledFramebuffer),U.__webglColorRenderbuffer)for(let be=0;be<U.__webglColorRenderbuffer.length;be++)U.__webglColorRenderbuffer[be]&&t.deleteRenderbuffer(U.__webglColorRenderbuffer[be]);U.__webglDepthRenderbuffer&&t.deleteRenderbuffer(U.__webglDepthRenderbuffer)}const de=W.textures;for(let be=0,Ne=de.length;be<Ne;be++){const we=r.get(de[be]);we.__webglTexture&&(t.deleteTexture(we.__webglTexture),o.memory.textures--),r.remove(de[be])}r.remove(W)}let F=0;function V(){F=0}function Y(){const W=F;return W>=i.maxTextures&&yt("WebGLTextures: Trying to use "+W+" texture units while this GPU supports only "+i.maxTextures),F+=1,W}function G(W){const U=[];return U.push(W.wrapS),U.push(W.wrapT),U.push(W.wrapR||0),U.push(W.magFilter),U.push(W.minFilter),U.push(W.anisotropy),U.push(W.internalFormat),U.push(W.format),U.push(W.type),U.push(W.generateMipmaps),U.push(W.premultiplyAlpha),U.push(W.flipY),U.push(W.unpackAlignment),U.push(W.colorSpace),U.join()}function ee(W,U){const de=r.get(W);if(W.isVideoTexture&&pt(W),W.isRenderTargetTexture===!1&&W.isExternalTexture!==!0&&W.version>0&&de.__version!==W.version){const be=W.image;if(be===null)yt("WebGLRenderer: Texture marked for update but no image data found.");else if(be.complete===!1)yt("WebGLRenderer: Texture marked for update but image is incomplete");else{ae(de,W,U);return}}else W.isExternalTexture&&(de.__webglTexture=W.sourceTexture?W.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,de.__webglTexture,t.TEXTURE0+U)}function Q(W,U){const de=r.get(W);if(W.isRenderTargetTexture===!1&&W.version>0&&de.__version!==W.version){ae(de,W,U);return}else W.isExternalTexture&&(de.__webglTexture=W.sourceTexture?W.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,de.__webglTexture,t.TEXTURE0+U)}function ie(W,U){const de=r.get(W);if(W.isRenderTargetTexture===!1&&W.version>0&&de.__version!==W.version){ae(de,W,U);return}n.bindTexture(t.TEXTURE_3D,de.__webglTexture,t.TEXTURE0+U)}function z(W,U){const de=r.get(W);if(W.version>0&&de.__version!==W.version){fe(de,W,U);return}n.bindTexture(t.TEXTURE_CUBE_MAP,de.__webglTexture,t.TEXTURE0+U)}const H={[vm]:t.REPEAT,[hr]:t.CLAMP_TO_EDGE,[xm]:t.MIRRORED_REPEAT},$={[$r]:t.NEAREST,[iA]:t.NEAREST_MIPMAP_NEAREST,[Gd]:t.NEAREST_MIPMAP_LINEAR,[An]:t.LINEAR,[Ip]:t.LINEAR_MIPMAP_NEAREST,[ko]:t.LINEAR_MIPMAP_LINEAR},oe={[F5]:t.NEVER,[H5]:t.ALWAYS,[k5]:t.LESS,[uA]:t.LEQUAL,[U5]:t.EQUAL,[V5]:t.GEQUAL,[B5]:t.GREATER,[z5]:t.NOTEQUAL};function pe(W,U){if(U.type===nr&&e.has("OES_texture_float_linear")===!1&&(U.magFilter===An||U.magFilter===Ip||U.magFilter===Gd||U.magFilter===ko||U.minFilter===An||U.minFilter===Ip||U.minFilter===Gd||U.minFilter===ko)&&yt("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(W,t.TEXTURE_WRAP_S,H[U.wrapS]),t.texParameteri(W,t.TEXTURE_WRAP_T,H[U.wrapT]),(W===t.TEXTURE_3D||W===t.TEXTURE_2D_ARRAY)&&t.texParameteri(W,t.TEXTURE_WRAP_R,H[U.wrapR]),t.texParameteri(W,t.TEXTURE_MAG_FILTER,$[U.magFilter]),t.texParameteri(W,t.TEXTURE_MIN_FILTER,$[U.minFilter]),U.compareFunction&&(t.texParameteri(W,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(W,t.TEXTURE_COMPARE_FUNC,oe[U.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(U.magFilter===$r||U.minFilter!==Gd&&U.minFilter!==ko||U.type===nr&&e.has("OES_texture_float_linear")===!1)return;if(U.anisotropy>1||r.get(U).__currentAnisotropy){const de=e.get("EXT_texture_filter_anisotropic");t.texParameterf(W,de.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(U.anisotropy,i.getMaxAnisotropy())),r.get(U).__currentAnisotropy=U.anisotropy}}}function Me(W,U){let de=!1;W.__webglInit===void 0&&(W.__webglInit=!0,U.addEventListener("dispose",R));const be=U.source;let Ne=p.get(be);Ne===void 0&&(Ne={},p.set(be,Ne));const we=G(U);if(we!==W.__cacheKey){Ne[we]===void 0&&(Ne[we]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,de=!0),Ne[we].usedTimes++;const gt=Ne[W.__cacheKey];gt!==void 0&&(Ne[W.__cacheKey].usedTimes--,gt.usedTimes===0&&N(U)),W.__cacheKey=we,W.__webglTexture=Ne[we].texture}return de}function Ue(W,U,de){return Math.floor(Math.floor(W/de)/U)}function at(W,U,de,be){const we=W.updateRanges;if(we.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,U.width,U.height,de,be,U.data);else{we.sort((Pe,He)=>Pe.start-He.start);let gt=0;for(let Pe=1;Pe<we.length;Pe++){const He=we[gt],Bt=we[Pe],Tt=He.start+He.count,lt=Ue(Bt.start,U.width,4),St=Ue(He.start,U.width,4);Bt.start<=Tt+1&&lt===St&&Ue(Bt.start+Bt.count-1,U.width,4)===lt?He.count=Math.max(He.count,Bt.start+Bt.count-He.start):(++gt,we[gt]=Bt)}we.length=gt+1;const tt=t.getParameter(t.UNPACK_ROW_LENGTH),Rt=t.getParameter(t.UNPACK_SKIP_PIXELS),wt=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,U.width);for(let Pe=0,He=we.length;Pe<He;Pe++){const Bt=we[Pe],Tt=Math.floor(Bt.start/4),lt=Math.ceil(Bt.count/4),St=Tt%U.width,ne=Math.floor(Tt/U.width),ye=lt,Je=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,St),t.pixelStorei(t.UNPACK_SKIP_ROWS,ne),n.texSubImage2D(t.TEXTURE_2D,0,St,ne,ye,Je,de,be,U.data)}W.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,tt),t.pixelStorei(t.UNPACK_SKIP_PIXELS,Rt),t.pixelStorei(t.UNPACK_SKIP_ROWS,wt)}}function ae(W,U,de){let be=t.TEXTURE_2D;(U.isDataArrayTexture||U.isCompressedArrayTexture)&&(be=t.TEXTURE_2D_ARRAY),U.isData3DTexture&&(be=t.TEXTURE_3D);const Ne=Me(W,U),we=U.source;n.bindTexture(be,W.__webglTexture,t.TEXTURE0+de);const gt=r.get(we);if(we.version!==gt.__version||Ne===!0){n.activeTexture(t.TEXTURE0+de);const tt=vn.getPrimaries(vn.workingColorSpace),Rt=U.colorSpace===xa?null:vn.getPrimaries(U.colorSpace),wt=U.colorSpace===xa||tt===Rt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,U.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,U.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,U.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,wt);let Pe=x(U.image,!1,i.maxTextureSize);Pe=et(U,Pe);const He=s.convert(U.format,U.colorSpace),Bt=s.convert(U.type);let Tt=S(U.internalFormat,He,Bt,U.colorSpace,U.isVideoTexture);pe(be,U);let lt;const St=U.mipmaps,ne=U.isVideoTexture!==!0,ye=gt.__version===void 0||Ne===!0,Je=we.dataReady,nt=A(U,Pe);if(U.isDepthTexture)Tt=M(U.format===Lf,U.type),ye&&(ne?n.texStorage2D(t.TEXTURE_2D,1,Tt,Pe.width,Pe.height):n.texImage2D(t.TEXTURE_2D,0,Tt,Pe.width,Pe.height,0,He,Bt,null));else if(U.isDataTexture)if(St.length>0){ne&&ye&&n.texStorage2D(t.TEXTURE_2D,nt,Tt,St[0].width,St[0].height);for(let Ge=0,Le=St.length;Ge<Le;Ge++)lt=St[Ge],ne?Je&&n.texSubImage2D(t.TEXTURE_2D,Ge,0,0,lt.width,lt.height,He,Bt,lt.data):n.texImage2D(t.TEXTURE_2D,Ge,Tt,lt.width,lt.height,0,He,Bt,lt.data);U.generateMipmaps=!1}else ne?(ye&&n.texStorage2D(t.TEXTURE_2D,nt,Tt,Pe.width,Pe.height),Je&&at(U,Pe,He,Bt)):n.texImage2D(t.TEXTURE_2D,0,Tt,Pe.width,Pe.height,0,He,Bt,Pe.data);else if(U.isCompressedTexture)if(U.isCompressedArrayTexture){ne&&ye&&n.texStorage3D(t.TEXTURE_2D_ARRAY,nt,Tt,St[0].width,St[0].height,Pe.depth);for(let Ge=0,Le=St.length;Ge<Le;Ge++)if(lt=St[Ge],U.format!==vr)if(He!==null)if(ne){if(Je)if(U.layerUpdates.size>0){const ke=BE(lt.width,lt.height,U.format,U.type);for(const mt of U.layerUpdates){const Ut=lt.data.subarray(mt*ke/lt.data.BYTES_PER_ELEMENT,(mt+1)*ke/lt.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ge,0,0,mt,lt.width,lt.height,1,He,Ut)}U.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ge,0,0,0,lt.width,lt.height,Pe.depth,He,lt.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ge,Tt,lt.width,lt.height,Pe.depth,0,lt.data,0,0);else yt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ne?Je&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ge,0,0,0,lt.width,lt.height,Pe.depth,He,Bt,lt.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ge,Tt,lt.width,lt.height,Pe.depth,0,He,Bt,lt.data)}else{ne&&ye&&n.texStorage2D(t.TEXTURE_2D,nt,Tt,St[0].width,St[0].height);for(let Ge=0,Le=St.length;Ge<Le;Ge++)lt=St[Ge],U.format!==vr?He!==null?ne?Je&&n.compressedTexSubImage2D(t.TEXTURE_2D,Ge,0,0,lt.width,lt.height,He,lt.data):n.compressedTexImage2D(t.TEXTURE_2D,Ge,Tt,lt.width,lt.height,0,lt.data):yt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ne?Je&&n.texSubImage2D(t.TEXTURE_2D,Ge,0,0,lt.width,lt.height,He,Bt,lt.data):n.texImage2D(t.TEXTURE_2D,Ge,Tt,lt.width,lt.height,0,He,Bt,lt.data)}else if(U.isDataArrayTexture)if(ne){if(ye&&n.texStorage3D(t.TEXTURE_2D_ARRAY,nt,Tt,Pe.width,Pe.height,Pe.depth),Je)if(U.layerUpdates.size>0){const Ge=BE(Pe.width,Pe.height,U.format,U.type);for(const Le of U.layerUpdates){const ke=Pe.data.subarray(Le*Ge/Pe.data.BYTES_PER_ELEMENT,(Le+1)*Ge/Pe.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Le,Pe.width,Pe.height,1,He,Bt,ke)}U.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Pe.width,Pe.height,Pe.depth,He,Bt,Pe.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Tt,Pe.width,Pe.height,Pe.depth,0,He,Bt,Pe.data);else if(U.isData3DTexture)ne?(ye&&n.texStorage3D(t.TEXTURE_3D,nt,Tt,Pe.width,Pe.height,Pe.depth),Je&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Pe.width,Pe.height,Pe.depth,He,Bt,Pe.data)):n.texImage3D(t.TEXTURE_3D,0,Tt,Pe.width,Pe.height,Pe.depth,0,He,Bt,Pe.data);else if(U.isFramebufferTexture){if(ye)if(ne)n.texStorage2D(t.TEXTURE_2D,nt,Tt,Pe.width,Pe.height);else{let Ge=Pe.width,Le=Pe.height;for(let ke=0;ke<nt;ke++)n.texImage2D(t.TEXTURE_2D,ke,Tt,Ge,Le,0,He,Bt,null),Ge>>=1,Le>>=1}}else if(St.length>0){if(ne&&ye){const Ge=vt(St[0]);n.texStorage2D(t.TEXTURE_2D,nt,Tt,Ge.width,Ge.height)}for(let Ge=0,Le=St.length;Ge<Le;Ge++)lt=St[Ge],ne?Je&&n.texSubImage2D(t.TEXTURE_2D,Ge,0,0,He,Bt,lt):n.texImage2D(t.TEXTURE_2D,Ge,Tt,He,Bt,lt);U.generateMipmaps=!1}else if(ne){if(ye){const Ge=vt(Pe);n.texStorage2D(t.TEXTURE_2D,nt,Tt,Ge.width,Ge.height)}Je&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,He,Bt,Pe)}else n.texImage2D(t.TEXTURE_2D,0,Tt,He,Bt,Pe);y(U)&&g(be),gt.__version=we.version,U.onUpdate&&U.onUpdate(U)}W.__version=U.version}function fe(W,U,de){if(U.image.length!==6)return;const be=Me(W,U),Ne=U.source;n.bindTexture(t.TEXTURE_CUBE_MAP,W.__webglTexture,t.TEXTURE0+de);const we=r.get(Ne);if(Ne.version!==we.__version||be===!0){n.activeTexture(t.TEXTURE0+de);const gt=vn.getPrimaries(vn.workingColorSpace),tt=U.colorSpace===xa?null:vn.getPrimaries(U.colorSpace),Rt=U.colorSpace===xa||gt===tt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,U.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,U.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,U.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Rt);const wt=U.isCompressedTexture||U.image[0].isCompressedTexture,Pe=U.image[0]&&U.image[0].isDataTexture,He=[];for(let Le=0;Le<6;Le++)!wt&&!Pe?He[Le]=x(U.image[Le],!0,i.maxCubemapSize):He[Le]=Pe?U.image[Le].image:U.image[Le],He[Le]=et(U,He[Le]);const Bt=He[0],Tt=s.convert(U.format,U.colorSpace),lt=s.convert(U.type),St=S(U.internalFormat,Tt,lt,U.colorSpace),ne=U.isVideoTexture!==!0,ye=we.__version===void 0||be===!0,Je=Ne.dataReady;let nt=A(U,Bt);pe(t.TEXTURE_CUBE_MAP,U);let Ge;if(wt){ne&&ye&&n.texStorage2D(t.TEXTURE_CUBE_MAP,nt,St,Bt.width,Bt.height);for(let Le=0;Le<6;Le++){Ge=He[Le].mipmaps;for(let ke=0;ke<Ge.length;ke++){const mt=Ge[ke];U.format!==vr?Tt!==null?ne?Je&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,ke,0,0,mt.width,mt.height,Tt,mt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,ke,St,mt.width,mt.height,0,mt.data):yt("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ne?Je&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,ke,0,0,mt.width,mt.height,Tt,lt,mt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,ke,St,mt.width,mt.height,0,Tt,lt,mt.data)}}}else{if(Ge=U.mipmaps,ne&&ye){Ge.length>0&&nt++;const Le=vt(He[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,nt,St,Le.width,Le.height)}for(let Le=0;Le<6;Le++)if(Pe){ne?Je&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,0,0,He[Le].width,He[Le].height,Tt,lt,He[Le].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,St,He[Le].width,He[Le].height,0,Tt,lt,He[Le].data);for(let ke=0;ke<Ge.length;ke++){const Ut=Ge[ke].image[Le].image;ne?Je&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,ke+1,0,0,Ut.width,Ut.height,Tt,lt,Ut.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,ke+1,St,Ut.width,Ut.height,0,Tt,lt,Ut.data)}}else{ne?Je&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,0,0,Tt,lt,He[Le]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,St,Tt,lt,He[Le]);for(let ke=0;ke<Ge.length;ke++){const mt=Ge[ke];ne?Je&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,ke+1,0,0,Tt,lt,mt.image[Le]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,ke+1,St,Tt,lt,mt.image[Le])}}}y(U)&&g(t.TEXTURE_CUBE_MAP),we.__version=Ne.version,U.onUpdate&&U.onUpdate(U)}W.__version=U.version}function je(W,U,de,be,Ne,we){const gt=s.convert(de.format,de.colorSpace),tt=s.convert(de.type),Rt=S(de.internalFormat,gt,tt,de.colorSpace),wt=r.get(U),Pe=r.get(de);if(Pe.__renderTarget=U,!wt.__hasExternalTextures){const He=Math.max(1,U.width>>we),Bt=Math.max(1,U.height>>we);Ne===t.TEXTURE_3D||Ne===t.TEXTURE_2D_ARRAY?n.texImage3D(Ne,we,Rt,He,Bt,U.depth,0,gt,tt,null):n.texImage2D(Ne,we,Rt,He,Bt,0,gt,tt,null)}n.bindFramebuffer(t.FRAMEBUFFER,W),Fe(U)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,be,Ne,Pe.__webglTexture,0,qe(U)):(Ne===t.TEXTURE_2D||Ne>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ne<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,be,Ne,Pe.__webglTexture,we),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ct(W,U,de){if(t.bindRenderbuffer(t.RENDERBUFFER,W),U.depthBuffer){const be=U.depthTexture,Ne=be&&be.isDepthTexture?be.type:null,we=M(U.stencilBuffer,Ne),gt=U.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,tt=qe(U);Fe(U)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,tt,we,U.width,U.height):de?t.renderbufferStorageMultisample(t.RENDERBUFFER,tt,we,U.width,U.height):t.renderbufferStorage(t.RENDERBUFFER,we,U.width,U.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,gt,t.RENDERBUFFER,W)}else{const be=U.textures;for(let Ne=0;Ne<be.length;Ne++){const we=be[Ne],gt=s.convert(we.format,we.colorSpace),tt=s.convert(we.type),Rt=S(we.internalFormat,gt,tt,we.colorSpace),wt=qe(U);de&&Fe(U)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,wt,Rt,U.width,U.height):Fe(U)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,wt,Rt,U.width,U.height):t.renderbufferStorage(t.RENDERBUFFER,Rt,U.width,U.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function st(W,U){if(U&&U.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,W),!(U.depthTexture&&U.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const be=r.get(U.depthTexture);be.__renderTarget=U,(!be.__webglTexture||U.depthTexture.image.width!==U.width||U.depthTexture.image.height!==U.height)&&(U.depthTexture.image.width=U.width,U.depthTexture.image.height=U.height,U.depthTexture.needsUpdate=!0),ee(U.depthTexture,0);const Ne=be.__webglTexture,we=qe(U);if(U.depthTexture.format===Df)Fe(U)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ne,0,we):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ne,0);else if(U.depthTexture.format===Lf)Fe(U)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ne,0,we):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ne,0);else throw new Error("Unknown depthTexture format")}function ut(W){const U=r.get(W),de=W.isWebGLCubeRenderTarget===!0;if(U.__boundDepthTexture!==W.depthTexture){const be=W.depthTexture;if(U.__depthDisposeCallback&&U.__depthDisposeCallback(),be){const Ne=()=>{delete U.__boundDepthTexture,delete U.__depthDisposeCallback,be.removeEventListener("dispose",Ne)};be.addEventListener("dispose",Ne),U.__depthDisposeCallback=Ne}U.__boundDepthTexture=be}if(W.depthTexture&&!U.__autoAllocateDepthBuffer){if(de)throw new Error("target.depthTexture not supported in Cube render targets");const be=W.texture.mipmaps;be&&be.length>0?st(U.__webglFramebuffer[0],W):st(U.__webglFramebuffer,W)}else if(de){U.__webglDepthbuffer=[];for(let be=0;be<6;be++)if(n.bindFramebuffer(t.FRAMEBUFFER,U.__webglFramebuffer[be]),U.__webglDepthbuffer[be]===void 0)U.__webglDepthbuffer[be]=t.createRenderbuffer(),ct(U.__webglDepthbuffer[be],W,!1);else{const Ne=W.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,we=U.__webglDepthbuffer[be];t.bindRenderbuffer(t.RENDERBUFFER,we),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ne,t.RENDERBUFFER,we)}}else{const be=W.texture.mipmaps;if(be&&be.length>0?n.bindFramebuffer(t.FRAMEBUFFER,U.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,U.__webglFramebuffer),U.__webglDepthbuffer===void 0)U.__webglDepthbuffer=t.createRenderbuffer(),ct(U.__webglDepthbuffer,W,!1);else{const Ne=W.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,we=U.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,we),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ne,t.RENDERBUFFER,we)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Be(W,U,de){const be=r.get(W);U!==void 0&&je(be.__webglFramebuffer,W,W.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),de!==void 0&&ut(W)}function Ye(W){const U=W.texture,de=r.get(W),be=r.get(U);W.addEventListener("dispose",C);const Ne=W.textures,we=W.isWebGLCubeRenderTarget===!0,gt=Ne.length>1;if(gt||(be.__webglTexture===void 0&&(be.__webglTexture=t.createTexture()),be.__version=U.version,o.memory.textures++),we){de.__webglFramebuffer=[];for(let tt=0;tt<6;tt++)if(U.mipmaps&&U.mipmaps.length>0){de.__webglFramebuffer[tt]=[];for(let Rt=0;Rt<U.mipmaps.length;Rt++)de.__webglFramebuffer[tt][Rt]=t.createFramebuffer()}else de.__webglFramebuffer[tt]=t.createFramebuffer()}else{if(U.mipmaps&&U.mipmaps.length>0){de.__webglFramebuffer=[];for(let tt=0;tt<U.mipmaps.length;tt++)de.__webglFramebuffer[tt]=t.createFramebuffer()}else de.__webglFramebuffer=t.createFramebuffer();if(gt)for(let tt=0,Rt=Ne.length;tt<Rt;tt++){const wt=r.get(Ne[tt]);wt.__webglTexture===void 0&&(wt.__webglTexture=t.createTexture(),o.memory.textures++)}if(W.samples>0&&Fe(W)===!1){de.__webglMultisampledFramebuffer=t.createFramebuffer(),de.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,de.__webglMultisampledFramebuffer);for(let tt=0;tt<Ne.length;tt++){const Rt=Ne[tt];de.__webglColorRenderbuffer[tt]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,de.__webglColorRenderbuffer[tt]);const wt=s.convert(Rt.format,Rt.colorSpace),Pe=s.convert(Rt.type),He=S(Rt.internalFormat,wt,Pe,Rt.colorSpace,W.isXRRenderTarget===!0),Bt=qe(W);t.renderbufferStorageMultisample(t.RENDERBUFFER,Bt,He,W.width,W.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+tt,t.RENDERBUFFER,de.__webglColorRenderbuffer[tt])}t.bindRenderbuffer(t.RENDERBUFFER,null),W.depthBuffer&&(de.__webglDepthRenderbuffer=t.createRenderbuffer(),ct(de.__webglDepthRenderbuffer,W,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(we){n.bindTexture(t.TEXTURE_CUBE_MAP,be.__webglTexture),pe(t.TEXTURE_CUBE_MAP,U);for(let tt=0;tt<6;tt++)if(U.mipmaps&&U.mipmaps.length>0)for(let Rt=0;Rt<U.mipmaps.length;Rt++)je(de.__webglFramebuffer[tt][Rt],W,U,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Rt);else je(de.__webglFramebuffer[tt],W,U,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0);y(U)&&g(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(gt){for(let tt=0,Rt=Ne.length;tt<Rt;tt++){const wt=Ne[tt],Pe=r.get(wt);let He=t.TEXTURE_2D;(W.isWebGL3DRenderTarget||W.isWebGLArrayRenderTarget)&&(He=W.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(He,Pe.__webglTexture),pe(He,wt),je(de.__webglFramebuffer,W,wt,t.COLOR_ATTACHMENT0+tt,He,0),y(wt)&&g(He)}n.unbindTexture()}else{let tt=t.TEXTURE_2D;if((W.isWebGL3DRenderTarget||W.isWebGLArrayRenderTarget)&&(tt=W.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(tt,be.__webglTexture),pe(tt,U),U.mipmaps&&U.mipmaps.length>0)for(let Rt=0;Rt<U.mipmaps.length;Rt++)je(de.__webglFramebuffer[Rt],W,U,t.COLOR_ATTACHMENT0,tt,Rt);else je(de.__webglFramebuffer,W,U,t.COLOR_ATTACHMENT0,tt,0);y(U)&&g(tt),n.unbindTexture()}W.depthBuffer&&ut(W)}function Te(W){const U=W.textures;for(let de=0,be=U.length;de<be;de++){const Ne=U[de];if(y(Ne)){const we=_(W),gt=r.get(Ne).__webglTexture;n.bindTexture(we,gt),g(we),n.unbindTexture()}}}const j=[],Ae=[];function Ve(W){if(W.samples>0){if(Fe(W)===!1){const U=W.textures,de=W.width,be=W.height;let Ne=t.COLOR_BUFFER_BIT;const we=W.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,gt=r.get(W),tt=U.length>1;if(tt)for(let wt=0;wt<U.length;wt++)n.bindFramebuffer(t.FRAMEBUFFER,gt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+wt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,gt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+wt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,gt.__webglMultisampledFramebuffer);const Rt=W.texture.mipmaps;Rt&&Rt.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,gt.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,gt.__webglFramebuffer);for(let wt=0;wt<U.length;wt++){if(W.resolveDepthBuffer&&(W.depthBuffer&&(Ne|=t.DEPTH_BUFFER_BIT),W.stencilBuffer&&W.resolveStencilBuffer&&(Ne|=t.STENCIL_BUFFER_BIT)),tt){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,gt.__webglColorRenderbuffer[wt]);const Pe=r.get(U[wt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Pe,0)}t.blitFramebuffer(0,0,de,be,0,0,de,be,Ne,t.NEAREST),l===!0&&(j.length=0,Ae.length=0,j.push(t.COLOR_ATTACHMENT0+wt),W.depthBuffer&&W.resolveDepthBuffer===!1&&(j.push(we),Ae.push(we),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Ae)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,j))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),tt)for(let wt=0;wt<U.length;wt++){n.bindFramebuffer(t.FRAMEBUFFER,gt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+wt,t.RENDERBUFFER,gt.__webglColorRenderbuffer[wt]);const Pe=r.get(U[wt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,gt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+wt,t.TEXTURE_2D,Pe,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,gt.__webglMultisampledFramebuffer)}else if(W.depthBuffer&&W.resolveDepthBuffer===!1&&l){const U=W.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[U])}}}function qe(W){return Math.min(i.maxSamples,W.samples)}function Fe(W){const U=r.get(W);return W.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&U.__useRenderToTexture!==!1}function pt(W){const U=o.render.frame;u.get(W)!==U&&(u.set(W,U),W.update())}function et(W,U){const de=W.colorSpace,be=W.format,Ne=W.type;return W.isCompressedTexture===!0||W.isVideoTexture===!0||de!==Yo&&de!==xa&&(vn.getTransfer(de)===Dn?(be!==vr||Ne!==bi)&&yt("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Zt("WebGLTextures: Unsupported texture color space:",de)),U}function vt(W){return typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement?(c.width=W.naturalWidth||W.width,c.height=W.naturalHeight||W.height):typeof VideoFrame<"u"&&W instanceof VideoFrame?(c.width=W.displayWidth,c.height=W.displayHeight):(c.width=W.width,c.height=W.height),c}this.allocateTextureUnit=Y,this.resetTextureUnits=V,this.setTexture2D=ee,this.setTexture2DArray=Q,this.setTexture3D=ie,this.setTextureCube=z,this.rebindTextures=Be,this.setupRenderTarget=Ye,this.updateRenderTargetMipmap=Te,this.updateMultisampleRenderTarget=Ve,this.setupDepthRenderbuffer=ut,this.setupFrameBufferTexture=je,this.useMultisampledRTT=Fe}function tV(t,e){function n(r,i=xa){let s;const o=vn.getTransfer(i);if(r===bi)return t.UNSIGNED_BYTE;if(r===D_)return t.UNSIGNED_SHORT_4_4_4_4;if(r===L_)return t.UNSIGNED_SHORT_5_5_5_1;if(r===sA)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===oA)return t.UNSIGNED_INT_10F_11F_11F_REV;if(r===I_)return t.BYTE;if(r===N_)return t.SHORT;if(r===If)return t.UNSIGNED_SHORT;if(r===ag)return t.INT;if(r===$o)return t.UNSIGNED_INT;if(r===nr)return t.FLOAT;if(r===Ir)return t.HALF_FLOAT;if(r===aA)return t.ALPHA;if(r===lA)return t.RGB;if(r===vr)return t.RGBA;if(r===Df)return t.DEPTH_COMPONENT;if(r===Lf)return t.DEPTH_STENCIL;if(r===lg)return t.RED;if(r===cg)return t.RED_INTEGER;if(r===O_)return t.RG;if(r===F_)return t.RG_INTEGER;if(r===k_)return t.RGBA_INTEGER;if(r===Np||r===Dp||r===Lp||r===Op)if(o===Dn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===Np)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Dp)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Lp)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Op)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===Np)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Dp)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Lp)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Op)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===fy||r===hy||r===py||r===my)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===fy)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===hy)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===py)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===my)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===gy||r===vy||r===xy)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===gy||r===vy)return o===Dn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===xy)return o===Dn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===yy||r===_y||r===wy||r===Sy||r===by||r===My||r===Ey||r===Ty||r===Cy||r===Ay||r===Ry||r===Py||r===Iy||r===Ny)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===yy)return o===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===_y)return o===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===wy)return o===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===Sy)return o===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===by)return o===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===My)return o===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===Ey)return o===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===Ty)return o===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===Cy)return o===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===Ay)return o===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Ry)return o===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===Py)return o===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===Iy)return o===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Ny)return o===Dn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Dy||r===Ly||r===Oy)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===Dy)return o===Dn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===Ly)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===Oy)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===Fy||r===ky||r===Uy||r===By)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===Fy)return s.COMPRESSED_RED_RGTC1_EXT;if(r===ky)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Uy)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===By)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Nf?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const rue=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,iue=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class sue{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const r=new _A(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Mi({vertexShader:rue,fragmentShader:iue,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new or(new ic(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class oue extends Ko{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,p=null,m=null,v=null;const x=typeof XRWebGLBinding<"u",y=new sue,g={},_=n.getContextAttributes();let S=null,M=null;const A=[],R=[],C=new Xe;let D=null;const N=new zr;N.viewport=new Sn;const I=new zr;I.viewport=new Sn;const F=[N,I],V=new Wz;let Y=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ae){let fe=A[ae];return fe===void 0&&(fe=new fx,A[ae]=fe),fe.getTargetRaySpace()},this.getControllerGrip=function(ae){let fe=A[ae];return fe===void 0&&(fe=new fx,A[ae]=fe),fe.getGripSpace()},this.getHand=function(ae){let fe=A[ae];return fe===void 0&&(fe=new fx,A[ae]=fe),fe.getHandSpace()};function ee(ae){const fe=R.indexOf(ae.inputSource);if(fe===-1)return;const je=A[fe];je!==void 0&&(je.update(ae.inputSource,ae.frame,c||o),je.dispatchEvent({type:ae.type,data:ae.inputSource}))}function Q(){i.removeEventListener("select",ee),i.removeEventListener("selectstart",ee),i.removeEventListener("selectend",ee),i.removeEventListener("squeeze",ee),i.removeEventListener("squeezestart",ee),i.removeEventListener("squeezeend",ee),i.removeEventListener("end",Q),i.removeEventListener("inputsourceschange",ie);for(let ae=0;ae<A.length;ae++){const fe=R[ae];fe!==null&&(R[ae]=null,A[ae].disconnect(fe))}Y=null,G=null,y.reset();for(const ae in g)delete g[ae];e.setRenderTarget(S),m=null,p=null,d=null,i=null,M=null,at.stop(),r.isPresenting=!1,e.setPixelRatio(D),e.setSize(C.width,C.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ae){s=ae,r.isPresenting===!0&&yt("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ae){a=ae,r.isPresenting===!0&&yt("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(ae){c=ae},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return d===null&&x&&(d=new XRWebGLBinding(i,n)),d},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(ae){if(i=ae,i!==null){if(S=e.getRenderTarget(),i.addEventListener("select",ee),i.addEventListener("selectstart",ee),i.addEventListener("selectend",ee),i.addEventListener("squeeze",ee),i.addEventListener("squeezestart",ee),i.addEventListener("squeezeend",ee),i.addEventListener("end",Q),i.addEventListener("inputsourceschange",ie),_.xrCompatible!==!0&&await n.makeXRCompatible(),D=e.getPixelRatio(),e.getSize(C),x&&"createProjectionLayer"in XRWebGLBinding.prototype){let je=null,ct=null,st=null;_.depth&&(st=_.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,je=_.stencil?Lf:Df,ct=_.stencil?Nf:$o);const ut={colorFormat:n.RGBA8,depthFormat:st,scaleFactor:s};d=this.getBinding(),p=d.createProjectionLayer(ut),i.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),M=new Us(p.textureWidth,p.textureHeight,{format:vr,type:bi,depthTexture:new yA(p.textureWidth,p.textureHeight,ct,void 0,void 0,void 0,void 0,void 0,void 0,je),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}else{const je={antialias:_.antialias,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,je),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),M=new Us(m.framebufferWidth,m.framebufferHeight,{format:vr,type:bi,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}M.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),at.setContext(i),at.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};function ie(ae){for(let fe=0;fe<ae.removed.length;fe++){const je=ae.removed[fe],ct=R.indexOf(je);ct>=0&&(R[ct]=null,A[ct].disconnect(je))}for(let fe=0;fe<ae.added.length;fe++){const je=ae.added[fe];let ct=R.indexOf(je);if(ct===-1){for(let ut=0;ut<A.length;ut++)if(ut>=R.length){R.push(je),ct=ut;break}else if(R[ut]===null){R[ut]=je,ct=ut;break}if(ct===-1)break}const st=A[ct];st&&st.connect(je)}}const z=new X,H=new X;function $(ae,fe,je){z.setFromMatrixPosition(fe.matrixWorld),H.setFromMatrixPosition(je.matrixWorld);const ct=z.distanceTo(H),st=fe.projectionMatrix.elements,ut=je.projectionMatrix.elements,Be=st[14]/(st[10]-1),Ye=st[14]/(st[10]+1),Te=(st[9]+1)/st[5],j=(st[9]-1)/st[5],Ae=(st[8]-1)/st[0],Ve=(ut[8]+1)/ut[0],qe=Be*Ae,Fe=Be*Ve,pt=ct/(-Ae+Ve),et=pt*-Ae;if(fe.matrixWorld.decompose(ae.position,ae.quaternion,ae.scale),ae.translateX(et),ae.translateZ(pt),ae.matrixWorld.compose(ae.position,ae.quaternion,ae.scale),ae.matrixWorldInverse.copy(ae.matrixWorld).invert(),st[10]===-1)ae.projectionMatrix.copy(fe.projectionMatrix),ae.projectionMatrixInverse.copy(fe.projectionMatrixInverse);else{const vt=Be+pt,W=Ye+pt,U=qe-et,de=Fe+(ct-et),be=Te*Ye/W*vt,Ne=j*Ye/W*vt;ae.projectionMatrix.makePerspective(U,de,be,Ne,vt,W),ae.projectionMatrixInverse.copy(ae.projectionMatrix).invert()}}function oe(ae,fe){fe===null?ae.matrixWorld.copy(ae.matrix):ae.matrixWorld.multiplyMatrices(fe.matrixWorld,ae.matrix),ae.matrixWorldInverse.copy(ae.matrixWorld).invert()}this.updateCamera=function(ae){if(i===null)return;let fe=ae.near,je=ae.far;y.texture!==null&&(y.depthNear>0&&(fe=y.depthNear),y.depthFar>0&&(je=y.depthFar)),V.near=I.near=N.near=fe,V.far=I.far=N.far=je,(Y!==V.near||G!==V.far)&&(i.updateRenderState({depthNear:V.near,depthFar:V.far}),Y=V.near,G=V.far),V.layers.mask=ae.layers.mask|6,N.layers.mask=V.layers.mask&3,I.layers.mask=V.layers.mask&5;const ct=ae.parent,st=V.cameras;oe(V,ct);for(let ut=0;ut<st.length;ut++)oe(st[ut],ct);st.length===2?$(V,N,I):V.projectionMatrix.copy(N.projectionMatrix),pe(ae,V,ct)};function pe(ae,fe,je){je===null?ae.matrix.copy(fe.matrixWorld):(ae.matrix.copy(je.matrixWorld),ae.matrix.invert(),ae.matrix.multiply(fe.matrixWorld)),ae.matrix.decompose(ae.position,ae.quaternion,ae.scale),ae.updateMatrixWorld(!0),ae.projectionMatrix.copy(fe.projectionMatrix),ae.projectionMatrixInverse.copy(fe.projectionMatrixInverse),ae.isPerspectiveCamera&&(ae.fov=kf*2*Math.atan(1/ae.projectionMatrix.elements[5]),ae.zoom=1)}this.getCamera=function(){return V},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(ae){l=ae,p!==null&&(p.fixedFoveation=ae),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=ae)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(V)},this.getCameraTexture=function(ae){return g[ae]};let Me=null;function Ue(ae,fe){if(u=fe.getViewerPose(c||o),v=fe,u!==null){const je=u.views;m!==null&&(e.setRenderTargetFramebuffer(M,m.framebuffer),e.setRenderTarget(M));let ct=!1;je.length!==V.cameras.length&&(V.cameras.length=0,ct=!0);for(let Ye=0;Ye<je.length;Ye++){const Te=je[Ye];let j=null;if(m!==null)j=m.getViewport(Te);else{const Ve=d.getViewSubImage(p,Te);j=Ve.viewport,Ye===0&&(e.setRenderTargetTextures(M,Ve.colorTexture,Ve.depthStencilTexture),e.setRenderTarget(M))}let Ae=F[Ye];Ae===void 0&&(Ae=new zr,Ae.layers.enable(Ye),Ae.viewport=new Sn,F[Ye]=Ae),Ae.matrix.fromArray(Te.transform.matrix),Ae.matrix.decompose(Ae.position,Ae.quaternion,Ae.scale),Ae.projectionMatrix.fromArray(Te.projectionMatrix),Ae.projectionMatrixInverse.copy(Ae.projectionMatrix).invert(),Ae.viewport.set(j.x,j.y,j.width,j.height),Ye===0&&(V.matrix.copy(Ae.matrix),V.matrix.decompose(V.position,V.quaternion,V.scale)),ct===!0&&V.cameras.push(Ae)}const st=i.enabledFeatures;if(st&&st.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&x){d=r.getBinding();const Ye=d.getDepthInformation(je[0]);Ye&&Ye.isValid&&Ye.texture&&y.init(Ye,i.renderState)}if(st&&st.includes("camera-access")&&x){e.state.unbindTexture(),d=r.getBinding();for(let Ye=0;Ye<je.length;Ye++){const Te=je[Ye].camera;if(Te){let j=g[Te];j||(j=new _A,g[Te]=j);const Ae=d.getCameraImage(Te);j.sourceTexture=Ae}}}}for(let je=0;je<A.length;je++){const ct=R[je],st=A[je];ct!==null&&st!==void 0&&st.update(ct,fe,c||o)}Me&&Me(ae,fe),fe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:fe}),v=null}const at=new Kz;at.setAnimationLoop(Ue),this.setAnimationLoop=function(ae){Me=ae},this.dispose=function(){}}}const Rc=new ds,aue=new Gt;function lue(t,e){function n(y,g){y.matrixAutoUpdate===!0&&y.updateMatrix(),g.value.copy(y.matrix)}function r(y,g){g.color.getRGB(y.fogColor.value,Y5(t)),g.isFog?(y.fogNear.value=g.near,y.fogFar.value=g.far):g.isFogExp2&&(y.fogDensity.value=g.density)}function i(y,g,_,S,M){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(y,g):g.isMeshToonMaterial?(s(y,g),d(y,g)):g.isMeshPhongMaterial?(s(y,g),u(y,g)):g.isMeshStandardMaterial?(s(y,g),p(y,g),g.isMeshPhysicalMaterial&&m(y,g,M)):g.isMeshMatcapMaterial?(s(y,g),v(y,g)):g.isMeshDepthMaterial?s(y,g):g.isMeshDistanceMaterial?(s(y,g),x(y,g)):g.isMeshNormalMaterial?s(y,g):g.isLineBasicMaterial?(o(y,g),g.isLineDashedMaterial&&a(y,g)):g.isPointsMaterial?l(y,g,_,S):g.isSpriteMaterial?c(y,g):g.isShadowMaterial?(y.color.value.copy(g.color),y.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(y,g){y.opacity.value=g.opacity,g.color&&y.diffuse.value.copy(g.color),g.emissive&&y.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.bumpMap&&(y.bumpMap.value=g.bumpMap,n(g.bumpMap,y.bumpMapTransform),y.bumpScale.value=g.bumpScale,g.side===wi&&(y.bumpScale.value*=-1)),g.normalMap&&(y.normalMap.value=g.normalMap,n(g.normalMap,y.normalMapTransform),y.normalScale.value.copy(g.normalScale),g.side===wi&&y.normalScale.value.negate()),g.displacementMap&&(y.displacementMap.value=g.displacementMap,n(g.displacementMap,y.displacementMapTransform),y.displacementScale.value=g.displacementScale,y.displacementBias.value=g.displacementBias),g.emissiveMap&&(y.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,y.emissiveMapTransform)),g.specularMap&&(y.specularMap.value=g.specularMap,n(g.specularMap,y.specularMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest);const _=e.get(g),S=_.envMap,M=_.envMapRotation;S&&(y.envMap.value=S,Rc.copy(M),Rc.x*=-1,Rc.y*=-1,Rc.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(Rc.y*=-1,Rc.z*=-1),y.envMapRotation.value.setFromMatrix4(aue.makeRotationFromEuler(Rc)),y.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=g.reflectivity,y.ior.value=g.ior,y.refractionRatio.value=g.refractionRatio),g.lightMap&&(y.lightMap.value=g.lightMap,y.lightMapIntensity.value=g.lightMapIntensity,n(g.lightMap,y.lightMapTransform)),g.aoMap&&(y.aoMap.value=g.aoMap,y.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,y.aoMapTransform))}function o(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform))}function a(y,g){y.dashSize.value=g.dashSize,y.totalSize.value=g.dashSize+g.gapSize,y.scale.value=g.scale}function l(y,g,_,S){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.size.value=g.size*_,y.scale.value=S*.5,g.map&&(y.map.value=g.map,n(g.map,y.uvTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function c(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.rotation.value=g.rotation,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function u(y,g){y.specular.value.copy(g.specular),y.shininess.value=Math.max(g.shininess,1e-4)}function d(y,g){g.gradientMap&&(y.gradientMap.value=g.gradientMap)}function p(y,g){y.metalness.value=g.metalness,g.metalnessMap&&(y.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,y.metalnessMapTransform)),y.roughness.value=g.roughness,g.roughnessMap&&(y.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,y.roughnessMapTransform)),g.envMap&&(y.envMapIntensity.value=g.envMapIntensity)}function m(y,g,_){y.ior.value=g.ior,g.sheen>0&&(y.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),y.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(y.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,y.sheenColorMapTransform)),g.sheenRoughnessMap&&(y.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,y.sheenRoughnessMapTransform))),g.clearcoat>0&&(y.clearcoat.value=g.clearcoat,y.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(y.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,y.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(y.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===wi&&y.clearcoatNormalScale.value.negate())),g.dispersion>0&&(y.dispersion.value=g.dispersion),g.iridescence>0&&(y.iridescence.value=g.iridescence,y.iridescenceIOR.value=g.iridescenceIOR,y.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(y.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,y.iridescenceMapTransform)),g.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),g.transmission>0&&(y.transmission.value=g.transmission,y.transmissionSamplerMap.value=_.texture,y.transmissionSamplerSize.value.set(_.width,_.height),g.transmissionMap&&(y.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,y.transmissionMapTransform)),y.thickness.value=g.thickness,g.thicknessMap&&(y.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=g.attenuationDistance,y.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(y.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(y.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=g.specularIntensity,y.specularColor.value.copy(g.specularColor),g.specularColorMap&&(y.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,y.specularColorMapTransform)),g.specularIntensityMap&&(y.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,y.specularIntensityMapTransform))}function v(y,g){g.matcap&&(y.matcap.value=g.matcap)}function x(y,g){const _=e.get(g).light;y.referencePosition.value.setFromMatrixPosition(_.matrixWorld),y.nearDistance.value=_.shadow.camera.near,y.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function cue(t,e,n,r){let i={},s={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(_,S){const M=S.program;r.uniformBlockBinding(_,M)}function c(_,S){let M=i[_.id];M===void 0&&(v(_),M=u(_),i[_.id]=M,_.addEventListener("dispose",y));const A=S.program;r.updateUBOMapping(_,A);const R=e.render.frame;s[_.id]!==R&&(p(_),s[_.id]=R)}function u(_){const S=d();_.__bindingPointIndex=S;const M=t.createBuffer(),A=_.__size,R=_.usage;return t.bindBuffer(t.UNIFORM_BUFFER,M),t.bufferData(t.UNIFORM_BUFFER,A,R),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,S,M),M}function d(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return Zt("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(_){const S=i[_.id],M=_.uniforms,A=_.__cache;t.bindBuffer(t.UNIFORM_BUFFER,S);for(let R=0,C=M.length;R<C;R++){const D=Array.isArray(M[R])?M[R]:[M[R]];for(let N=0,I=D.length;N<I;N++){const F=D[N];if(m(F,R,N,A)===!0){const V=F.__offset,Y=Array.isArray(F.value)?F.value:[F.value];let G=0;for(let ee=0;ee<Y.length;ee++){const Q=Y[ee],ie=x(Q);typeof Q=="number"||typeof Q=="boolean"?(F.__data[0]=Q,t.bufferSubData(t.UNIFORM_BUFFER,V+G,F.__data)):Q.isMatrix3?(F.__data[0]=Q.elements[0],F.__data[1]=Q.elements[1],F.__data[2]=Q.elements[2],F.__data[3]=0,F.__data[4]=Q.elements[3],F.__data[5]=Q.elements[4],F.__data[6]=Q.elements[5],F.__data[7]=0,F.__data[8]=Q.elements[6],F.__data[9]=Q.elements[7],F.__data[10]=Q.elements[8],F.__data[11]=0):(Q.toArray(F.__data,G),G+=ie.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,V,F.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(_,S,M,A){const R=_.value,C=S+"_"+M;if(A[C]===void 0)return typeof R=="number"||typeof R=="boolean"?A[C]=R:A[C]=R.clone(),!0;{const D=A[C];if(typeof R=="number"||typeof R=="boolean"){if(D!==R)return A[C]=R,!0}else if(D.equals(R)===!1)return D.copy(R),!0}return!1}function v(_){const S=_.uniforms;let M=0;const A=16;for(let C=0,D=S.length;C<D;C++){const N=Array.isArray(S[C])?S[C]:[S[C]];for(let I=0,F=N.length;I<F;I++){const V=N[I],Y=Array.isArray(V.value)?V.value:[V.value];for(let G=0,ee=Y.length;G<ee;G++){const Q=Y[G],ie=x(Q),z=M%A,H=z%ie.boundary,$=z+H;M+=H,$!==0&&A-$<ie.storage&&(M+=A-$),V.__data=new Float32Array(ie.storage/Float32Array.BYTES_PER_ELEMENT),V.__offset=M,M+=ie.storage}}}const R=M%A;return R>0&&(M+=A-R),_.__size=M,_.__cache={},this}function x(_){const S={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(S.boundary=4,S.storage=4):_.isVector2?(S.boundary=8,S.storage=8):_.isVector3||_.isColor?(S.boundary=16,S.storage=12):_.isVector4?(S.boundary=16,S.storage=16):_.isMatrix3?(S.boundary=48,S.storage=48):_.isMatrix4?(S.boundary=64,S.storage=64):_.isTexture?yt("WebGLRenderer: Texture samplers can not be part of an uniforms group."):yt("WebGLRenderer: Unsupported uniform value type.",_),S}function y(_){const S=_.target;S.removeEventListener("dispose",y);const M=o.indexOf(S.__bindingPointIndex);o.splice(M,1),t.deleteBuffer(i[S.id]),delete i[S.id],delete s[S.id]}function g(){for(const _ in i)t.deleteBuffer(i[_]);o=[],i={},s={}}return{bind:l,update:c,dispose:g}}const uue=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let fa=null;function due(){return fa===null&&(fa=new Ls(uue,32,32,O_,Ir),fa.minFilter=An,fa.magFilter=An,fa.wrapS=hr,fa.wrapT=hr,fa.generateMipmaps=!1,fa.needsUpdate=!0),fa}class HA{constructor(e={}){const{canvas:n=G5(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1,reversedDepthBuffer:p=!1}=e;this.isWebGLRenderer=!0;let m;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");m=r.getContextAttributes().alpha}else m=o;const v=new Set([k_,F_,cg]),x=new Set([bi,$o,If,Nf,D_,L_]),y=new Uint32Array(4),g=new Int32Array(4);let _=null,S=null;const M=[],A=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Go,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const R=this;let C=!1;this._outputColorSpace=vi;let D=0,N=0,I=null,F=-1,V=null;const Y=new Sn,G=new Sn;let ee=null;const Q=new Ct(0);let ie=0,z=n.width,H=n.height,$=1,oe=null,pe=null;const Me=new Sn(0,0,z,H),Ue=new Sn(0,0,z,H);let at=!1;const ae=new rh;let fe=!1,je=!1;const ct=new Gt,st=new X,ut=new Sn,Be={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ye=!1;function Te(){return I===null?$:1}let j=r;function Ae(k,q){return n.getContext(k,q)}try{const k={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${sg}`),n.addEventListener("webglcontextlost",Ge,!1),n.addEventListener("webglcontextrestored",Le,!1),n.addEventListener("webglcontextcreationerror",ke,!1),j===null){const q="webgl2";if(j=Ae(q,k),j===null)throw Ae(q)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(k){throw k("WebGLRenderer: "+k.message),k}let Ve,qe,Fe,pt,et,vt,W,U,de,be,Ne,we,gt,tt,Rt,wt,Pe,He,Bt,Tt,lt,St,ne,ye;function Je(){Ve=new wle(j),Ve.init(),St=new tV(j,Ve),qe=new fle(j,Ve,e,St),Fe=new tue(j,Ve),qe.reversedDepthBuffer&&p&&Fe.buffers.depth.setReversed(!0),pt=new Mle(j),et=new Hce,vt=new nue(j,Ve,Fe,et,qe,St,pt),W=new ple(R),U=new _le(R),de=new Ase(j),ne=new ule(j,de),be=new Sle(j,de,pt,ne),Ne=new Tle(j,be,de,pt),Bt=new Ele(j,qe,vt),wt=new hle(et),we=new Vce(R,W,U,Ve,qe,ne,wt),gt=new lue(R,et),tt=new Gce,Rt=new Kce(Ve),He=new cle(R,W,U,Fe,Ne,m,l),Pe=new Jce(R,Ne,qe),ye=new cue(j,pt,qe,Fe),Tt=new dle(j,Ve,pt),lt=new ble(j,Ve,pt),pt.programs=we.programs,R.capabilities=qe,R.extensions=Ve,R.properties=et,R.renderLists=tt,R.shadowMap=Pe,R.state=Fe,R.info=pt}Je();const nt=new oue(R,j);this.xr=nt,this.getContext=function(){return j},this.getContextAttributes=function(){return j.getContextAttributes()},this.forceContextLoss=function(){const k=Ve.get("WEBGL_lose_context");k&&k.loseContext()},this.forceContextRestore=function(){const k=Ve.get("WEBGL_lose_context");k&&k.restoreContext()},this.getPixelRatio=function(){return $},this.setPixelRatio=function(k){k!==void 0&&($=k,this.setSize(z,H,!1))},this.getSize=function(k){return k.set(z,H)},this.setSize=function(k,q,J=!0){if(nt.isPresenting){yt("WebGLRenderer: Can't change size while VR device is presenting.");return}z=k,H=q,n.width=Math.floor(k*$),n.height=Math.floor(q*$),J===!0&&(n.style.width=k+"px",n.style.height=q+"px"),this.setViewport(0,0,k,q)},this.getDrawingBufferSize=function(k){return k.set(z*$,H*$).floor()},this.setDrawingBufferSize=function(k,q,J){z=k,H=q,$=J,n.width=Math.floor(k*J),n.height=Math.floor(q*J),this.setViewport(0,0,k,q)},this.getCurrentViewport=function(k){return k.copy(Y)},this.getViewport=function(k){return k.copy(Me)},this.setViewport=function(k,q,J,me){k.isVector4?Me.set(k.x,k.y,k.z,k.w):Me.set(k,q,J,me),Fe.viewport(Y.copy(Me).multiplyScalar($).round())},this.getScissor=function(k){return k.copy(Ue)},this.setScissor=function(k,q,J,me){k.isVector4?Ue.set(k.x,k.y,k.z,k.w):Ue.set(k,q,J,me),Fe.scissor(G.copy(Ue).multiplyScalar($).round())},this.getScissorTest=function(){return at},this.setScissorTest=function(k){Fe.setScissorTest(at=k)},this.setOpaqueSort=function(k){oe=k},this.setTransparentSort=function(k){pe=k},this.getClearColor=function(k){return k.copy(He.getClearColor())},this.setClearColor=function(){He.setClearColor(...arguments)},this.getClearAlpha=function(){return He.getClearAlpha()},this.setClearAlpha=function(){He.setClearAlpha(...arguments)},this.clear=function(k=!0,q=!0,J=!0){let me=0;if(k){let te=!1;if(I!==null){const Se=I.texture.format;te=v.has(Se)}if(te){const Se=I.texture.type,Oe=x.has(Se),We=He.getClearColor(),Ce=He.getClearAlpha(),$e=We.r,Ze=We.g,Ke=We.b;Oe?(y[0]=$e,y[1]=Ze,y[2]=Ke,y[3]=Ce,j.clearBufferuiv(j.COLOR,0,y)):(g[0]=$e,g[1]=Ze,g[2]=Ke,g[3]=Ce,j.clearBufferiv(j.COLOR,0,g))}else me|=j.COLOR_BUFFER_BIT}q&&(me|=j.DEPTH_BUFFER_BIT),J&&(me|=j.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),j.clear(me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ge,!1),n.removeEventListener("webglcontextrestored",Le,!1),n.removeEventListener("webglcontextcreationerror",ke,!1),He.dispose(),tt.dispose(),Rt.dispose(),et.dispose(),W.dispose(),U.dispose(),Ne.dispose(),ne.dispose(),ye.dispose(),we.dispose(),nt.dispose(),nt.removeEventListener("sessionstart",le),nt.removeEventListener("sessionend",ge),ze.stop()};function Ge(k){k.preventDefault(),Mm("WebGLRenderer: Context Lost."),C=!0}function Le(){Mm("WebGLRenderer: Context Restored."),C=!1;const k=pt.autoReset,q=Pe.enabled,J=Pe.autoUpdate,me=Pe.needsUpdate,te=Pe.type;Je(),pt.autoReset=k,Pe.enabled=q,Pe.autoUpdate=J,Pe.needsUpdate=me,Pe.type=te}function ke(k){Zt("WebGLRenderer: A WebGL context could not be created. Reason: ",k.statusMessage)}function mt(k){const q=k.target;q.removeEventListener("dispose",mt),Ut(q)}function Ut(k){Yt(k),et.remove(k)}function Yt(k){const q=et.get(k).programs;q!==void 0&&(q.forEach(function(J){we.releaseProgram(J)}),k.isShaderMaterial&&we.releaseShaderCache(k))}this.renderBufferDirect=function(k,q,J,me,te,Se){q===null&&(q=Be);const Oe=te.isMesh&&te.matrixWorld.determinant()<0,We=ue(k,q,J,me,te);Fe.setMaterial(me,Oe);let Ce=J.index,$e=1;if(me.wireframe===!0){if(Ce=be.getWireframeAttribute(J),Ce===void 0)return;$e=2}const Ze=J.drawRange,Ke=J.attributes.position;let rt=Ze.start*$e,Ft=(Ze.start+Ze.count)*$e;Se!==null&&(rt=Math.max(rt,Se.start*$e),Ft=Math.min(Ft,(Se.start+Se.count)*$e)),Ce!==null?(rt=Math.max(rt,0),Ft=Math.min(Ft,Ce.count)):Ke!=null&&(rt=Math.max(rt,0),Ft=Math.min(Ft,Ke.count));const Nt=Ft-rt;if(Nt<0||Nt===1/0)return;ne.setup(te,me,We,J,Ce);let Xt,Jt=Tt;if(Ce!==null&&(Xt=de.get(Ce),Jt=lt,Jt.setIndex(Xt)),te.isMesh)me.wireframe===!0?(Fe.setLineWidth(me.wireframeLinewidth*Te()),Jt.setMode(j.LINES)):Jt.setMode(j.TRIANGLES);else if(te.isLine){let Mt=me.linewidth;Mt===void 0&&(Mt=1),Fe.setLineWidth(Mt*Te()),te.isLineSegments?Jt.setMode(j.LINES):te.isLineLoop?Jt.setMode(j.LINE_LOOP):Jt.setMode(j.LINE_STRIP)}else te.isPoints?Jt.setMode(j.POINTS):te.isSprite&&Jt.setMode(j.TRIANGLES);if(te.isBatchedMesh)if(te._multiDrawInstances!==null)Ff("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Jt.renderMultiDrawInstances(te._multiDrawStarts,te._multiDrawCounts,te._multiDrawCount,te._multiDrawInstances);else if(Ve.get("WEBGL_multi_draw"))Jt.renderMultiDraw(te._multiDrawStarts,te._multiDrawCounts,te._multiDrawCount);else{const Mt=te._multiDrawStarts,on=te._multiDrawCounts,kt=te._multiDrawCount,yn=Ce?de.get(Ce).bytesPerElement:1,pn=et.get(me).currentProgram.getUniforms();for(let Qt=0;Qt<kt;Qt++)pn.setValue(j,"_gl_DrawID",Qt),Jt.render(Mt[Qt]/yn,on[Qt])}else if(te.isInstancedMesh)Jt.renderInstances(rt,Nt,te.count);else if(J.isInstancedBufferGeometry){const Mt=J._maxInstanceCount!==void 0?J._maxInstanceCount:1/0,on=Math.min(J.instanceCount,Mt);Jt.renderInstances(rt,Nt,on)}else Jt.render(rt,Nt)};function Nn(k,q,J){k.transparent===!0&&k.side===so&&k.forceSinglePass===!1?(k.side=wi,k.needsUpdate=!0,L(k,q,J),k.side=La,k.needsUpdate=!0,L(k,q,J),k.side=so):L(k,q,J)}this.compile=function(k,q,J=null){J===null&&(J=k),S=Rt.get(J),S.init(q),A.push(S),J.traverseVisible(function(te){te.isLight&&te.layers.test(q.layers)&&(S.pushLight(te),te.castShadow&&S.pushShadow(te))}),k!==J&&k.traverseVisible(function(te){te.isLight&&te.layers.test(q.layers)&&(S.pushLight(te),te.castShadow&&S.pushShadow(te))}),S.setupLights();const me=new Set;return k.traverse(function(te){if(!(te.isMesh||te.isPoints||te.isLine||te.isSprite))return;const Se=te.material;if(Se)if(Array.isArray(Se))for(let Oe=0;Oe<Se.length;Oe++){const We=Se[Oe];Nn(We,J,te),me.add(We)}else Nn(Se,J,te),me.add(Se)}),S=A.pop(),me},this.compileAsync=function(k,q,J=null){const me=this.compile(k,q,J);return new Promise(te=>{function Se(){if(me.forEach(function(Oe){et.get(Oe).currentProgram.isReady()&&me.delete(Oe)}),me.size===0){te(k);return}setTimeout(Se,10)}Ve.get("KHR_parallel_shader_compile")!==null?Se():setTimeout(Se,10)})};let Bn=null;function re(k){Bn&&Bn(k)}function le(){ze.stop()}function ge(){ze.start()}const ze=new Kz;ze.setAnimationLoop(re),typeof self<"u"&&ze.setContext(self),this.setAnimationLoop=function(k){Bn=k,nt.setAnimationLoop(k),k===null?ze.stop():ze.start()},nt.addEventListener("sessionstart",le),nt.addEventListener("sessionend",ge),this.render=function(k,q){if(q!==void 0&&q.isCamera!==!0){Zt("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;if(k.matrixWorldAutoUpdate===!0&&k.updateMatrixWorld(),q.parent===null&&q.matrixWorldAutoUpdate===!0&&q.updateMatrixWorld(),nt.enabled===!0&&nt.isPresenting===!0&&(nt.cameraAutoUpdate===!0&&nt.updateCamera(q),q=nt.getCamera()),k.isScene===!0&&k.onBeforeRender(R,k,q,I),S=Rt.get(k,A.length),S.init(q),A.push(S),ct.multiplyMatrices(q.projectionMatrix,q.matrixWorldInverse),ae.setFromProjectionMatrix(ct,is,q.reversedDepth),je=this.localClippingEnabled,fe=wt.init(this.clippingPlanes,je),_=tt.get(k,M.length),_.init(),M.push(_),nt.enabled===!0&&nt.isPresenting===!0){const Se=R.xr.getDepthSensingMesh();Se!==null&&ft(Se,q,-1/0,R.sortObjects)}ft(k,q,0,R.sortObjects),_.finish(),R.sortObjects===!0&&_.sort(oe,pe),Ye=nt.enabled===!1||nt.isPresenting===!1||nt.hasDepthSensing()===!1,Ye&&He.addToRenderList(_,k),this.info.render.frame++,fe===!0&&wt.beginShadows();const J=S.state.shadowsArray;Pe.render(J,k,q),fe===!0&&wt.endShadows(),this.info.autoReset===!0&&this.info.reset();const me=_.opaque,te=_.transmissive;if(S.setupLights(),q.isArrayCamera){const Se=q.cameras;if(te.length>0)for(let Oe=0,We=Se.length;Oe<We;Oe++){const Ce=Se[Oe];ht(me,te,k,Ce)}Ye&&He.render(k);for(let Oe=0,We=Se.length;Oe<We;Oe++){const Ce=Se[Oe];At(_,k,Ce,Ce.viewport)}}else te.length>0&&ht(me,te,k,q),Ye&&He.render(k),At(_,k,q);I!==null&&N===0&&(vt.updateMultisampleRenderTarget(I),vt.updateRenderTargetMipmap(I)),k.isScene===!0&&k.onAfterRender(R,k,q),ne.resetDefaultState(),F=-1,V=null,A.pop(),A.length>0?(S=A[A.length-1],fe===!0&&wt.setGlobalState(R.clippingPlanes,S.state.camera)):S=null,M.pop(),M.length>0?_=M[M.length-1]:_=null};function ft(k,q,J,me){if(k.visible===!1)return;if(k.layers.test(q.layers)){if(k.isGroup)J=k.renderOrder;else if(k.isLOD)k.autoUpdate===!0&&k.update(q);else if(k.isLight)S.pushLight(k),k.castShadow&&S.pushShadow(k);else if(k.isSprite){if(!k.frustumCulled||ae.intersectsSprite(k)){me&&ut.setFromMatrixPosition(k.matrixWorld).applyMatrix4(ct);const Oe=Ne.update(k),We=k.material;We.visible&&_.push(k,Oe,We,J,ut.z,null)}}else if((k.isMesh||k.isLine||k.isPoints)&&(!k.frustumCulled||ae.intersectsObject(k))){const Oe=Ne.update(k),We=k.material;if(me&&(k.boundingSphere!==void 0?(k.boundingSphere===null&&k.computeBoundingSphere(),ut.copy(k.boundingSphere.center)):(Oe.boundingSphere===null&&Oe.computeBoundingSphere(),ut.copy(Oe.boundingSphere.center)),ut.applyMatrix4(k.matrixWorld).applyMatrix4(ct)),Array.isArray(We)){const Ce=Oe.groups;for(let $e=0,Ze=Ce.length;$e<Ze;$e++){const Ke=Ce[$e],rt=We[Ke.materialIndex];rt&&rt.visible&&_.push(k,Oe,rt,J,ut.z,Ke)}}else We.visible&&_.push(k,Oe,We,J,ut.z,null)}}const Se=k.children;for(let Oe=0,We=Se.length;Oe<We;Oe++)ft(Se[Oe],q,J,me)}function At(k,q,J,me){const{opaque:te,transmissive:Se,transparent:Oe}=k;S.setupLightsView(J),fe===!0&&wt.setGlobalState(R.clippingPlanes,J),me&&Fe.viewport(Y.copy(me)),te.length>0&&bt(te,q,J),Se.length>0&&bt(Se,q,J),Oe.length>0&&bt(Oe,q,J),Fe.buffers.depth.setTest(!0),Fe.buffers.depth.setMask(!0),Fe.buffers.color.setMask(!0),Fe.setPolygonOffset(!1)}function ht(k,q,J,me){if((J.isScene===!0?J.overrideMaterial:null)!==null)return;S.state.transmissionRenderTarget[me.id]===void 0&&(S.state.transmissionRenderTarget[me.id]=new Us(1,1,{generateMipmaps:!0,type:Ve.has("EXT_color_buffer_half_float")||Ve.has("EXT_color_buffer_float")?Ir:bi,minFilter:ko,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:vn.workingColorSpace}));const Se=S.state.transmissionRenderTarget[me.id],Oe=me.viewport||Y;Se.setSize(Oe.z*R.transmissionResolutionScale,Oe.w*R.transmissionResolutionScale);const We=R.getRenderTarget(),Ce=R.getActiveCubeFace(),$e=R.getActiveMipmapLevel();R.setRenderTarget(Se),R.getClearColor(Q),ie=R.getClearAlpha(),ie<1&&R.setClearColor(16777215,.5),R.clear(),Ye&&He.render(J);const Ze=R.toneMapping;R.toneMapping=Go;const Ke=me.viewport;if(me.viewport!==void 0&&(me.viewport=void 0),S.setupLightsView(me),fe===!0&&wt.setGlobalState(R.clippingPlanes,me),bt(k,J,me),vt.updateMultisampleRenderTarget(Se),vt.updateRenderTargetMipmap(Se),Ve.has("WEBGL_multisampled_render_to_texture")===!1){let rt=!1;for(let Ft=0,Nt=q.length;Ft<Nt;Ft++){const Xt=q[Ft],{object:Jt,geometry:Mt,material:on,group:kt}=Xt;if(on.side===so&&Jt.layers.test(me.layers)){const yn=on.side;on.side=wi,on.needsUpdate=!0,It(Jt,J,me,Mt,on,kt),on.side=yn,on.needsUpdate=!0,rt=!0}}rt===!0&&(vt.updateMultisampleRenderTarget(Se),vt.updateRenderTargetMipmap(Se))}R.setRenderTarget(We,Ce,$e),R.setClearColor(Q,ie),Ke!==void 0&&(me.viewport=Ke),R.toneMapping=Ze}function bt(k,q,J){const me=q.isScene===!0?q.overrideMaterial:null;for(let te=0,Se=k.length;te<Se;te++){const Oe=k[te],{object:We,geometry:Ce,group:$e}=Oe;let Ze=Oe.material;Ze.allowOverride===!0&&me!==null&&(Ze=me),We.layers.test(J.layers)&&It(We,q,J,Ce,Ze,$e)}}function It(k,q,J,me,te,Se){k.onBeforeRender(R,q,J,me,te,Se),k.modelViewMatrix.multiplyMatrices(J.matrixWorldInverse,k.matrixWorld),k.normalMatrix.getNormalMatrix(k.modelViewMatrix),te.onBeforeRender(R,q,J,me,k,Se),te.transparent===!0&&te.side===so&&te.forceSinglePass===!1?(te.side=wi,te.needsUpdate=!0,R.renderBufferDirect(J,q,me,te,k,Se),te.side=La,te.needsUpdate=!0,R.renderBufferDirect(J,q,me,te,k,Se),te.side=so):R.renderBufferDirect(J,q,me,te,k,Se),k.onAfterRender(R,q,J,me,te,Se)}function L(k,q,J){q.isScene!==!0&&(q=Be);const me=et.get(k),te=S.state.lights,Se=S.state.shadowsArray,Oe=te.state.version,We=we.getParameters(k,te.state,Se,q,J),Ce=we.getProgramCacheKey(We);let $e=me.programs;me.environment=k.isMeshStandardMaterial?q.environment:null,me.fog=q.fog,me.envMap=(k.isMeshStandardMaterial?U:W).get(k.envMap||me.environment),me.envMapRotation=me.environment!==null&&k.envMap===null?q.environmentRotation:k.envMapRotation,$e===void 0&&(k.addEventListener("dispose",mt),$e=new Map,me.programs=$e);let Ze=$e.get(Ce);if(Ze!==void 0){if(me.currentProgram===Ze&&me.lightsStateVersion===Oe)return Z(k,We),Ze}else We.uniforms=we.getUniforms(k),k.onBeforeCompile(We,R),Ze=we.acquireProgram(We,Ce),$e.set(Ce,Ze),me.uniforms=We.uniforms;const Ke=me.uniforms;return(!k.isShaderMaterial&&!k.isRawShaderMaterial||k.clipping===!0)&&(Ke.clippingPlanes=wt.uniform),Z(k,We),me.needsLights=ve(k),me.lightsStateVersion=Oe,me.needsLights&&(Ke.ambientLightColor.value=te.state.ambient,Ke.lightProbe.value=te.state.probe,Ke.directionalLights.value=te.state.directional,Ke.directionalLightShadows.value=te.state.directionalShadow,Ke.spotLights.value=te.state.spot,Ke.spotLightShadows.value=te.state.spotShadow,Ke.rectAreaLights.value=te.state.rectArea,Ke.ltc_1.value=te.state.rectAreaLTC1,Ke.ltc_2.value=te.state.rectAreaLTC2,Ke.pointLights.value=te.state.point,Ke.pointLightShadows.value=te.state.pointShadow,Ke.hemisphereLights.value=te.state.hemi,Ke.directionalShadowMap.value=te.state.directionalShadowMap,Ke.directionalShadowMatrix.value=te.state.directionalShadowMatrix,Ke.spotShadowMap.value=te.state.spotShadowMap,Ke.spotLightMatrix.value=te.state.spotLightMatrix,Ke.spotLightMap.value=te.state.spotLightMap,Ke.pointShadowMap.value=te.state.pointShadowMap,Ke.pointShadowMatrix.value=te.state.pointShadowMatrix),me.currentProgram=Ze,me.uniformsList=null,Ze}function B(k){if(k.uniformsList===null){const q=k.currentProgram.getUniforms();k.uniformsList=hx.seqWithValue(q.seq,k.uniforms)}return k.uniformsList}function Z(k,q){const J=et.get(k);J.outputColorSpace=q.outputColorSpace,J.batching=q.batching,J.batchingColor=q.batchingColor,J.instancing=q.instancing,J.instancingColor=q.instancingColor,J.instancingMorph=q.instancingMorph,J.skinning=q.skinning,J.morphTargets=q.morphTargets,J.morphNormals=q.morphNormals,J.morphColors=q.morphColors,J.morphTargetsCount=q.morphTargetsCount,J.numClippingPlanes=q.numClippingPlanes,J.numIntersection=q.numClipIntersection,J.vertexAlphas=q.vertexAlphas,J.vertexTangents=q.vertexTangents,J.toneMapping=q.toneMapping}function ue(k,q,J,me,te){q.isScene!==!0&&(q=Be),vt.resetTextureUnits();const Se=q.fog,Oe=me.isMeshStandardMaterial?q.environment:null,We=I===null?R.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:Yo,Ce=(me.isMeshStandardMaterial?U:W).get(me.envMap||Oe),$e=me.vertexColors===!0&&!!J.attributes.color&&J.attributes.color.itemSize===4,Ze=!!J.attributes.tangent&&(!!me.normalMap||me.anisotropy>0),Ke=!!J.morphAttributes.position,rt=!!J.morphAttributes.normal,Ft=!!J.morphAttributes.color;let Nt=Go;me.toneMapped&&(I===null||I.isXRRenderTarget===!0)&&(Nt=R.toneMapping);const Xt=J.morphAttributes.position||J.morphAttributes.normal||J.morphAttributes.color,Jt=Xt!==void 0?Xt.length:0,Mt=et.get(me),on=S.state.lights;if(fe===!0&&(je===!0||k!==V)){const xr=k===V&&me.id===F;wt.setState(me,k,xr)}let kt=!1;me.version===Mt.__version?(Mt.needsLights&&Mt.lightsStateVersion!==on.state.version||Mt.outputColorSpace!==We||te.isBatchedMesh&&Mt.batching===!1||!te.isBatchedMesh&&Mt.batching===!0||te.isBatchedMesh&&Mt.batchingColor===!0&&te.colorTexture===null||te.isBatchedMesh&&Mt.batchingColor===!1&&te.colorTexture!==null||te.isInstancedMesh&&Mt.instancing===!1||!te.isInstancedMesh&&Mt.instancing===!0||te.isSkinnedMesh&&Mt.skinning===!1||!te.isSkinnedMesh&&Mt.skinning===!0||te.isInstancedMesh&&Mt.instancingColor===!0&&te.instanceColor===null||te.isInstancedMesh&&Mt.instancingColor===!1&&te.instanceColor!==null||te.isInstancedMesh&&Mt.instancingMorph===!0&&te.morphTexture===null||te.isInstancedMesh&&Mt.instancingMorph===!1&&te.morphTexture!==null||Mt.envMap!==Ce||me.fog===!0&&Mt.fog!==Se||Mt.numClippingPlanes!==void 0&&(Mt.numClippingPlanes!==wt.numPlanes||Mt.numIntersection!==wt.numIntersection)||Mt.vertexAlphas!==$e||Mt.vertexTangents!==Ze||Mt.morphTargets!==Ke||Mt.morphNormals!==rt||Mt.morphColors!==Ft||Mt.toneMapping!==Nt||Mt.morphTargetsCount!==Jt)&&(kt=!0):(kt=!0,Mt.__version=me.version);let yn=Mt.currentProgram;kt===!0&&(yn=L(me,q,te));let pn=!1,Qt=!1,Rn=!1;const _n=yn.getUniforms(),Pn=Mt.uniforms;if(Fe.useProgram(yn.program)&&(pn=!0,Qt=!0,Rn=!0),me.id!==F&&(F=me.id,Qt=!0),pn||V!==k){Fe.buffers.depth.getReversed()&&k.reversedDepth!==!0&&(k._reversedDepth=!0,k.updateProjectionMatrix()),_n.setValue(j,"projectionMatrix",k.projectionMatrix),_n.setValue(j,"viewMatrix",k.matrixWorldInverse);const Tr=_n.map.cameraPosition;Tr!==void 0&&Tr.setValue(j,st.setFromMatrixPosition(k.matrixWorld)),qe.logarithmicDepthBuffer&&_n.setValue(j,"logDepthBufFC",2/(Math.log(k.far+1)/Math.LN2)),(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial)&&_n.setValue(j,"isOrthographic",k.isOrthographicCamera===!0),V!==k&&(V=k,Qt=!0,Rn=!0)}if(te.isSkinnedMesh){_n.setOptional(j,te,"bindMatrix"),_n.setOptional(j,te,"bindMatrixInverse");const xr=te.skeleton;xr&&(xr.boneTexture===null&&xr.computeBoneTexture(),_n.setValue(j,"boneTexture",xr.boneTexture,vt))}te.isBatchedMesh&&(_n.setOptional(j,te,"batchingTexture"),_n.setValue(j,"batchingTexture",te._matricesTexture,vt),_n.setOptional(j,te,"batchingIdTexture"),_n.setValue(j,"batchingIdTexture",te._indirectTexture,vt),_n.setOptional(j,te,"batchingColorTexture"),te._colorsTexture!==null&&_n.setValue(j,"batchingColorTexture",te._colorsTexture,vt));const Kn=J.morphAttributes;if((Kn.position!==void 0||Kn.normal!==void 0||Kn.color!==void 0)&&Bt.update(te,J,yn),(Qt||Mt.receiveShadow!==te.receiveShadow)&&(Mt.receiveShadow=te.receiveShadow,_n.setValue(j,"receiveShadow",te.receiveShadow)),me.isMeshGouraudMaterial&&me.envMap!==null&&(Pn.envMap.value=Ce,Pn.flipEnvMap.value=Ce.isCubeTexture&&Ce.isRenderTargetTexture===!1?-1:1),me.isMeshStandardMaterial&&me.envMap===null&&q.environment!==null&&(Pn.envMapIntensity.value=q.environmentIntensity),Pn.dfgLUT!==void 0&&(Pn.dfgLUT.value=due()),Qt&&(_n.setValue(j,"toneMappingExposure",R.toneMappingExposure),Mt.needsLights&&xe(Pn,Rn),Se&&me.fog===!0&&gt.refreshFogUniforms(Pn,Se),gt.refreshMaterialUniforms(Pn,me,$,H,S.state.transmissionRenderTarget[k.id]),hx.upload(j,B(Mt),Pn,vt)),me.isShaderMaterial&&me.uniformsNeedUpdate===!0&&(hx.upload(j,B(Mt),Pn,vt),me.uniformsNeedUpdate=!1),me.isSpriteMaterial&&_n.setValue(j,"center",te.center),_n.setValue(j,"modelViewMatrix",te.modelViewMatrix),_n.setValue(j,"normalMatrix",te.normalMatrix),_n.setValue(j,"modelMatrix",te.matrixWorld),me.isShaderMaterial||me.isRawShaderMaterial){const xr=me.uniformsGroups;for(let Tr=0,Qo=xr.length;Tr<Qo;Tr++){const ps=xr[Tr];ye.update(ps,yn),ye.bind(ps,yn)}}return yn}function xe(k,q){k.ambientLightColor.needsUpdate=q,k.lightProbe.needsUpdate=q,k.directionalLights.needsUpdate=q,k.directionalLightShadows.needsUpdate=q,k.pointLights.needsUpdate=q,k.pointLightShadows.needsUpdate=q,k.spotLights.needsUpdate=q,k.spotLightShadows.needsUpdate=q,k.rectAreaLights.needsUpdate=q,k.hemisphereLights.needsUpdate=q}function ve(k){return k.isMeshLambertMaterial||k.isMeshToonMaterial||k.isMeshPhongMaterial||k.isMeshStandardMaterial||k.isShadowMaterial||k.isShaderMaterial&&k.lights===!0}this.getActiveCubeFace=function(){return D},this.getActiveMipmapLevel=function(){return N},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(k,q,J){const me=et.get(k);me.__autoAllocateDepthBuffer=k.resolveDepthBuffer===!1,me.__autoAllocateDepthBuffer===!1&&(me.__useRenderToTexture=!1),et.get(k.texture).__webglTexture=q,et.get(k.depthTexture).__webglTexture=me.__autoAllocateDepthBuffer?void 0:J,me.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(k,q){const J=et.get(k);J.__webglFramebuffer=q,J.__useDefaultFramebuffer=q===void 0};const Ie=j.createFramebuffer();this.setRenderTarget=function(k,q=0,J=0){I=k,D=q,N=J;let me=!0,te=null,Se=!1,Oe=!1;if(k){const Ce=et.get(k);if(Ce.__useDefaultFramebuffer!==void 0)Fe.bindFramebuffer(j.FRAMEBUFFER,null),me=!1;else if(Ce.__webglFramebuffer===void 0)vt.setupRenderTarget(k);else if(Ce.__hasExternalTextures)vt.rebindTextures(k,et.get(k.texture).__webglTexture,et.get(k.depthTexture).__webglTexture);else if(k.depthBuffer){const Ke=k.depthTexture;if(Ce.__boundDepthTexture!==Ke){if(Ke!==null&&et.has(Ke)&&(k.width!==Ke.image.width||k.height!==Ke.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");vt.setupDepthRenderbuffer(k)}}const $e=k.texture;($e.isData3DTexture||$e.isDataArrayTexture||$e.isCompressedArrayTexture)&&(Oe=!0);const Ze=et.get(k).__webglFramebuffer;k.isWebGLCubeRenderTarget?(Array.isArray(Ze[q])?te=Ze[q][J]:te=Ze[q],Se=!0):k.samples>0&&vt.useMultisampledRTT(k)===!1?te=et.get(k).__webglMultisampledFramebuffer:Array.isArray(Ze)?te=Ze[J]:te=Ze,Y.copy(k.viewport),G.copy(k.scissor),ee=k.scissorTest}else Y.copy(Me).multiplyScalar($).floor(),G.copy(Ue).multiplyScalar($).floor(),ee=at;if(J!==0&&(te=Ie),Fe.bindFramebuffer(j.FRAMEBUFFER,te)&&me&&Fe.drawBuffers(k,te),Fe.viewport(Y),Fe.scissor(G),Fe.setScissorTest(ee),Se){const Ce=et.get(k.texture);j.framebufferTexture2D(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_CUBE_MAP_POSITIVE_X+q,Ce.__webglTexture,J)}else if(Oe){const Ce=q;for(let $e=0;$e<k.textures.length;$e++){const Ze=et.get(k.textures[$e]);j.framebufferTextureLayer(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0+$e,Ze.__webglTexture,J,Ce)}}else if(k!==null&&J!==0){const Ce=et.get(k.texture);j.framebufferTexture2D(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_2D,Ce.__webglTexture,J)}F=-1},this.readRenderTargetPixels=function(k,q,J,me,te,Se,Oe,We=0){if(!(k&&k.isWebGLRenderTarget)){Zt("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ce=et.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&Oe!==void 0&&(Ce=Ce[Oe]),Ce){Fe.bindFramebuffer(j.FRAMEBUFFER,Ce);try{const $e=k.textures[We],Ze=$e.format,Ke=$e.type;if(!qe.textureFormatReadable(Ze)){Zt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!qe.textureTypeReadable(Ke)){Zt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}q>=0&&q<=k.width-me&&J>=0&&J<=k.height-te&&(k.textures.length>1&&j.readBuffer(j.COLOR_ATTACHMENT0+We),j.readPixels(q,J,me,te,St.convert(Ze),St.convert(Ke),Se))}finally{const $e=I!==null?et.get(I).__webglFramebuffer:null;Fe.bindFramebuffer(j.FRAMEBUFFER,$e)}}},this.readRenderTargetPixelsAsync=async function(k,q,J,me,te,Se,Oe,We=0){if(!(k&&k.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ce=et.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&Oe!==void 0&&(Ce=Ce[Oe]),Ce)if(q>=0&&q<=k.width-me&&J>=0&&J<=k.height-te){Fe.bindFramebuffer(j.FRAMEBUFFER,Ce);const $e=k.textures[We],Ze=$e.format,Ke=$e.type;if(!qe.textureFormatReadable(Ze))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!qe.textureTypeReadable(Ke))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const rt=j.createBuffer();j.bindBuffer(j.PIXEL_PACK_BUFFER,rt),j.bufferData(j.PIXEL_PACK_BUFFER,Se.byteLength,j.STREAM_READ),k.textures.length>1&&j.readBuffer(j.COLOR_ATTACHMENT0+We),j.readPixels(q,J,me,te,St.convert(Ze),St.convert(Ke),0);const Ft=I!==null?et.get(I).__webglFramebuffer:null;Fe.bindFramebuffer(j.FRAMEBUFFER,Ft);const Nt=j.fenceSync(j.SYNC_GPU_COMMANDS_COMPLETE,0);return j.flush(),await Nne(j,Nt,4),j.bindBuffer(j.PIXEL_PACK_BUFFER,rt),j.getBufferSubData(j.PIXEL_PACK_BUFFER,0,Se),j.deleteBuffer(rt),j.deleteSync(Nt),Se}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(k,q=null,J=0){const me=Math.pow(2,-J),te=Math.floor(k.image.width*me),Se=Math.floor(k.image.height*me),Oe=q!==null?q.x:0,We=q!==null?q.y:0;vt.setTexture2D(k,0),j.copyTexSubImage2D(j.TEXTURE_2D,J,0,0,Oe,We,te,Se),Fe.unbindTexture()};const De=j.createFramebuffer(),ot=j.createFramebuffer();this.copyTextureToTexture=function(k,q,J=null,me=null,te=0,Se=null){Se===null&&(te!==0?(Ff("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Se=te,te=0):Se=0);let Oe,We,Ce,$e,Ze,Ke,rt,Ft,Nt;const Xt=k.isCompressedTexture?k.mipmaps[Se]:k.image;if(J!==null)Oe=J.max.x-J.min.x,We=J.max.y-J.min.y,Ce=J.isBox3?J.max.z-J.min.z:1,$e=J.min.x,Ze=J.min.y,Ke=J.isBox3?J.min.z:0;else{const Kn=Math.pow(2,-te);Oe=Math.floor(Xt.width*Kn),We=Math.floor(Xt.height*Kn),k.isDataArrayTexture?Ce=Xt.depth:k.isData3DTexture?Ce=Math.floor(Xt.depth*Kn):Ce=1,$e=0,Ze=0,Ke=0}me!==null?(rt=me.x,Ft=me.y,Nt=me.z):(rt=0,Ft=0,Nt=0);const Jt=St.convert(q.format),Mt=St.convert(q.type);let on;q.isData3DTexture?(vt.setTexture3D(q,0),on=j.TEXTURE_3D):q.isDataArrayTexture||q.isCompressedArrayTexture?(vt.setTexture2DArray(q,0),on=j.TEXTURE_2D_ARRAY):(vt.setTexture2D(q,0),on=j.TEXTURE_2D),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,q.flipY),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),j.pixelStorei(j.UNPACK_ALIGNMENT,q.unpackAlignment);const kt=j.getParameter(j.UNPACK_ROW_LENGTH),yn=j.getParameter(j.UNPACK_IMAGE_HEIGHT),pn=j.getParameter(j.UNPACK_SKIP_PIXELS),Qt=j.getParameter(j.UNPACK_SKIP_ROWS),Rn=j.getParameter(j.UNPACK_SKIP_IMAGES);j.pixelStorei(j.UNPACK_ROW_LENGTH,Xt.width),j.pixelStorei(j.UNPACK_IMAGE_HEIGHT,Xt.height),j.pixelStorei(j.UNPACK_SKIP_PIXELS,$e),j.pixelStorei(j.UNPACK_SKIP_ROWS,Ze),j.pixelStorei(j.UNPACK_SKIP_IMAGES,Ke);const _n=k.isDataArrayTexture||k.isData3DTexture,Pn=q.isDataArrayTexture||q.isData3DTexture;if(k.isDepthTexture){const Kn=et.get(k),xr=et.get(q),Tr=et.get(Kn.__renderTarget),Qo=et.get(xr.__renderTarget);Fe.bindFramebuffer(j.READ_FRAMEBUFFER,Tr.__webglFramebuffer),Fe.bindFramebuffer(j.DRAW_FRAMEBUFFER,Qo.__webglFramebuffer);for(let ps=0;ps<Ce;ps++)_n&&(j.framebufferTextureLayer(j.READ_FRAMEBUFFER,j.COLOR_ATTACHMENT0,et.get(k).__webglTexture,te,Ke+ps),j.framebufferTextureLayer(j.DRAW_FRAMEBUFFER,j.COLOR_ATTACHMENT0,et.get(q).__webglTexture,Se,Nt+ps)),j.blitFramebuffer($e,Ze,Oe,We,rt,Ft,Oe,We,j.DEPTH_BUFFER_BIT,j.NEAREST);Fe.bindFramebuffer(j.READ_FRAMEBUFFER,null),Fe.bindFramebuffer(j.DRAW_FRAMEBUFFER,null)}else if(te!==0||k.isRenderTargetTexture||et.has(k)){const Kn=et.get(k),xr=et.get(q);Fe.bindFramebuffer(j.READ_FRAMEBUFFER,De),Fe.bindFramebuffer(j.DRAW_FRAMEBUFFER,ot);for(let Tr=0;Tr<Ce;Tr++)_n?j.framebufferTextureLayer(j.READ_FRAMEBUFFER,j.COLOR_ATTACHMENT0,Kn.__webglTexture,te,Ke+Tr):j.framebufferTexture2D(j.READ_FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_2D,Kn.__webglTexture,te),Pn?j.framebufferTextureLayer(j.DRAW_FRAMEBUFFER,j.COLOR_ATTACHMENT0,xr.__webglTexture,Se,Nt+Tr):j.framebufferTexture2D(j.DRAW_FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_2D,xr.__webglTexture,Se),te!==0?j.blitFramebuffer($e,Ze,Oe,We,rt,Ft,Oe,We,j.COLOR_BUFFER_BIT,j.NEAREST):Pn?j.copyTexSubImage3D(on,Se,rt,Ft,Nt+Tr,$e,Ze,Oe,We):j.copyTexSubImage2D(on,Se,rt,Ft,$e,Ze,Oe,We);Fe.bindFramebuffer(j.READ_FRAMEBUFFER,null),Fe.bindFramebuffer(j.DRAW_FRAMEBUFFER,null)}else Pn?k.isDataTexture||k.isData3DTexture?j.texSubImage3D(on,Se,rt,Ft,Nt,Oe,We,Ce,Jt,Mt,Xt.data):q.isCompressedArrayTexture?j.compressedTexSubImage3D(on,Se,rt,Ft,Nt,Oe,We,Ce,Jt,Xt.data):j.texSubImage3D(on,Se,rt,Ft,Nt,Oe,We,Ce,Jt,Mt,Xt):k.isDataTexture?j.texSubImage2D(j.TEXTURE_2D,Se,rt,Ft,Oe,We,Jt,Mt,Xt.data):k.isCompressedTexture?j.compressedTexSubImage2D(j.TEXTURE_2D,Se,rt,Ft,Xt.width,Xt.height,Jt,Xt.data):j.texSubImage2D(j.TEXTURE_2D,Se,rt,Ft,Oe,We,Jt,Mt,Xt);j.pixelStorei(j.UNPACK_ROW_LENGTH,kt),j.pixelStorei(j.UNPACK_IMAGE_HEIGHT,yn),j.pixelStorei(j.UNPACK_SKIP_PIXELS,pn),j.pixelStorei(j.UNPACK_SKIP_ROWS,Qt),j.pixelStorei(j.UNPACK_SKIP_IMAGES,Rn),Se===0&&q.generateMipmaps&&j.generateMipmap(on),Fe.unbindTexture()},this.initRenderTarget=function(k){et.get(k).__webglFramebuffer===void 0&&vt.setupRenderTarget(k)},this.initTexture=function(k){k.isCubeTexture?vt.setTextureCube(k,0):k.isData3DTexture?vt.setTexture3D(k,0):k.isDataArrayTexture||k.isCompressedArrayTexture?vt.setTexture2DArray(k,0):vt.setTexture2D(k,0),Fe.unbindTexture()},this.resetState=function(){D=0,N=0,I=null,Fe.reset(),ne.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return is}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=vn._getDrawingBufferColorSpace(e),n.unpackColorSpace=vn._getUnpackColorSpace()}}const fue=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:rA,AddEquation:hl,AddOperation:S5,AdditiveAnimationBlendMode:cA,AdditiveBlending:EE,AgXToneMapping:C5,AlphaFormat:aA,AlwaysCompare:H5,AlwaysDepth:oy,AlwaysStencilFunc:PE,AmbientLight:Bz,AnimationAction:Yz,AnimationClip:Pm,AnimationLoader:_ie,AnimationMixer:$ie,AnimationObjectGroup:Wie,AnimationUtils:gie,ArcCurve:cz,ArrayCamera:Wz,ArrowHelper:yse,AttachedBindMode:AE,Audio:Xz,AudioAnalyser:Oie,AudioContext:OA,AudioListener:Nie,AudioLoader:Rie,AxesHelper:_se,BackSide:wi,BasicDepthPacking:D5,BasicShadowMap:n5,BatchedMesh:iz,Bone:vA,BooleanKeyframeTrack:Ou,Box2:rse,Box3:li,Box3Helper:vse,BoxGeometry:Lu,BoxHelper:gse,BufferAttribute:kn,BufferGeometry:rn,BufferGeometryLoader:Gz,ByteType:I_,Cache:Uo,Camera:ug,CameraHelper:mse,CanvasTexture:Bre,CapsuleGeometry:X_,CatmullRomCurve3:uz,CineonToneMapping:E5,CircleGeometry:$_,ClampToEdgeWrapping:hr,Clock:FA,Color:Ct,ColorKeyframeTrack:NA,ColorManagement:vn,CompressedArrayTexture:kre,CompressedCubeTexture:Ure,CompressedTexture:W_,CompressedTextureLoader:wie,ConeGeometry:pg,ConstantAlphaFactor:y5,ConstantColorFactor:v5,Controls:Sse,CubeCamera:K5,CubeReflectionMapping:Xo,CubeRefractionMapping:Gl,CubeTexture:dg,CubeTextureLoader:Lz,CubeUVReflectionMapping:th,CubicBezierCurve:SA,CubicBezierCurve3:dz,CubicInterpolant:Pz,CullFaceBack:ME,CullFaceFront:t5,CullFaceFrontBack:Yte,CullFaceNone:e5,Curve:go,CurvePath:hz,CustomBlending:r5,CustomToneMapping:T5,CylinderGeometry:hg,Cylindrical:nse,Data3DTexture:z_,DataArrayTexture:B_,DataTexture:Ls,DataTextureLoader:DA,DataUtils:Xc,DecrementStencilOp:ane,DecrementWrapStencilOp:cne,DefaultLoadingManager:Dz,DepthFormat:Df,DepthStencilFormat:Lf,DepthTexture:yA,DetachedBindMode:R5,DirectionalLight:Uz,DirectionalLightHelper:pse,DiscreteInterpolant:Iz,DodecahedronGeometry:Y_,DoubleSide:so,DstAlphaFactor:f5,DstColorFactor:p5,DynamicCopyUsage:bne,DynamicDrawUsage:IE,DynamicReadUsage:_ne,EdgesGeometry:lz,EllipseCurve:q_,EqualCompare:U5,EqualDepth:ly,EqualStencilFunc:hne,EquirectangularReflectionMapping:Pf,EquirectangularRefractionMapping:gm,Euler:ds,EventDispatcher:Ko,ExternalTexture:_A,ExtrudeGeometry:K_,FileLoader:ls,Float16BufferAttribute:mre,Float32BufferAttribute:Ot,FloatType:nr,Fog:H_,FogExp2:V_,FramebufferTexture:Fre,FrontSide:La,Frustum:rh,FrustumArray:G_,GLBufferAttribute:Qie,GLSL1:Ene,GLSL3:NE,GreaterCompare:B5,GreaterDepth:uy,GreaterEqualCompare:V5,GreaterEqualDepth:cy,GreaterEqualStencilFunc:vne,GreaterStencilFunc:mne,GridHelper:fse,Group:$c,HalfFloatType:Ir,HemisphereLight:Oz,HemisphereLightHelper:dse,IcosahedronGeometry:mg,ImageBitmapLoader:Aie,ImageLoader:Im,ImageUtils:X5,IncrementStencilOp:one,IncrementWrapStencilOp:lne,InstancedBufferAttribute:Bf,InstancedBufferGeometry:jz,InstancedInterleavedBuffer:Zie,InstancedMesh:rz,Int16BufferAttribute:hre,Int32BufferAttribute:pre,Int8BufferAttribute:ure,IntType:ag,InterleavedBuffer:j_,InterleavedBufferAttribute:Mu,Interpolant:xg,InterpolateDiscrete:ym,InterpolateLinear:zy,InterpolateSmooth:dx,InterpolationSamplingMode:Ane,InterpolationSamplingType:Cne,InvertStencilOp:une,KeepStencilOp:Dc,KeyframeTrack:zs,LOD:J5,LatheGeometry:Z_,Layers:du,LessCompare:k5,LessDepth:ay,LessEqualCompare:uA,LessEqualDepth:bu,LessEqualStencilFunc:pne,LessStencilFunc:fne,Light:sc,LightProbe:Hz,Line:Xl,Line3:ose,LineBasicMaterial:Ci,LineCurve:bA,LineCurve3:fz,LineDashedMaterial:Cz,LineLoop:sz,LineSegments:Zo,LinearFilter:An,LinearInterpolant:IA,LinearMipMapLinearFilter:RE,LinearMipMapNearestFilter:Zte,LinearMipmapLinearFilter:ko,LinearMipmapNearestFilter:Ip,LinearSRGBColorSpace:Yo,LinearToneMapping:b5,LinearTransfer:wm,Loader:Ai,LoaderUtils:kE,LoadingManager:i1,LoopOnce:P5,LoopPingPong:N5,LoopRepeat:I5,MOUSE:Xte,Material:Kr,MaterialLoader:s1,MathUtils:W5,Matrix2:VA,Matrix3:nn,Matrix4:Gt,MaxEquation:a5,Mesh:or,MeshBasicMaterial:ka,MeshDepthMaterial:AA,MeshDistanceMaterial:RA,MeshLambertMaterial:Ez,MeshMatcapMaterial:Tz,MeshNormalMaterial:Mz,MeshPhongMaterial:Sz,MeshPhysicalMaterial:wz,MeshStandardMaterial:CA,MeshToonMaterial:bz,MinEquation:o5,MirroredRepeatWrapping:xm,MixOperation:w5,MultiplyBlending:CE,MultiplyOperation:og,NearestFilter:$r,NearestMipMapLinearFilter:Kte,NearestMipMapNearestFilter:qte,NearestMipmapLinearFilter:Gd,NearestMipmapNearestFilter:iA,NeutralToneMapping:A5,NeverCompare:F5,NeverDepth:sy,NeverStencilFunc:dne,NoBlending:co,NoColorSpace:xa,NoToneMapping:Go,NormalAnimationBlendMode:U_,NormalBlending:cu,NotEqualCompare:z5,NotEqualDepth:dy,NotEqualStencilFunc:gne,NumberKeyframeTrack:Am,Object3D:Mn,ObjectLoader:Tie,ObjectSpaceNormalMap:O5,OctahedronGeometry:gg,OneFactor:c5,OneMinusConstantAlphaFactor:_5,OneMinusConstantColorFactor:x5,OneMinusDstAlphaFactor:h5,OneMinusDstColorFactor:m5,OneMinusSrcAlphaFactor:iy,OneMinusSrcColorFactor:d5,OrthographicCamera:ih,PCFShadowMap:P_,PCFSoftShadowMap:Pp,PMREMGenerator:zE,Path:Gy,PerspectiveCamera:zr,Plane:cl,PlaneGeometry:ic,PlaneHelper:xse,PointLight:kz,PointLightHelper:cse,Points:oz,PointsMaterial:xA,PolarGridHelper:hse,PolyhedronGeometry:rc,PositionalAudio:Lie,PropertyBinding:wn,PropertyMixer:$z,QuadraticBezierCurve:MA,QuadraticBezierCurve3:EA,Quaternion:Si,QuaternionKeyframeTrack:yg,QuaternionLinearInterpolant:Nz,RED_GREEN_RGTC2_Format:Uy,RED_RGTC1_Format:Fy,REVISION:sg,RGBADepthPacking:L5,RGBAFormat:vr,RGBAIntegerFormat:k_,RGBA_ASTC_10x10_Format:Py,RGBA_ASTC_10x5_Format:Cy,RGBA_ASTC_10x6_Format:Ay,RGBA_ASTC_10x8_Format:Ry,RGBA_ASTC_12x10_Format:Iy,RGBA_ASTC_12x12_Format:Ny,RGBA_ASTC_4x4_Format:yy,RGBA_ASTC_5x4_Format:_y,RGBA_ASTC_5x5_Format:wy,RGBA_ASTC_6x5_Format:Sy,RGBA_ASTC_6x6_Format:by,RGBA_ASTC_8x5_Format:My,RGBA_ASTC_8x6_Format:Ey,RGBA_ASTC_8x8_Format:Ty,RGBA_BPTC_Format:Dy,RGBA_ETC2_EAC_Format:xy,RGBA_PVRTC_2BPPV1_Format:my,RGBA_PVRTC_4BPPV1_Format:py,RGBA_S3TC_DXT1_Format:Dp,RGBA_S3TC_DXT3_Format:Lp,RGBA_S3TC_DXT5_Format:Op,RGBDepthPacking:nne,RGBFormat:lA,RGBIntegerFormat:Qte,RGB_BPTC_SIGNED_Format:Ly,RGB_BPTC_UNSIGNED_Format:Oy,RGB_ETC1_Format:gy,RGB_ETC2_Format:vy,RGB_PVRTC_2BPPV1_Format:hy,RGB_PVRTC_4BPPV1_Format:fy,RGB_S3TC_DXT1_Format:Np,RGDepthPacking:rne,RGFormat:O_,RGIntegerFormat:F_,RawShaderMaterial:_z,Ray:nh,Raycaster:zA,RectAreaLight:zz,RedFormat:lg,RedIntegerFormat:cg,ReinhardToneMapping:M5,RenderTarget:fA,RenderTarget3D:Yie,RepeatWrapping:vm,ReplaceStencilOp:sne,ReverseSubtractEquation:s5,RingGeometry:Q_,SIGNED_RED_GREEN_RGTC2_Format:By,SIGNED_RED_RGTC1_Format:ky,SRGBColorSpace:vi,SRGBTransfer:Dn,Scene:fg,ShaderChunk:ln,ShaderLib:io,ShaderMaterial:Mi,ShadowMaterial:yz,Shape:fu,ShapeGeometry:J_,ShapePath:wse,ShapeUtils:oo,ShortType:N_,Skeleton:tz,SkeletonHelper:lse,SkinnedMesh:ez,Source:El,Sphere:Yr,SphereGeometry:vg,Spherical:tse,SphericalHarmonics3:Vz,SplineCurve:TA,SpotLight:Fz,SpotLightHelper:ase,Sprite:Q5,SpriteMaterial:gA,SrcAlphaFactor:ry,SrcAlphaSaturateFactor:g5,SrcColorFactor:u5,StaticCopyUsage:Sne,StaticDrawUsage:Sm,StaticReadUsage:yne,StereoCamera:Pie,StreamCopyUsage:Mne,StreamDrawUsage:xne,StreamReadUsage:wne,StringKeyframeTrack:Fu,SubtractEquation:i5,SubtractiveBlending:TE,TOUCH:$te,TangentSpaceNormalMap:nc,TetrahedronGeometry:e1,Texture:Fn,TextureLoader:Sie,TextureUtils:Cse,Timer:Jie,TimestampQuery:Tne,TorusGeometry:t1,TorusKnotGeometry:n1,Triangle:zi,TriangleFanDrawMode:tne,TriangleStripDrawMode:ene,TrianglesDrawMode:Jte,TubeGeometry:r1,UVMapping:jl,Uint16BufferAttribute:hA,Uint32BufferAttribute:pA,Uint8BufferAttribute:dre,Uint8ClampedBufferAttribute:fre,Uniform:BA,UniformsGroup:Kie,UniformsLib:xt,UniformsUtils:q5,UnsignedByteType:bi,UnsignedInt101111Type:oA,UnsignedInt248Type:Nf,UnsignedInt5999Type:sA,UnsignedIntType:$o,UnsignedShort4444Type:D_,UnsignedShort5551Type:L_,UnsignedShortType:If,VSMShadowMap:Qs,Vector2:Xe,Vector3:X,Vector4:Sn,VectorKeyframeTrack:Rm,VideoFrameTexture:Ore,VideoTexture:az,WebGL3DRenderTarget:Jne,WebGLArrayRenderTarget:Qne,WebGLCoordinateSystem:is,WebGLCubeRenderTarget:mA,WebGLRenderTarget:Us,WebGLRenderer:HA,WebGLUtils:tV,WebGPUCoordinateSystem:Of,WebXRController:fx,WireframeGeometry:xz,WrapAroundEnding:_m,ZeroCurvatureEnding:Gc,ZeroFactor:l5,ZeroSlopeEnding:Wc,ZeroStencilOp:ine,createCanvasElement:G5,error:Zt,getConsoleFunction:Ine,log:Mm,setConsoleFunction:Pne,warn:yt,warnOnce:Ff},Symbol.toStringTag,{value:"Module"}));var nV={exports:{}},ku={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ku.ConcurrentRoot=1;ku.ContinuousEventPriority=4;ku.DefaultEventPriority=16;ku.DiscreteEventPriority=1;ku.IdleEventPriority=536870912;ku.LegacyRoot=0;nV.exports=ku;var Xd=nV.exports;function hue(t){let e;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const p=e;e=u?d:Object.assign({},e,d),n.forEach(m=>m(e,p))}},i=()=>e,s=(c,u=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const v=u(e);if(!d(p,v)){const x=p;c(p=v,x)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(c,u,d)=>u||d?s(c,u,d):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const pue=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),fL=pue?E.useEffect:E.useLayoutEffect;function rV(t){const e=typeof t=="function"?hue(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=E.useReducer(y=>y+1,0),o=e.getState(),a=E.useRef(o),l=E.useRef(r),c=E.useRef(i),u=E.useRef(!1),d=E.useRef();d.current===void 0&&(d.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),m=!i(d.current,p)),fL(()=>{m&&(d.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const v=E.useRef(o);fL(()=>{const y=()=>{try{const _=e.getState(),S=l.current(_);c.current(d.current,S)||(a.current=_,d.current=S,s())}catch{u.current=!0,s()}},g=e.subscribe(y);return e.getState()!==v.current&&y(),g},[]);const x=m?p:d.current;return E.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const mue=t=>typeof t=="object"&&typeof t.then=="function",qc=[];function iV(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function sV(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of qc)if(iV(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=qc.indexOf(i);s!==-1&&qc.splice(s,1)},promise:(mue(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(qc.push(i),!n)throw i.promise}const gue=(t,e,n)=>sV(t,e,!1,n),vue=(t,e,n)=>void sV(t,e,!0,n),xue=t=>{if(t===void 0||t.length===0)qc.splice(0,qc.length);else{const e=qc.find(n=>iV(t,n.keys,n.equal));e&&e.remove()}};var oV={exports:{}},aV={exports:{}},lV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,H){var $=z.length;z.push(H);e:for(;0<$;){var oe=$-1>>>1,pe=z[oe];if(0<i(pe,H))z[oe]=H,z[$]=pe,$=oe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var H=z[0],$=z.pop();if($!==H){z[0]=$;e:for(var oe=0,pe=z.length,Me=pe>>>1;oe<Me;){var Ue=2*(oe+1)-1,at=z[Ue],ae=Ue+1,fe=z[ae];if(0>i(at,$))ae<pe&&0>i(fe,at)?(z[oe]=fe,z[ae]=$,oe=ae):(z[oe]=at,z[Ue]=$,oe=Ue);else if(ae<pe&&0>i(fe,$))z[oe]=fe,z[ae]=$,oe=ae;else break e}}return H}function i(z,H){var $=z.sortIndex-H.sortIndex;return $!==0?$:z.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=z)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function M(z){if(x=!1,S(z),!v)if(n(l)!==null)v=!0,Q(A);else{var H=n(c);H!==null&&ie(M,H.startTime-z)}}function A(z,H){v=!1,x&&(x=!1,g(D),D=-1),m=!0;var $=p;try{for(S(H),d=n(l);d!==null&&(!(d.expirationTime>H)||z&&!F());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,p=d.priorityLevel;var pe=oe(d.expirationTime<=H);H=t.unstable_now(),typeof pe=="function"?d.callback=pe:d===n(l)&&r(l),S(H)}else r(l);d=n(l)}if(d!==null)var Me=!0;else{var Ue=n(c);Ue!==null&&ie(M,Ue.startTime-H),Me=!1}return Me}finally{d=null,p=$,m=!1}}var R=!1,C=null,D=-1,N=5,I=-1;function F(){return!(t.unstable_now()-I<N)}function V(){if(C!==null){var z=t.unstable_now();I=z;var H=!0;try{H=C(!0,z)}finally{H?Y():(R=!1,C=null)}}else R=!1}var Y;if(typeof _=="function")Y=function(){_(V)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ee=G.port2;G.port1.onmessage=V,Y=function(){ee.postMessage(null)}}else Y=function(){y(V,0)};function Q(z){C=z,R||(R=!0,Y())}function ie(z,H){D=y(function(){z(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,Q(A))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var $=p;p=H;try{return z()}finally{p=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,H){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var $=p;p=z;try{return H()}finally{p=$}},t.unstable_scheduleCallback=function(z,H,$){var oe=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?oe+$:oe):$=oe,z){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=$+pe,z={id:u++,callback:H,priorityLevel:z,startTime:$,expirationTime:pe,sortIndex:-1},$>oe?(z.sortIndex=$,e(c,z),n(l)===null&&z===n(c)&&(x?(g(D),D=-1):x=!0,ie(M,$-oe))):(z.sortIndex=pe,e(l,z),v||m||(v=!0,Q(A))),z},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(z){var H=p;return function(){var $=p;p=H;try{return z.apply(this,arguments)}finally{p=$}}}})(lV);aV.exports=lV;var HE=aV.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yue=function(e){var n={},r=E,i=HE,s=Object.assign;function o(f){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+f,w=1;w<arguments.length;w++)h+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),A=Symbol.iterator;function R(f){return f===null||typeof f!="object"?null:(f=A&&f[A]||f["@@iterator"],typeof f=="function"?f:null)}function C(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case d:return"StrictMode";case y:return"Suspense";case g:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case v:return(f.displayName||"Context")+".Consumer";case m:return(f._context.displayName||"Context")+".Provider";case x:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case _:return h=f.displayName||null,h!==null?h:C(f.type)||"Memo";case S:h=f._payload,f=f._init;try{return C(f(h))}catch{}}return null}function D(f){var h=f.type;switch(f.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=h.render,f=f.displayName||f.name||"",h.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C(h);case 8:return h===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function N(f){var h=f,w=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,h.flags&4098&&(w=h.return),f=h.return;while(f)}return h.tag===3?w:null}function I(f){if(N(f)!==f)throw Error(o(188))}function F(f){var h=f.alternate;if(!h){if(h=N(f),h===null)throw Error(o(188));return h!==f?null:f}for(var w=f,b=h;;){var P=w.return;if(P===null)break;var O=P.alternate;if(O===null){if(b=P.return,b!==null){w=b;continue}break}if(P.child===O.child){for(O=P.child;O;){if(O===w)return I(P),f;if(O===b)return I(P),h;O=O.sibling}throw Error(o(188))}if(w.return!==b.return)w=P,b=O;else{for(var K=!1,ce=P.child;ce;){if(ce===w){K=!0,w=P,b=O;break}if(ce===b){K=!0,b=P,w=O;break}ce=ce.sibling}if(!K){for(ce=O.child;ce;){if(ce===w){K=!0,w=O,b=P;break}if(ce===b){K=!0,b=O,w=P;break}ce=ce.sibling}if(!K)throw Error(o(189))}}if(w.alternate!==b)throw Error(o(190))}if(w.tag!==3)throw Error(o(188));return w.stateNode.current===w?f:h}function V(f){return f=F(f),f!==null?Y(f):null}function Y(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var h=Y(f);if(h!==null)return h;f=f.sibling}return null}function G(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var h=G(f);if(h!==null)return h}f=f.sibling}return null}var ee=Array.isArray,Q=e.getPublicInstance,ie=e.getRootHostContext,z=e.getChildHostContext,H=e.prepareForCommit,$=e.resetAfterCommit,oe=e.createInstance,pe=e.appendInitialChild,Me=e.finalizeInitialChildren,Ue=e.prepareUpdate,at=e.shouldSetTextContent,ae=e.createTextInstance,fe=e.scheduleTimeout,je=e.cancelTimeout,ct=e.noTimeout,st=e.isPrimaryRenderer,ut=e.supportsMutation,Be=e.supportsPersistence,Ye=e.supportsHydration,Te=e.getInstanceFromNode,j=e.preparePortalMount,Ae=e.getCurrentEventPriority,Ve=e.detachDeletedInstance,qe=e.supportsMicrotasks,Fe=e.scheduleMicrotask,pt=e.supportsTestSelectors,et=e.findFiberRoot,vt=e.getBoundingRect,W=e.getTextContent,U=e.isHiddenSubtree,de=e.matchAccessibilityRole,be=e.setFocusIfFocusable,Ne=e.setupIntersectionObserver,we=e.appendChild,gt=e.appendChildToContainer,tt=e.commitTextUpdate,Rt=e.commitMount,wt=e.commitUpdate,Pe=e.insertBefore,He=e.insertInContainerBefore,Bt=e.removeChild,Tt=e.removeChildFromContainer,lt=e.resetTextContent,St=e.hideInstance,ne=e.hideTextInstance,ye=e.unhideInstance,Je=e.unhideTextInstance,nt=e.clearContainer,Ge=e.cloneInstance,Le=e.createContainerChildSet,ke=e.appendChildToContainerChildSet,mt=e.finalizeContainerChildren,Ut=e.replaceContainerChildren,Yt=e.cloneHiddenInstance,Nn=e.cloneHiddenTextInstance,Bn=e.canHydrateInstance,re=e.canHydrateTextInstance,le=e.canHydrateSuspenseInstance,ge=e.isSuspenseInstancePending,ze=e.isSuspenseInstanceFallback,ft=e.registerSuspenseInstanceRetry,At=e.getNextHydratableSibling,ht=e.getFirstHydratableChild,bt=e.getFirstHydratableChildWithinContainer,It=e.getFirstHydratableChildWithinSuspenseInstance,L=e.hydrateInstance,B=e.hydrateTextInstance,Z=e.hydrateSuspenseInstance,ue=e.getNextHydratableInstanceAfterSuspenseInstance,xe=e.commitHydratedContainer,ve=e.commitHydratedSuspenseInstance,Ie=e.clearSuspenseBoundary,De=e.clearSuspenseBoundaryFromContainer,ot=e.shouldDeleteUnhydratedTailInstances,k=e.didNotMatchHydratedContainerTextInstance,q=e.didNotMatchHydratedTextInstance,J;function me(f){if(J===void 0)try{throw Error()}catch(w){var h=w.stack.trim().match(/\n( *(at )?)/);J=h&&h[1]||""}return`
`+J+f}var te=!1;function Se(f,h){if(!f||te)return"";te=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(dt){var b=dt}Reflect.construct(f,[],h)}else{try{h.call()}catch(dt){b=dt}f.call(h.prototype)}else{try{throw Error()}catch(dt){b=dt}f()}}catch(dt){if(dt&&b&&typeof dt.stack=="string"){for(var P=dt.stack.split(`
`),O=b.stack.split(`
`),K=P.length-1,ce=O.length-1;1<=K&&0<=ce&&P[K]!==O[ce];)ce--;for(;1<=K&&0<=ce;K--,ce--)if(P[K]!==O[ce]){if(K!==1||ce!==1)do if(K--,ce--,0>ce||P[K]!==O[ce]){var Re=`
`+P[K].replace(" at new "," at ");return f.displayName&&Re.includes("<anonymous>")&&(Re=Re.replace("<anonymous>",f.displayName)),Re}while(1<=K&&0<=ce);break}}}finally{te=!1,Error.prepareStackTrace=w}return(f=f?f.displayName||f.name:"")?me(f):""}var Oe=Object.prototype.hasOwnProperty,We=[],Ce=-1;function $e(f){return{current:f}}function Ze(f){0>Ce||(f.current=We[Ce],We[Ce]=null,Ce--)}function Ke(f,h){Ce++,We[Ce]=f.current,f.current=h}var rt={},Ft=$e(rt),Nt=$e(!1),Xt=rt;function Jt(f,h){var w=f.type.contextTypes;if(!w)return rt;var b=f.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===h)return b.__reactInternalMemoizedMaskedChildContext;var P={},O;for(O in w)P[O]=h[O];return b&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=h,f.__reactInternalMemoizedMaskedChildContext=P),P}function Mt(f){return f=f.childContextTypes,f!=null}function on(){Ze(Nt),Ze(Ft)}function kt(f,h,w){if(Ft.current!==rt)throw Error(o(168));Ke(Ft,h),Ke(Nt,w)}function yn(f,h,w){var b=f.stateNode;if(h=h.childContextTypes,typeof b.getChildContext!="function")return w;b=b.getChildContext();for(var P in b)if(!(P in h))throw Error(o(108,D(f)||"Unknown",P));return s({},w,b)}function pn(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||rt,Xt=Ft.current,Ke(Ft,f),Ke(Nt,Nt.current),!0}function Qt(f,h,w){var b=f.stateNode;if(!b)throw Error(o(169));w?(f=yn(f,h,Xt),b.__reactInternalMemoizedMergedChildContext=f,Ze(Nt),Ze(Ft),Ke(Ft,f)):Ze(Nt),Ke(Nt,w)}var Rn=Math.clz32?Math.clz32:Kn,_n=Math.log,Pn=Math.LN2;function Kn(f){return f>>>=0,f===0?32:31-(_n(f)/Pn|0)|0}var xr=64,Tr=4194304;function Qo(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function ps(f,h){var w=f.pendingLanes;if(w===0)return 0;var b=0,P=f.suspendedLanes,O=f.pingedLanes,K=w&268435455;if(K!==0){var ce=K&~P;ce!==0?b=Qo(ce):(O&=K,O!==0&&(b=Qo(O)))}else K=w&~P,K!==0?b=Qo(K):O!==0&&(b=Qo(O));if(b===0)return 0;if(h!==0&&h!==b&&!(h&P)&&(P=b&-b,O=h&-h,P>=O||P===16&&(O&4194240)!==0))return h;if(b&4&&(b|=w&16),h=f.entangledLanes,h!==0)for(f=f.entanglements,h&=b;0<h;)w=31-Rn(h),P=1<<w,b|=f[w],h&=~P;return b}function NH(f,h){switch(f){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DH(f,h){for(var w=f.suspendedLanes,b=f.pingedLanes,P=f.expirationTimes,O=f.pendingLanes;0<O;){var K=31-Rn(O),ce=1<<K,Re=P[K];Re===-1?(!(ce&w)||ce&b)&&(P[K]=NH(ce,h)):Re<=h&&(f.expiredLanes|=ce),O&=~ce}}function S1(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function b1(f){for(var h=[],w=0;31>w;w++)h.push(f);return h}function ah(f,h,w){f.pendingLanes|=h,h!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,h=31-Rn(h),f[h]=w}function LH(f,h){var w=f.pendingLanes&~h;f.pendingLanes=h,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=h,f.mutableReadLanes&=h,f.entangledLanes&=h,h=f.entanglements;var b=f.eventTimes;for(f=f.expirationTimes;0<w;){var P=31-Rn(w),O=1<<P;h[P]=0,b[P]=-1,f[P]=-1,w&=~O}}function M1(f,h){var w=f.entangledLanes|=h;for(f=f.entanglements;w;){var b=31-Rn(w),P=1<<b;P&h|f[b]&h&&(f[b]|=h),w&=~P}}var En=0;function F3(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var E1=i.unstable_scheduleCallback,k3=i.unstable_cancelCallback,OH=i.unstable_shouldYield,FH=i.unstable_requestPaint,Lr=i.unstable_now,T1=i.unstable_ImmediatePriority,kH=i.unstable_UserBlockingPriority,C1=i.unstable_NormalPriority,UH=i.unstable_IdlePriority,Tg=null,yo=null;function BH(f){if(yo&&typeof yo.onCommitFiberRoot=="function")try{yo.onCommitFiberRoot(Tg,f,void 0,(f.current.flags&128)===128)}catch{}}function zH(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var _o=typeof Object.is=="function"?Object.is:zH,Jo=null,Cg=!1,A1=!1;function U3(f){Jo===null?Jo=[f]:Jo.push(f)}function VH(f){Cg=!0,U3(f)}function wo(){if(!A1&&Jo!==null){A1=!0;var f=0,h=En;try{var w=Jo;for(En=1;f<w.length;f++){var b=w[f];do b=b(!0);while(b!==null)}Jo=null,Cg=!1}catch(P){throw Jo!==null&&(Jo=Jo.slice(f+1)),E1(T1,wo),P}finally{En=h,A1=!1}}return null}var HH=a.ReactCurrentBatchConfig;function Ag(f,h){if(_o(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var w=Object.keys(f),b=Object.keys(h);if(w.length!==b.length)return!1;for(b=0;b<w.length;b++){var P=w[b];if(!Oe.call(h,P)||!_o(f[P],h[P]))return!1}return!0}function jH(f){switch(f.tag){case 5:return me(f.type);case 16:return me("Lazy");case 13:return me("Suspense");case 19:return me("SuspenseList");case 0:case 2:case 15:return f=Se(f.type,!1),f;case 11:return f=Se(f.type.render,!1),f;case 1:return f=Se(f.type,!0),f;default:return""}}function Vs(f,h){if(f&&f.defaultProps){h=s({},h),f=f.defaultProps;for(var w in f)h[w]===void 0&&(h[w]=f[w]);return h}return h}var Rg=$e(null),Pg=null,zu=null,R1=null;function P1(){R1=zu=Pg=null}function B3(f,h,w){st?(Ke(Rg,h._currentValue),h._currentValue=w):(Ke(Rg,h._currentValue2),h._currentValue2=w)}function I1(f){var h=Rg.current;Ze(Rg),st?f._currentValue=h:f._currentValue2=h}function N1(f,h,w){for(;f!==null;){var b=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,b!==null&&(b.childLanes|=h)):b!==null&&(b.childLanes&h)!==h&&(b.childLanes|=h),f===w)break;f=f.return}}function Vu(f,h){Pg=f,R1=zu=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&h&&(Ki=!0),f.firstContext=null)}function ms(f){var h=st?f._currentValue:f._currentValue2;if(R1!==f)if(f={context:f,memoizedValue:h,next:null},zu===null){if(Pg===null)throw Error(o(308));zu=f,Pg.dependencies={lanes:0,firstContext:f}}else zu=zu.next=f;return h}var So=null,Ua=!1;function D1(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z3(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function ea(f,h){return{eventTime:f,lane:h,tag:0,payload:null,callback:null,next:null}}function Ba(f,h){var w=f.updateQueue;w!==null&&(w=w.shared,yr!==null&&f.mode&1&&!(dn&2)?(f=w.interleaved,f===null?(h.next=h,So===null?So=[w]:So.push(w)):(h.next=f.next,f.next=h),w.interleaved=h):(f=w.pending,f===null?h.next=h:(h.next=f.next,f.next=h),w.pending=h))}function Ig(f,h,w){if(h=h.updateQueue,h!==null&&(h=h.shared,(w&4194240)!==0)){var b=h.lanes;b&=f.pendingLanes,w|=b,h.lanes=w,M1(f,w)}}function V3(f,h){var w=f.updateQueue,b=f.alternate;if(b!==null&&(b=b.updateQueue,w===b)){var P=null,O=null;if(w=w.firstBaseUpdate,w!==null){do{var K={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};O===null?P=O=K:O=O.next=K,w=w.next}while(w!==null);O===null?P=O=h:O=O.next=h}else P=O=h;w={baseState:b.baseState,firstBaseUpdate:P,lastBaseUpdate:O,shared:b.shared,effects:b.effects},f.updateQueue=w;return}f=w.lastBaseUpdate,f===null?w.firstBaseUpdate=h:f.next=h,w.lastBaseUpdate=h}function Ng(f,h,w,b){var P=f.updateQueue;Ua=!1;var O=P.firstBaseUpdate,K=P.lastBaseUpdate,ce=P.shared.pending;if(ce!==null){P.shared.pending=null;var Re=ce,dt=Re.next;Re.next=null,K===null?O=dt:K.next=dt,K=Re;var Lt=f.alternate;Lt!==null&&(Lt=Lt.updateQueue,ce=Lt.lastBaseUpdate,ce!==K&&(ce===null?Lt.firstBaseUpdate=dt:ce.next=dt,Lt.lastBaseUpdate=Re))}if(O!==null){var en=P.baseState;K=0,Lt=dt=Re=null,ce=O;do{var Wt=ce.lane,Un=ce.eventTime;if((b&Wt)===Wt){Lt!==null&&(Lt=Lt.next={eventTime:Un,lane:0,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null});e:{var jt=f,ei=ce;switch(Wt=h,Un=w,ei.tag){case 1:if(jt=ei.payload,typeof jt=="function"){en=jt.call(Un,en,Wt);break e}en=jt;break e;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=ei.payload,Wt=typeof jt=="function"?jt.call(Un,en,Wt):jt,Wt==null)break e;en=s({},en,Wt);break e;case 2:Ua=!0}}ce.callback!==null&&ce.lane!==0&&(f.flags|=64,Wt=P.effects,Wt===null?P.effects=[ce]:Wt.push(ce))}else Un={eventTime:Un,lane:Wt,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},Lt===null?(dt=Lt=Un,Re=en):Lt=Lt.next=Un,K|=Wt;if(ce=ce.next,ce===null){if(ce=P.shared.pending,ce===null)break;Wt=ce,ce=Wt.next,Wt.next=null,P.lastBaseUpdate=Wt,P.shared.pending=null}}while(!0);if(Lt===null&&(Re=en),P.baseState=Re,P.firstBaseUpdate=dt,P.lastBaseUpdate=Lt,h=P.shared.interleaved,h!==null){P=h;do K|=P.lane,P=P.next;while(P!==h)}else O===null&&(P.shared.lanes=0);Ku|=K,f.lanes=K,f.memoizedState=en}}function H3(f,h,w){if(f=h.effects,h.effects=null,f!==null)for(h=0;h<f.length;h++){var b=f[h],P=b.callback;if(P!==null){if(b.callback=null,b=w,typeof P!="function")throw Error(o(191,P));P.call(b)}}}var j3=new r.Component().refs;function L1(f,h,w,b){h=f.memoizedState,w=w(b,h),w=w==null?h:s({},h,w),f.memoizedState=w,f.lanes===0&&(f.updateQueue.baseState=w)}var Dg={isMounted:function(f){return(f=f._reactInternals)?N(f)===f:!1},enqueueSetState:function(f,h,w){f=f._reactInternals;var b=di(),P=Ha(f),O=ea(b,P);O.payload=h,w!=null&&(O.callback=w),Ba(f,O),h=_s(f,P,b),h!==null&&Ig(h,f,P)},enqueueReplaceState:function(f,h,w){f=f._reactInternals;var b=di(),P=Ha(f),O=ea(b,P);O.tag=1,O.payload=h,w!=null&&(O.callback=w),Ba(f,O),h=_s(f,P,b),h!==null&&Ig(h,f,P)},enqueueForceUpdate:function(f,h){f=f._reactInternals;var w=di(),b=Ha(f),P=ea(w,b);P.tag=2,h!=null&&(P.callback=h),Ba(f,P),h=_s(f,b,w),h!==null&&Ig(h,f,b)}};function G3(f,h,w,b,P,O,K){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(b,O,K):h.prototype&&h.prototype.isPureReactComponent?!Ag(w,b)||!Ag(P,O):!0}function W3(f,h,w){var b=!1,P=rt,O=h.contextType;return typeof O=="object"&&O!==null?O=ms(O):(P=Mt(h)?Xt:Ft.current,b=h.contextTypes,O=(b=b!=null)?Jt(f,P):rt),h=new h(w,O),f.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Dg,f.stateNode=h,h._reactInternals=f,b&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=P,f.__reactInternalMemoizedMaskedChildContext=O),h}function X3(f,h,w,b){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(w,b),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(w,b),h.state!==f&&Dg.enqueueReplaceState(h,h.state,null)}function O1(f,h,w,b){var P=f.stateNode;P.props=w,P.state=f.memoizedState,P.refs=j3,D1(f);var O=h.contextType;typeof O=="object"&&O!==null?P.context=ms(O):(O=Mt(h)?Xt:Ft.current,P.context=Jt(f,O)),P.state=f.memoizedState,O=h.getDerivedStateFromProps,typeof O=="function"&&(L1(f,h,O,w),P.state=f.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(h=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),h!==P.state&&Dg.enqueueReplaceState(P,P.state,null),Ng(f,w,P,b),P.state=f.memoizedState),typeof P.componentDidMount=="function"&&(f.flags|=4194308)}var Hu=[],ju=0,Lg=null,Og=0,gs=[],vs=0,oc=null,ta=1,na="";function ac(f,h){Hu[ju++]=Og,Hu[ju++]=Lg,Lg=f,Og=h}function $3(f,h,w){gs[vs++]=ta,gs[vs++]=na,gs[vs++]=oc,oc=f;var b=ta;f=na;var P=32-Rn(b)-1;b&=~(1<<P),w+=1;var O=32-Rn(h)+P;if(30<O){var K=P-P%5;O=(b&(1<<K)-1).toString(32),b>>=K,P-=K,ta=1<<32-Rn(h)+P|w<<P|b,na=O+f}else ta=1<<O|w<<P|b,na=f}function F1(f){f.return!==null&&(ac(f,1),$3(f,1,0))}function k1(f){for(;f===Lg;)Lg=Hu[--ju],Hu[ju]=null,Og=Hu[--ju],Hu[ju]=null;for(;f===oc;)oc=gs[--vs],gs[vs]=null,na=gs[--vs],gs[vs]=null,ta=gs[--vs],gs[vs]=null}var Yi=null,qi=null,Xn=!1,lh=!1,Hs=null;function Y3(f,h){var w=ws(5,null,null,0);w.elementType="DELETED",w.stateNode=h,w.return=f,h=f.deletions,h===null?(f.deletions=[w],f.flags|=16):h.push(w)}function q3(f,h){switch(f.tag){case 5:return h=Bn(h,f.type,f.pendingProps),h!==null?(f.stateNode=h,Yi=f,qi=ht(h),!0):!1;case 6:return h=re(h,f.pendingProps),h!==null?(f.stateNode=h,Yi=f,qi=null,!0):!1;case 13:if(h=le(h),h!==null){var w=oc!==null?{id:ta,overflow:na}:null;return f.memoizedState={dehydrated:h,treeContext:w,retryLane:1073741824},w=ws(18,null,null,0),w.stateNode=h,w.return=f,f.child=w,Yi=f,qi=null,!0}return!1;default:return!1}}function U1(f){return(f.mode&1)!==0&&(f.flags&128)===0}function B1(f){if(Xn){var h=qi;if(h){var w=h;if(!q3(f,h)){if(U1(f))throw Error(o(418));h=At(w);var b=Yi;h&&q3(f,h)?Y3(b,w):(f.flags=f.flags&-4097|2,Xn=!1,Yi=f)}}else{if(U1(f))throw Error(o(418));f.flags=f.flags&-4097|2,Xn=!1,Yi=f}}}function K3(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;Yi=f}function ch(f){if(!Ye||f!==Yi)return!1;if(!Xn)return K3(f),Xn=!0,!1;if(f.tag!==3&&(f.tag!==5||ot(f.type)&&!at(f.type,f.memoizedProps))){var h=qi;if(h){if(U1(f)){for(f=qi;f;)f=At(f);throw Error(o(418))}for(;h;)Y3(f,h),h=At(h)}}if(K3(f),f.tag===13){if(!Ye)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));qi=ue(f)}else qi=Yi?At(f.stateNode):null;return!0}function Gu(){Ye&&(qi=Yi=null,lh=Xn=!1)}function z1(f){Hs===null?Hs=[f]:Hs.push(f)}function uh(f,h,w){if(f=w.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(o(309));var b=w.stateNode}if(!b)throw Error(o(147,f));var P=b,O=""+f;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===O?h.ref:(h=function(K){var ce=P.refs;ce===j3&&(ce=P.refs={}),K===null?delete ce[O]:ce[O]=K},h._stringRef=O,h)}if(typeof f!="string")throw Error(o(284));if(!w._owner)throw Error(o(290,f))}return f}function Fg(f,h){throw f=Object.prototype.toString.call(h),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f))}function Z3(f){var h=f._init;return h(f._payload)}function Q3(f){function h(_e,he){if(f){var Ee=_e.deletions;Ee===null?(_e.deletions=[he],_e.flags|=16):Ee.push(he)}}function w(_e,he){if(!f)return null;for(;he!==null;)h(_e,he),he=he.sibling;return null}function b(_e,he){for(_e=new Map;he!==null;)he.key!==null?_e.set(he.key,he):_e.set(he.index,he),he=he.sibling;return _e}function P(_e,he){return _e=Ga(_e,he),_e.index=0,_e.sibling=null,_e}function O(_e,he,Ee){return _e.index=Ee,f?(Ee=_e.alternate,Ee!==null?(Ee=Ee.index,Ee<he?(_e.flags|=2,he):Ee):(_e.flags|=2,he)):(_e.flags|=1048576,he)}function K(_e){return f&&_e.alternate===null&&(_e.flags|=2),_e}function ce(_e,he,Ee,Et){return he===null||he.tag!==6?(he=bw(Ee,_e.mode,Et),he.return=_e,he):(he=P(he,Ee),he.return=_e,he)}function Re(_e,he,Ee,Et){var Vt=Ee.type;return Vt===u?Lt(_e,he,Ee.props.children,Et,Ee.key):he!==null&&(he.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===S&&Z3(Vt)===he.type)?(Et=P(he,Ee.props),Et.ref=uh(_e,he,Ee),Et.return=_e,Et):(Et=h0(Ee.type,Ee.key,Ee.props,null,_e.mode,Et),Et.ref=uh(_e,he,Ee),Et.return=_e,Et)}function dt(_e,he,Ee,Et){return he===null||he.tag!==4||he.stateNode.containerInfo!==Ee.containerInfo||he.stateNode.implementation!==Ee.implementation?(he=Mw(Ee,_e.mode,Et),he.return=_e,he):(he=P(he,Ee.children||[]),he.return=_e,he)}function Lt(_e,he,Ee,Et,Vt){return he===null||he.tag!==7?(he=pc(Ee,_e.mode,Et,Vt),he.return=_e,he):(he=P(he,Ee),he.return=_e,he)}function en(_e,he,Ee){if(typeof he=="string"&&he!==""||typeof he=="number")return he=bw(""+he,_e.mode,Ee),he.return=_e,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case l:return Ee=h0(he.type,he.key,he.props,null,_e.mode,Ee),Ee.ref=uh(_e,null,he),Ee.return=_e,Ee;case c:return he=Mw(he,_e.mode,Ee),he.return=_e,he;case S:var Et=he._init;return en(_e,Et(he._payload),Ee)}if(ee(he)||R(he))return he=pc(he,_e.mode,Ee,null),he.return=_e,he;Fg(_e,he)}return null}function Wt(_e,he,Ee,Et){var Vt=he!==null?he.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return Vt!==null?null:ce(_e,he,""+Ee,Et);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case l:return Ee.key===Vt?Re(_e,he,Ee,Et):null;case c:return Ee.key===Vt?dt(_e,he,Ee,Et):null;case S:return Vt=Ee._init,Wt(_e,he,Vt(Ee._payload),Et)}if(ee(Ee)||R(Ee))return Vt!==null?null:Lt(_e,he,Ee,Et,null);Fg(_e,Ee)}return null}function Un(_e,he,Ee,Et,Vt){if(typeof Et=="string"&&Et!==""||typeof Et=="number")return _e=_e.get(Ee)||null,ce(he,_e,""+Et,Vt);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case l:return _e=_e.get(Et.key===null?Ee:Et.key)||null,Re(he,_e,Et,Vt);case c:return _e=_e.get(Et.key===null?Ee:Et.key)||null,dt(he,_e,Et,Vt);case S:var un=Et._init;return Un(_e,he,Ee,un(Et._payload),Vt)}if(ee(Et)||R(Et))return _e=_e.get(Ee)||null,Lt(he,_e,Et,Vt,null);Fg(he,Et)}return null}function jt(_e,he,Ee,Et){for(var Vt=null,un=null,tn=he,Tn=he=0,Fr=null;tn!==null&&Tn<Ee.length;Tn++){tn.index>Tn?(Fr=tn,tn=null):Fr=tn.sibling;var Cn=Wt(_e,tn,Ee[Tn],Et);if(Cn===null){tn===null&&(tn=Fr);break}f&&tn&&Cn.alternate===null&&h(_e,tn),he=O(Cn,he,Tn),un===null?Vt=Cn:un.sibling=Cn,un=Cn,tn=Fr}if(Tn===Ee.length)return w(_e,tn),Xn&&ac(_e,Tn),Vt;if(tn===null){for(;Tn<Ee.length;Tn++)tn=en(_e,Ee[Tn],Et),tn!==null&&(he=O(tn,he,Tn),un===null?Vt=tn:un.sibling=tn,un=tn);return Xn&&ac(_e,Tn),Vt}for(tn=b(_e,tn);Tn<Ee.length;Tn++)Fr=Un(tn,_e,Tn,Ee[Tn],Et),Fr!==null&&(f&&Fr.alternate!==null&&tn.delete(Fr.key===null?Tn:Fr.key),he=O(Fr,he,Tn),un===null?Vt=Fr:un.sibling=Fr,un=Fr);return f&&tn.forEach(function(Wa){return h(_e,Wa)}),Xn&&ac(_e,Tn),Vt}function ei(_e,he,Ee,Et){var Vt=R(Ee);if(typeof Vt!="function")throw Error(o(150));if(Ee=Vt.call(Ee),Ee==null)throw Error(o(151));for(var un=Vt=null,tn=he,Tn=he=0,Fr=null,Cn=Ee.next();tn!==null&&!Cn.done;Tn++,Cn=Ee.next()){tn.index>Tn?(Fr=tn,tn=null):Fr=tn.sibling;var Wa=Wt(_e,tn,Cn.value,Et);if(Wa===null){tn===null&&(tn=Fr);break}f&&tn&&Wa.alternate===null&&h(_e,tn),he=O(Wa,he,Tn),un===null?Vt=Wa:un.sibling=Wa,un=Wa,tn=Fr}if(Cn.done)return w(_e,tn),Xn&&ac(_e,Tn),Vt;if(tn===null){for(;!Cn.done;Tn++,Cn=Ee.next())Cn=en(_e,Cn.value,Et),Cn!==null&&(he=O(Cn,he,Tn),un===null?Vt=Cn:un.sibling=Cn,un=Cn);return Xn&&ac(_e,Tn),Vt}for(tn=b(_e,tn);!Cn.done;Tn++,Cn=Ee.next())Cn=Un(tn,_e,Tn,Cn.value,Et),Cn!==null&&(f&&Cn.alternate!==null&&tn.delete(Cn.key===null?Tn:Cn.key),he=O(Cn,he,Tn),un===null?Vt=Cn:un.sibling=Cn,un=Cn);return f&&tn.forEach(function(y9){return h(_e,y9)}),Xn&&ac(_e,Tn),Vt}function Ss(_e,he,Ee,Et){if(typeof Ee=="object"&&Ee!==null&&Ee.type===u&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case l:e:{for(var Vt=Ee.key,un=he;un!==null;){if(un.key===Vt){if(Vt=Ee.type,Vt===u){if(un.tag===7){w(_e,un.sibling),he=P(un,Ee.props.children),he.return=_e,_e=he;break e}}else if(un.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===S&&Z3(Vt)===un.type){w(_e,un.sibling),he=P(un,Ee.props),he.ref=uh(_e,un,Ee),he.return=_e,_e=he;break e}w(_e,un);break}else h(_e,un);un=un.sibling}Ee.type===u?(he=pc(Ee.props.children,_e.mode,Et,Ee.key),he.return=_e,_e=he):(Et=h0(Ee.type,Ee.key,Ee.props,null,_e.mode,Et),Et.ref=uh(_e,he,Ee),Et.return=_e,_e=Et)}return K(_e);case c:e:{for(un=Ee.key;he!==null;){if(he.key===un)if(he.tag===4&&he.stateNode.containerInfo===Ee.containerInfo&&he.stateNode.implementation===Ee.implementation){w(_e,he.sibling),he=P(he,Ee.children||[]),he.return=_e,_e=he;break e}else{w(_e,he);break}else h(_e,he);he=he.sibling}he=Mw(Ee,_e.mode,Et),he.return=_e,_e=he}return K(_e);case S:return un=Ee._init,Ss(_e,he,un(Ee._payload),Et)}if(ee(Ee))return jt(_e,he,Ee,Et);if(R(Ee))return ei(_e,he,Ee,Et);Fg(_e,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"?(Ee=""+Ee,he!==null&&he.tag===6?(w(_e,he.sibling),he=P(he,Ee),he.return=_e,_e=he):(w(_e,he),he=bw(Ee,_e.mode,Et),he.return=_e,_e=he),K(_e)):w(_e,he)}return Ss}var Wu=Q3(!0),J3=Q3(!1),dh={},xs=$e(dh),fh=$e(dh),Xu=$e(dh);function bo(f){if(f===dh)throw Error(o(174));return f}function V1(f,h){Ke(Xu,h),Ke(fh,f),Ke(xs,dh),f=ie(h),Ze(xs),Ke(xs,f)}function $u(){Ze(xs),Ze(fh),Ze(Xu)}function e2(f){var h=bo(Xu.current),w=bo(xs.current);h=z(w,f.type,h),w!==h&&(Ke(fh,f),Ke(xs,h))}function H1(f){fh.current===f&&(Ze(xs),Ze(fh))}var Zn=$e(0);function kg(f){for(var h=f;h!==null;){if(h.tag===13){var w=h.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||ge(w)||ze(w)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var j1=[];function G1(){for(var f=0;f<j1.length;f++){var h=j1[f];st?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}j1.length=0}var Ug=a.ReactCurrentDispatcher,ys=a.ReactCurrentBatchConfig,Yu=0,ar=null,Zr=null,Or=null,Bg=!1,hh=!1,ph=0,GH=0;function Qr(){throw Error(o(321))}function W1(f,h){if(h===null)return!1;for(var w=0;w<h.length&&w<f.length;w++)if(!_o(f[w],h[w]))return!1;return!0}function X1(f,h,w,b,P,O){if(Yu=O,ar=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Ug.current=f===null||f.memoizedState===null?YH:qH,f=w(b,P),hh){O=0;do{if(hh=!1,ph=0,25<=O)throw Error(o(301));O+=1,Or=Zr=null,h.updateQueue=null,Ug.current=KH,f=w(b,P)}while(hh)}if(Ug.current=Gg,h=Zr!==null&&Zr.next!==null,Yu=0,Or=Zr=ar=null,Bg=!1,h)throw Error(o(300));return f}function $1(){var f=ph!==0;return ph=0,f}function ra(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Or===null?ar.memoizedState=Or=f:Or=Or.next=f,Or}function Mo(){if(Zr===null){var f=ar.alternate;f=f!==null?f.memoizedState:null}else f=Zr.next;var h=Or===null?ar.memoizedState:Or.next;if(h!==null)Or=h,Zr=f;else{if(f===null)throw Error(o(310));Zr=f,f={memoizedState:Zr.memoizedState,baseState:Zr.baseState,baseQueue:Zr.baseQueue,queue:Zr.queue,next:null},Or===null?ar.memoizedState=Or=f:Or=Or.next=f}return Or}function lc(f,h){return typeof h=="function"?h(f):h}function zg(f){var h=Mo(),w=h.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=f;var b=Zr,P=b.baseQueue,O=w.pending;if(O!==null){if(P!==null){var K=P.next;P.next=O.next,O.next=K}b.baseQueue=P=O,w.pending=null}if(P!==null){O=P.next,b=b.baseState;var ce=K=null,Re=null,dt=O;do{var Lt=dt.lane;if((Yu&Lt)===Lt)Re!==null&&(Re=Re.next={lane:0,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null}),b=dt.hasEagerState?dt.eagerState:f(b,dt.action);else{var en={lane:Lt,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null};Re===null?(ce=Re=en,K=b):Re=Re.next=en,ar.lanes|=Lt,Ku|=Lt}dt=dt.next}while(dt!==null&&dt!==O);Re===null?K=b:Re.next=ce,_o(b,h.memoizedState)||(Ki=!0),h.memoizedState=b,h.baseState=K,h.baseQueue=Re,w.lastRenderedState=b}if(f=w.interleaved,f!==null){P=f;do O=P.lane,ar.lanes|=O,Ku|=O,P=P.next;while(P!==f)}else P===null&&(w.lanes=0);return[h.memoizedState,w.dispatch]}function Vg(f){var h=Mo(),w=h.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=f;var b=w.dispatch,P=w.pending,O=h.memoizedState;if(P!==null){w.pending=null;var K=P=P.next;do O=f(O,K.action),K=K.next;while(K!==P);_o(O,h.memoizedState)||(Ki=!0),h.memoizedState=O,h.baseQueue===null&&(h.baseState=O),w.lastRenderedState=O}return[O,b]}function t2(){}function n2(f,h){var w=ar,b=Mo(),P=h(),O=!_o(b.memoizedState,P);if(O&&(b.memoizedState=P,Ki=!0),b=b.queue,gh(s2.bind(null,w,b,f),[f]),b.getSnapshot!==h||O||Or!==null&&Or.memoizedState.tag&1){if(w.flags|=2048,mh(9,i2.bind(null,w,b,P,h),void 0,null),yr===null)throw Error(o(349));Yu&30||r2(w,h,P)}return P}function r2(f,h,w){f.flags|=16384,f={getSnapshot:h,value:w},h=ar.updateQueue,h===null?(h={lastEffect:null,stores:null},ar.updateQueue=h,h.stores=[f]):(w=h.stores,w===null?h.stores=[f]:w.push(f))}function i2(f,h,w,b){h.value=w,h.getSnapshot=b,o2(h)&&_s(f,1,-1)}function s2(f,h,w){return w(function(){o2(h)&&_s(f,1,-1)})}function o2(f){var h=f.getSnapshot;f=f.value;try{var w=h();return!_o(f,w)}catch{return!0}}function Y1(f){var h=ra();return typeof f=="function"&&(f=f()),h.memoizedState=h.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lc,lastRenderedState:f},h.queue=f,f=f.dispatch=$H.bind(null,ar,f),[h.memoizedState,f]}function mh(f,h,w,b){return f={tag:f,create:h,destroy:w,deps:b,next:null},h=ar.updateQueue,h===null?(h={lastEffect:null,stores:null},ar.updateQueue=h,h.lastEffect=f.next=f):(w=h.lastEffect,w===null?h.lastEffect=f.next=f:(b=w.next,w.next=f,f.next=b,h.lastEffect=f)),f}function a2(){return Mo().memoizedState}function Hg(f,h,w,b){var P=ra();ar.flags|=f,P.memoizedState=mh(1|h,w,void 0,b===void 0?null:b)}function jg(f,h,w,b){var P=Mo();b=b===void 0?null:b;var O=void 0;if(Zr!==null){var K=Zr.memoizedState;if(O=K.destroy,b!==null&&W1(b,K.deps)){P.memoizedState=mh(h,w,O,b);return}}ar.flags|=f,P.memoizedState=mh(1|h,w,O,b)}function q1(f,h){return Hg(8390656,8,f,h)}function gh(f,h){return jg(2048,8,f,h)}function l2(f,h){return jg(4,2,f,h)}function c2(f,h){return jg(4,4,f,h)}function u2(f,h){if(typeof h=="function")return f=f(),h(f),function(){h(null)};if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function d2(f,h,w){return w=w!=null?w.concat([f]):null,jg(4,4,u2.bind(null,h,f),w)}function K1(){}function f2(f,h){var w=Mo();h=h===void 0?null:h;var b=w.memoizedState;return b!==null&&h!==null&&W1(h,b[1])?b[0]:(w.memoizedState=[f,h],f)}function h2(f,h){var w=Mo();h=h===void 0?null:h;var b=w.memoizedState;return b!==null&&h!==null&&W1(h,b[1])?b[0]:(f=f(),w.memoizedState=[f,h],f)}function WH(f,h){var w=En;En=w!==0&&4>w?w:4,f(!0);var b=ys.transition;ys.transition={};try{f(!1),h()}finally{En=w,ys.transition=b}}function p2(){return Mo().memoizedState}function XH(f,h,w){var b=Ha(f);w={lane:b,action:w,hasEagerState:!1,eagerState:null,next:null},m2(f)?g2(h,w):(v2(f,h,w),w=di(),f=_s(f,b,w),f!==null&&x2(f,h,b))}function $H(f,h,w){var b=Ha(f),P={lane:b,action:w,hasEagerState:!1,eagerState:null,next:null};if(m2(f))g2(h,P);else{v2(f,h,P);var O=f.alternate;if(f.lanes===0&&(O===null||O.lanes===0)&&(O=h.lastRenderedReducer,O!==null))try{var K=h.lastRenderedState,ce=O(K,w);if(P.hasEagerState=!0,P.eagerState=ce,_o(ce,K))return}catch{}finally{}w=di(),f=_s(f,b,w),f!==null&&x2(f,h,b)}}function m2(f){var h=f.alternate;return f===ar||h!==null&&h===ar}function g2(f,h){hh=Bg=!0;var w=f.pending;w===null?h.next=h:(h.next=w.next,w.next=h),f.pending=h}function v2(f,h,w){yr!==null&&f.mode&1&&!(dn&2)?(f=h.interleaved,f===null?(w.next=w,So===null?So=[h]:So.push(h)):(w.next=f.next,f.next=w),h.interleaved=w):(f=h.pending,f===null?w.next=w:(w.next=f.next,f.next=w),h.pending=w)}function x2(f,h,w){if(w&4194240){var b=h.lanes;b&=f.pendingLanes,w|=b,h.lanes=w,M1(f,w)}}var Gg={readContext:ms,useCallback:Qr,useContext:Qr,useEffect:Qr,useImperativeHandle:Qr,useInsertionEffect:Qr,useLayoutEffect:Qr,useMemo:Qr,useReducer:Qr,useRef:Qr,useState:Qr,useDebugValue:Qr,useDeferredValue:Qr,useTransition:Qr,useMutableSource:Qr,useSyncExternalStore:Qr,useId:Qr,unstable_isNewReconciler:!1},YH={readContext:ms,useCallback:function(f,h){return ra().memoizedState=[f,h===void 0?null:h],f},useContext:ms,useEffect:q1,useImperativeHandle:function(f,h,w){return w=w!=null?w.concat([f]):null,Hg(4194308,4,u2.bind(null,h,f),w)},useLayoutEffect:function(f,h){return Hg(4194308,4,f,h)},useInsertionEffect:function(f,h){return Hg(4,2,f,h)},useMemo:function(f,h){var w=ra();return h=h===void 0?null:h,f=f(),w.memoizedState=[f,h],f},useReducer:function(f,h,w){var b=ra();return h=w!==void 0?w(h):h,b.memoizedState=b.baseState=h,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:h},b.queue=f,f=f.dispatch=XH.bind(null,ar,f),[b.memoizedState,f]},useRef:function(f){var h=ra();return f={current:f},h.memoizedState=f},useState:Y1,useDebugValue:K1,useDeferredValue:function(f){var h=Y1(f),w=h[0],b=h[1];return q1(function(){var P=ys.transition;ys.transition={};try{b(f)}finally{ys.transition=P}},[f]),w},useTransition:function(){var f=Y1(!1),h=f[0];return f=WH.bind(null,f[1]),ra().memoizedState=f,[h,f]},useMutableSource:function(){},useSyncExternalStore:function(f,h,w){var b=ar,P=ra();if(Xn){if(w===void 0)throw Error(o(407));w=w()}else{if(w=h(),yr===null)throw Error(o(349));Yu&30||r2(b,h,w)}P.memoizedState=w;var O={value:w,getSnapshot:h};return P.queue=O,q1(s2.bind(null,b,O,f),[f]),b.flags|=2048,mh(9,i2.bind(null,b,O,w,h),void 0,null),w},useId:function(){var f=ra(),h=yr.identifierPrefix;if(Xn){var w=na,b=ta;w=(b&~(1<<32-Rn(b)-1)).toString(32)+w,h=":"+h+"R"+w,w=ph++,0<w&&(h+="H"+w.toString(32)),h+=":"}else w=GH++,h=":"+h+"r"+w.toString(32)+":";return f.memoizedState=h},unstable_isNewReconciler:!1},qH={readContext:ms,useCallback:f2,useContext:ms,useEffect:gh,useImperativeHandle:d2,useInsertionEffect:l2,useLayoutEffect:c2,useMemo:h2,useReducer:zg,useRef:a2,useState:function(){return zg(lc)},useDebugValue:K1,useDeferredValue:function(f){var h=zg(lc),w=h[0],b=h[1];return gh(function(){var P=ys.transition;ys.transition={};try{b(f)}finally{ys.transition=P}},[f]),w},useTransition:function(){var f=zg(lc)[0],h=Mo().memoizedState;return[f,h]},useMutableSource:t2,useSyncExternalStore:n2,useId:p2,unstable_isNewReconciler:!1},KH={readContext:ms,useCallback:f2,useContext:ms,useEffect:gh,useImperativeHandle:d2,useInsertionEffect:l2,useLayoutEffect:c2,useMemo:h2,useReducer:Vg,useRef:a2,useState:function(){return Vg(lc)},useDebugValue:K1,useDeferredValue:function(f){var h=Vg(lc),w=h[0],b=h[1];return gh(function(){var P=ys.transition;ys.transition={};try{b(f)}finally{ys.transition=P}},[f]),w},useTransition:function(){var f=Vg(lc)[0],h=Mo().memoizedState;return[f,h]},useMutableSource:t2,useSyncExternalStore:n2,useId:p2,unstable_isNewReconciler:!1};function Z1(f,h){try{var w="",b=h;do w+=jH(b),b=b.return;while(b);var P=w}catch(O){P=`
Error generating stack: `+O.message+`
`+O.stack}return{value:f,source:h,stack:P}}function Q1(f,h){try{console.error(h.value)}catch(w){setTimeout(function(){throw w})}}var ZH=typeof WeakMap=="function"?WeakMap:Map;function y2(f,h,w){w=ea(-1,w),w.tag=3,w.payload={element:null};var b=h.value;return w.callback=function(){o0||(o0=!0,gw=b),Q1(f,h)},w}function _2(f,h,w){w=ea(-1,w),w.tag=3;var b=f.type.getDerivedStateFromError;if(typeof b=="function"){var P=h.value;w.payload=function(){return b(P)},w.callback=function(){Q1(f,h)}}var O=f.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(w.callback=function(){Q1(f,h),typeof b!="function"&&(za===null?za=new Set([this]):za.add(this));var K=h.stack;this.componentDidCatch(h.value,{componentStack:K!==null?K:""})}),w}function w2(f,h,w){var b=f.pingCache;if(b===null){b=f.pingCache=new ZH;var P=new Set;b.set(h,P)}else P=b.get(h),P===void 0&&(P=new Set,b.set(h,P));P.has(w)||(P.add(w),f=d9.bind(null,f,h,w),h.then(f,f))}function S2(f){do{var h;if((h=f.tag===13)&&(h=f.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return f;f=f.return}while(f!==null);return null}function b2(f,h,w,b,P){return f.mode&1?(f.flags|=65536,f.lanes=P,f):(f===h?f.flags|=65536:(f.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(h=ea(-1,1),h.tag=2,Ba(w,h))),w.lanes|=1),f)}function Eo(f){f.flags|=4}function M2(f,h){if(f!==null&&f.child===h.child)return!0;if(h.flags&16)return!1;for(f=h.child;f!==null;){if(f.flags&12854||f.subtreeFlags&12854)return!1;f=f.sibling}return!0}var vh,xh,Wg,Xg;if(ut)vh=function(f,h){for(var w=h.child;w!==null;){if(w.tag===5||w.tag===6)pe(f,w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},xh=function(){},Wg=function(f,h,w,b,P){if(f=f.memoizedProps,f!==b){var O=h.stateNode,K=bo(xs.current);w=Ue(O,w,f,b,P,K),(h.updateQueue=w)&&Eo(h)}},Xg=function(f,h,w,b){w!==b&&Eo(h)};else if(Be){vh=function(f,h,w,b){for(var P=h.child;P!==null;){if(P.tag===5){var O=P.stateNode;w&&b&&(O=Yt(O,P.type,P.memoizedProps,P)),pe(f,O)}else if(P.tag===6)O=P.stateNode,w&&b&&(O=Nn(O,P.memoizedProps,P)),pe(f,O);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)O=P.child,O!==null&&(O.return=P),vh(f,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===h)break;for(;P.sibling===null;){if(P.return===null||P.return===h)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};var E2=function(f,h,w,b){for(var P=h.child;P!==null;){if(P.tag===5){var O=P.stateNode;w&&b&&(O=Yt(O,P.type,P.memoizedProps,P)),ke(f,O)}else if(P.tag===6)O=P.stateNode,w&&b&&(O=Nn(O,P.memoizedProps,P)),ke(f,O);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)O=P.child,O!==null&&(O.return=P),E2(f,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===h)break;for(;P.sibling===null;){if(P.return===null||P.return===h)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};xh=function(f,h){var w=h.stateNode;if(!M2(f,h)){f=w.containerInfo;var b=Le(f);E2(b,h,!1,!1),w.pendingChildren=b,Eo(h),mt(f,b)}},Wg=function(f,h,w,b,P){var O=f.stateNode,K=f.memoizedProps;if((f=M2(f,h))&&K===b)h.stateNode=O;else{var ce=h.stateNode,Re=bo(xs.current),dt=null;K!==b&&(dt=Ue(ce,w,K,b,P,Re)),f&&dt===null?h.stateNode=O:(O=Ge(O,dt,w,K,b,h,f,ce),Me(O,w,b,P,Re)&&Eo(h),h.stateNode=O,f?Eo(h):vh(O,h,!1,!1))}},Xg=function(f,h,w,b){w!==b?(f=bo(Xu.current),w=bo(xs.current),h.stateNode=ae(b,f,w,h),Eo(h)):h.stateNode=f.stateNode}}else xh=function(){},Wg=function(){},Xg=function(){};function yh(f,h){if(!Xn)switch(f.tailMode){case"hidden":h=f.tail;for(var w=null;h!==null;)h.alternate!==null&&(w=h),h=h.sibling;w===null?f.tail=null:w.sibling=null;break;case"collapsed":w=f.tail;for(var b=null;w!==null;)w.alternate!==null&&(b=w),w=w.sibling;b===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:b.sibling=null}}function Jr(f){var h=f.alternate!==null&&f.alternate.child===f.child,w=0,b=0;if(h)for(var P=f.child;P!==null;)w|=P.lanes|P.childLanes,b|=P.subtreeFlags&14680064,b|=P.flags&14680064,P.return=f,P=P.sibling;else for(P=f.child;P!==null;)w|=P.lanes|P.childLanes,b|=P.subtreeFlags,b|=P.flags,P.return=f,P=P.sibling;return f.subtreeFlags|=b,f.childLanes=w,h}function QH(f,h,w){var b=h.pendingProps;switch(k1(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(h),null;case 1:return Mt(h.type)&&on(),Jr(h),null;case 3:return b=h.stateNode,$u(),Ze(Nt),Ze(Ft),G1(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(f===null||f.child===null)&&(ch(h)?Eo(h):f===null||f.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,Hs!==null&&(yw(Hs),Hs=null))),xh(f,h),Jr(h),null;case 5:H1(h),w=bo(Xu.current);var P=h.type;if(f!==null&&h.stateNode!=null)Wg(f,h,P,b,w),f.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!b){if(h.stateNode===null)throw Error(o(166));return Jr(h),null}if(f=bo(xs.current),ch(h)){if(!Ye)throw Error(o(175));f=L(h.stateNode,h.type,h.memoizedProps,w,f,h,!lh),h.updateQueue=f,f!==null&&Eo(h)}else{var O=oe(P,b,w,f,h);vh(O,h,!1,!1),h.stateNode=O,Me(O,P,b,w,f)&&Eo(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Jr(h),null;case 6:if(f&&h.stateNode!=null)Xg(f,h,f.memoizedProps,b);else{if(typeof b!="string"&&h.stateNode===null)throw Error(o(166));if(f=bo(Xu.current),w=bo(xs.current),ch(h)){if(!Ye)throw Error(o(176));if(f=h.stateNode,b=h.memoizedProps,(w=B(f,b,h,!lh))&&(P=Yi,P!==null))switch(O=(P.mode&1)!==0,P.tag){case 3:k(P.stateNode.containerInfo,f,b,O);break;case 5:q(P.type,P.memoizedProps,P.stateNode,f,b,O)}w&&Eo(h)}else h.stateNode=ae(b,f,w,h)}return Jr(h),null;case 13:if(Ze(Zn),b=h.memoizedState,Xn&&qi!==null&&h.mode&1&&!(h.flags&128)){for(f=qi;f;)f=At(f);return Gu(),h.flags|=98560,h}if(b!==null&&b.dehydrated!==null){if(b=ch(h),f===null){if(!b)throw Error(o(318));if(!Ye)throw Error(o(344));if(f=h.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));Z(f,h)}else Gu(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return Jr(h),null}return Hs!==null&&(yw(Hs),Hs=null),h.flags&128?(h.lanes=w,h):(b=b!==null,w=!1,f===null?ch(h):w=f.memoizedState!==null,b&&!w&&(h.child.flags|=8192,h.mode&1&&(f===null||Zn.current&1?Cr===0&&(Cr=3):ww())),h.updateQueue!==null&&(h.flags|=4),Jr(h),null);case 4:return $u(),xh(f,h),f===null&&j(h.stateNode.containerInfo),Jr(h),null;case 10:return I1(h.type._context),Jr(h),null;case 17:return Mt(h.type)&&on(),Jr(h),null;case 19:if(Ze(Zn),P=h.memoizedState,P===null)return Jr(h),null;if(b=(h.flags&128)!==0,O=P.rendering,O===null)if(b)yh(P,!1);else{if(Cr!==0||f!==null&&f.flags&128)for(f=h.child;f!==null;){if(O=kg(f),O!==null){for(h.flags|=128,yh(P,!1),f=O.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),h.subtreeFlags=0,f=w,b=h.child;b!==null;)w=b,P=f,w.flags&=14680066,O=w.alternate,O===null?(w.childLanes=0,w.lanes=P,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=O.childLanes,w.lanes=O.lanes,w.child=O.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=O.memoizedProps,w.memoizedState=O.memoizedState,w.updateQueue=O.updateQueue,w.type=O.type,P=O.dependencies,w.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),b=b.sibling;return Ke(Zn,Zn.current&1|2),h.child}f=f.sibling}P.tail!==null&&Lr()>mw&&(h.flags|=128,b=!0,yh(P,!1),h.lanes=4194304)}else{if(!b)if(f=kg(O),f!==null){if(h.flags|=128,b=!0,f=f.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),yh(P,!0),P.tail===null&&P.tailMode==="hidden"&&!O.alternate&&!Xn)return Jr(h),null}else 2*Lr()-P.renderingStartTime>mw&&w!==1073741824&&(h.flags|=128,b=!0,yh(P,!1),h.lanes=4194304);P.isBackwards?(O.sibling=h.child,h.child=O):(f=P.last,f!==null?f.sibling=O:h.child=O,P.last=O)}return P.tail!==null?(h=P.tail,P.rendering=h,P.tail=h.sibling,P.renderingStartTime=Lr(),h.sibling=null,f=Zn.current,Ke(Zn,b?f&1|2:f&1),h):(Jr(h),null);case 22:case 23:return _w(),b=h.memoizedState!==null,f!==null&&f.memoizedState!==null!==b&&(h.flags|=8192),b&&h.mode&1?Zi&1073741824&&(Jr(h),ut&&h.subtreeFlags&6&&(h.flags|=8192)):Jr(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var JH=a.ReactCurrentOwner,Ki=!1;function ui(f,h,w,b){h.child=f===null?J3(h,null,w,b):Wu(h,f.child,w,b)}function T2(f,h,w,b,P){w=w.render;var O=h.ref;return Vu(h,P),b=X1(f,h,w,b,O,P),w=$1(),f!==null&&!Ki?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~P,ia(f,h,P)):(Xn&&w&&F1(h),h.flags|=1,ui(f,h,b,P),h.child)}function C2(f,h,w,b,P){if(f===null){var O=w.type;return typeof O=="function"&&!Sw(O)&&O.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(h.tag=15,h.type=O,A2(f,h,O,b,P)):(f=h0(w.type,null,b,h,h.mode,P),f.ref=h.ref,f.return=h,h.child=f)}if(O=f.child,!(f.lanes&P)){var K=O.memoizedProps;if(w=w.compare,w=w!==null?w:Ag,w(K,b)&&f.ref===h.ref)return ia(f,h,P)}return h.flags|=1,f=Ga(O,b),f.ref=h.ref,f.return=h,h.child=f}function A2(f,h,w,b,P){if(f!==null&&Ag(f.memoizedProps,b)&&f.ref===h.ref)if(Ki=!1,(f.lanes&P)!==0)f.flags&131072&&(Ki=!0);else return h.lanes=f.lanes,ia(f,h,P);return J1(f,h,w,b,P)}function R2(f,h,w){var b=h.pendingProps,P=b.children,O=f!==null?f.memoizedState:null;if(b.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},Ke(qu,Zi),Zi|=w;else if(w&1073741824)h.memoizedState={baseLanes:0,cachePool:null},b=O!==null?O.baseLanes:w,Ke(qu,Zi),Zi|=b;else return f=O!==null?O.baseLanes|w:w,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:f,cachePool:null},h.updateQueue=null,Ke(qu,Zi),Zi|=f,null;else O!==null?(b=O.baseLanes|w,h.memoizedState=null):b=w,Ke(qu,Zi),Zi|=b;return ui(f,h,P,w),h.child}function P2(f,h){var w=h.ref;(f===null&&w!==null||f!==null&&f.ref!==w)&&(h.flags|=512,h.flags|=2097152)}function J1(f,h,w,b,P){var O=Mt(w)?Xt:Ft.current;return O=Jt(h,O),Vu(h,P),w=X1(f,h,w,b,O,P),b=$1(),f!==null&&!Ki?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~P,ia(f,h,P)):(Xn&&b&&F1(h),h.flags|=1,ui(f,h,w,P),h.child)}function I2(f,h,w,b,P){if(Mt(w)){var O=!0;pn(h)}else O=!1;if(Vu(h,P),h.stateNode===null)f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),W3(h,w,b),O1(h,w,b,P),b=!0;else if(f===null){var K=h.stateNode,ce=h.memoizedProps;K.props=ce;var Re=K.context,dt=w.contextType;typeof dt=="object"&&dt!==null?dt=ms(dt):(dt=Mt(w)?Xt:Ft.current,dt=Jt(h,dt));var Lt=w.getDerivedStateFromProps,en=typeof Lt=="function"||typeof K.getSnapshotBeforeUpdate=="function";en||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(ce!==b||Re!==dt)&&X3(h,K,b,dt),Ua=!1;var Wt=h.memoizedState;K.state=Wt,Ng(h,b,K,P),Re=h.memoizedState,ce!==b||Wt!==Re||Nt.current||Ua?(typeof Lt=="function"&&(L1(h,w,Lt,b),Re=h.memoizedState),(ce=Ua||G3(h,w,ce,b,Wt,Re,dt))?(en||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(h.flags|=4194308)):(typeof K.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=b,h.memoizedState=Re),K.props=b,K.state=Re,K.context=dt,b=ce):(typeof K.componentDidMount=="function"&&(h.flags|=4194308),b=!1)}else{K=h.stateNode,z3(f,h),ce=h.memoizedProps,dt=h.type===h.elementType?ce:Vs(h.type,ce),K.props=dt,en=h.pendingProps,Wt=K.context,Re=w.contextType,typeof Re=="object"&&Re!==null?Re=ms(Re):(Re=Mt(w)?Xt:Ft.current,Re=Jt(h,Re));var Un=w.getDerivedStateFromProps;(Lt=typeof Un=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(ce!==en||Wt!==Re)&&X3(h,K,b,Re),Ua=!1,Wt=h.memoizedState,K.state=Wt,Ng(h,b,K,P);var jt=h.memoizedState;ce!==en||Wt!==jt||Nt.current||Ua?(typeof Un=="function"&&(L1(h,w,Un,b),jt=h.memoizedState),(dt=Ua||G3(h,w,dt,b,Wt,jt,Re)||!1)?(Lt||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(b,jt,Re),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(b,jt,Re)),typeof K.componentDidUpdate=="function"&&(h.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof K.componentDidUpdate!="function"||ce===f.memoizedProps&&Wt===f.memoizedState||(h.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||ce===f.memoizedProps&&Wt===f.memoizedState||(h.flags|=1024),h.memoizedProps=b,h.memoizedState=jt),K.props=b,K.state=jt,K.context=Re,b=dt):(typeof K.componentDidUpdate!="function"||ce===f.memoizedProps&&Wt===f.memoizedState||(h.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||ce===f.memoizedProps&&Wt===f.memoizedState||(h.flags|=1024),b=!1)}return ew(f,h,w,b,O,P)}function ew(f,h,w,b,P,O){P2(f,h);var K=(h.flags&128)!==0;if(!b&&!K)return P&&Qt(h,w,!1),ia(f,h,O);b=h.stateNode,JH.current=h;var ce=K&&typeof w.getDerivedStateFromError!="function"?null:b.render();return h.flags|=1,f!==null&&K?(h.child=Wu(h,f.child,null,O),h.child=Wu(h,null,ce,O)):ui(f,h,ce,O),h.memoizedState=b.state,P&&Qt(h,w,!0),h.child}function N2(f){var h=f.stateNode;h.pendingContext?kt(f,h.pendingContext,h.pendingContext!==h.context):h.context&&kt(f,h.context,!1),V1(f,h.containerInfo)}function D2(f,h,w,b,P){return Gu(),z1(P),h.flags|=256,ui(f,h,w,b),h.child}var $g={dehydrated:null,treeContext:null,retryLane:0};function Yg(f){return{baseLanes:f,cachePool:null}}function L2(f,h,w){var b=h.pendingProps,P=Zn.current,O=!1,K=(h.flags&128)!==0,ce;if((ce=K)||(ce=f!==null&&f.memoizedState===null?!1:(P&2)!==0),ce?(O=!0,h.flags&=-129):(f===null||f.memoizedState!==null)&&(P|=1),Ke(Zn,P&1),f===null)return B1(h),f=h.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(h.mode&1?ze(f)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(P=b.children,f=b.fallback,O?(b=h.mode,O=h.child,P={mode:"hidden",children:P},!(b&1)&&O!==null?(O.childLanes=0,O.pendingProps=P):O=p0(P,b,0,null),f=pc(f,b,w,null),O.return=h,f.return=h,O.sibling=f,h.child=O,h.child.memoizedState=Yg(w),h.memoizedState=$g,f):tw(h,P));if(P=f.memoizedState,P!==null){if(ce=P.dehydrated,ce!==null){if(K)return h.flags&256?(h.flags&=-257,qg(f,h,w,Error(o(422)))):h.memoizedState!==null?(h.child=f.child,h.flags|=128,null):(O=b.fallback,P=h.mode,b=p0({mode:"visible",children:b.children},P,0,null),O=pc(O,P,w,null),O.flags|=2,b.return=h,O.return=h,b.sibling=O,h.child=b,h.mode&1&&Wu(h,f.child,null,w),h.child.memoizedState=Yg(w),h.memoizedState=$g,O);if(!(h.mode&1))h=qg(f,h,w,null);else if(ze(ce))h=qg(f,h,w,Error(o(419)));else if(b=(w&f.childLanes)!==0,Ki||b){if(b=yr,b!==null){switch(w&-w){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}b=O&(b.suspendedLanes|w)?0:O,b!==0&&b!==P.retryLane&&(P.retryLane=b,_s(f,b,-1))}ww(),h=qg(f,h,w,Error(o(421)))}else ge(ce)?(h.flags|=128,h.child=f.child,h=f9.bind(null,f),ft(ce,h),h=null):(w=P.treeContext,Ye&&(qi=It(ce),Yi=h,Xn=!0,Hs=null,lh=!1,w!==null&&(gs[vs++]=ta,gs[vs++]=na,gs[vs++]=oc,ta=w.id,na=w.overflow,oc=h)),h=tw(h,h.pendingProps.children),h.flags|=4096);return h}return O?(b=F2(f,h,b.children,b.fallback,w),O=h.child,P=f.child.memoizedState,O.memoizedState=P===null?Yg(w):{baseLanes:P.baseLanes|w,cachePool:null},O.childLanes=f.childLanes&~w,h.memoizedState=$g,b):(w=O2(f,h,b.children,w),h.memoizedState=null,w)}return O?(b=F2(f,h,b.children,b.fallback,w),O=h.child,P=f.child.memoizedState,O.memoizedState=P===null?Yg(w):{baseLanes:P.baseLanes|w,cachePool:null},O.childLanes=f.childLanes&~w,h.memoizedState=$g,b):(w=O2(f,h,b.children,w),h.memoizedState=null,w)}function tw(f,h){return h=p0({mode:"visible",children:h},f.mode,0,null),h.return=f,f.child=h}function O2(f,h,w,b){var P=f.child;return f=P.sibling,w=Ga(P,{mode:"visible",children:w}),!(h.mode&1)&&(w.lanes=b),w.return=h,w.sibling=null,f!==null&&(b=h.deletions,b===null?(h.deletions=[f],h.flags|=16):b.push(f)),h.child=w}function F2(f,h,w,b,P){var O=h.mode;f=f.child;var K=f.sibling,ce={mode:"hidden",children:w};return!(O&1)&&h.child!==f?(w=h.child,w.childLanes=0,w.pendingProps=ce,h.deletions=null):(w=Ga(f,ce),w.subtreeFlags=f.subtreeFlags&14680064),K!==null?b=Ga(K,b):(b=pc(b,O,P,null),b.flags|=2),b.return=h,w.return=h,w.sibling=b,h.child=w,b}function qg(f,h,w,b){return b!==null&&z1(b),Wu(h,f.child,null,w),f=tw(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function k2(f,h,w){f.lanes|=h;var b=f.alternate;b!==null&&(b.lanes|=h),N1(f.return,h,w)}function nw(f,h,w,b,P){var O=f.memoizedState;O===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:b,tail:w,tailMode:P}:(O.isBackwards=h,O.rendering=null,O.renderingStartTime=0,O.last=b,O.tail=w,O.tailMode=P)}function U2(f,h,w){var b=h.pendingProps,P=b.revealOrder,O=b.tail;if(ui(f,h,b.children,w),b=Zn.current,b&2)b=b&1|2,h.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&k2(f,w,h);else if(f.tag===19)k2(f,w,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}b&=1}if(Ke(Zn,b),!(h.mode&1))h.memoizedState=null;else switch(P){case"forwards":for(w=h.child,P=null;w!==null;)f=w.alternate,f!==null&&kg(f)===null&&(P=w),w=w.sibling;w=P,w===null?(P=h.child,h.child=null):(P=w.sibling,w.sibling=null),nw(h,!1,P,w,O);break;case"backwards":for(w=null,P=h.child,h.child=null;P!==null;){if(f=P.alternate,f!==null&&kg(f)===null){h.child=P;break}f=P.sibling,P.sibling=w,w=P,P=f}nw(h,!0,w,null,O);break;case"together":nw(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function ia(f,h,w){if(f!==null&&(h.dependencies=f.dependencies),Ku|=h.lanes,!(w&h.childLanes))return null;if(f!==null&&h.child!==f.child)throw Error(o(153));if(h.child!==null){for(f=h.child,w=Ga(f,f.pendingProps),h.child=w,w.return=h;f.sibling!==null;)f=f.sibling,w=w.sibling=Ga(f,f.pendingProps),w.return=h;w.sibling=null}return h.child}function e9(f,h,w){switch(h.tag){case 3:N2(h),Gu();break;case 5:e2(h);break;case 1:Mt(h.type)&&pn(h);break;case 4:V1(h,h.stateNode.containerInfo);break;case 10:B3(h,h.type._context,h.memoizedProps.value);break;case 13:var b=h.memoizedState;if(b!==null)return b.dehydrated!==null?(Ke(Zn,Zn.current&1),h.flags|=128,null):w&h.child.childLanes?L2(f,h,w):(Ke(Zn,Zn.current&1),f=ia(f,h,w),f!==null?f.sibling:null);Ke(Zn,Zn.current&1);break;case 19:if(b=(w&h.childLanes)!==0,f.flags&128){if(b)return U2(f,h,w);h.flags|=128}var P=h.memoizedState;if(P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Ke(Zn,Zn.current),b)break;return null;case 22:case 23:return h.lanes=0,R2(f,h,w)}return ia(f,h,w)}function t9(f,h){switch(k1(h),h.tag){case 1:return Mt(h.type)&&on(),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return $u(),Ze(Nt),Ze(Ft),G1(),f=h.flags,f&65536&&!(f&128)?(h.flags=f&-65537|128,h):null;case 5:return H1(h),null;case 13:if(Ze(Zn),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(o(340));Gu()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return Ze(Zn),null;case 4:return $u(),null;case 10:return I1(h.type._context),null;case 22:case 23:return _w(),null;case 24:return null;default:return null}}var Kg=!1,cc=!1,n9=typeof WeakSet=="function"?WeakSet:Set,_t=null;function Zg(f,h){var w=f.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(b){Ni(f,h,b)}else w.current=null}function rw(f,h,w){try{w()}catch(b){Ni(f,h,b)}}var B2=!1;function r9(f,h){for(H(f.containerInfo),_t=h;_t!==null;)if(f=_t,h=f.child,(f.subtreeFlags&1028)!==0&&h!==null)h.return=f,_t=h;else for(;_t!==null;){f=_t;try{var w=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var b=w.memoizedProps,P=w.memoizedState,O=f.stateNode,K=O.getSnapshotBeforeUpdate(f.elementType===f.type?b:Vs(f.type,b),P);O.__reactInternalSnapshotBeforeUpdate=K}break;case 3:ut&&nt(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ce){Ni(f,f.return,ce)}if(h=f.sibling,h!==null){h.return=f.return,_t=h;break}_t=f.return}return w=B2,B2=!1,w}function uc(f,h,w){var b=h.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var P=b=b.next;do{if((P.tag&f)===f){var O=P.destroy;P.destroy=void 0,O!==void 0&&rw(h,w,O)}P=P.next}while(P!==b)}}function _h(f,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var w=h=h.next;do{if((w.tag&f)===f){var b=w.create;w.destroy=b()}w=w.next}while(w!==h)}}function iw(f){var h=f.ref;if(h!==null){var w=f.stateNode;switch(f.tag){case 5:f=Q(w);break;default:f=w}typeof h=="function"?h(f):h.current=f}}function z2(f,h,w){if(yo&&typeof yo.onCommitFiberUnmount=="function")try{yo.onCommitFiberUnmount(Tg,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(f=h.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var b=f=f.next;do{var P=b,O=P.destroy;P=P.tag,O!==void 0&&(P&2||P&4)&&rw(h,w,O),b=b.next}while(b!==f)}break;case 1:if(Zg(h,w),f=h.stateNode,typeof f.componentWillUnmount=="function")try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch(K){Ni(h,w,K)}break;case 5:Zg(h,w);break;case 4:ut?X2(f,h,w):Be&&Be&&(h=h.stateNode.containerInfo,w=Le(h),Ut(h,w))}}function V2(f,h,w){for(var b=h;;)if(z2(f,b,w),b.child===null||ut&&b.tag===4){if(b===h)break;for(;b.sibling===null;){if(b.return===null||b.return===h)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else b.child.return=b,b=b.child}function H2(f){var h=f.alternate;h!==null&&(f.alternate=null,H2(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&Ve(h)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function j2(f){return f.tag===5||f.tag===3||f.tag===4}function G2(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||j2(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function W2(f){if(ut){e:{for(var h=f.return;h!==null;){if(j2(h))break e;h=h.return}throw Error(o(160))}var w=h;switch(w.tag){case 5:h=w.stateNode,w.flags&32&&(lt(h),w.flags&=-33),w=G2(f),ow(f,w,h);break;case 3:case 4:h=w.stateNode.containerInfo,w=G2(f),sw(f,w,h);break;default:throw Error(o(161))}}}function sw(f,h,w){var b=f.tag;if(b===5||b===6)f=f.stateNode,h?He(w,f,h):gt(w,f);else if(b!==4&&(f=f.child,f!==null))for(sw(f,h,w),f=f.sibling;f!==null;)sw(f,h,w),f=f.sibling}function ow(f,h,w){var b=f.tag;if(b===5||b===6)f=f.stateNode,h?Pe(w,f,h):we(w,f);else if(b!==4&&(f=f.child,f!==null))for(ow(f,h,w),f=f.sibling;f!==null;)ow(f,h,w),f=f.sibling}function X2(f,h,w){for(var b=h,P=!1,O,K;;){if(!P){P=b.return;e:for(;;){if(P===null)throw Error(o(160));switch(O=P.stateNode,P.tag){case 5:K=!1;break e;case 3:O=O.containerInfo,K=!0;break e;case 4:O=O.containerInfo,K=!0;break e}P=P.return}P=!0}if(b.tag===5||b.tag===6)V2(f,b,w),K?Tt(O,b.stateNode):Bt(O,b.stateNode);else if(b.tag===18)K?De(O,b.stateNode):Ie(O,b.stateNode);else if(b.tag===4){if(b.child!==null){O=b.stateNode.containerInfo,K=!0,b.child.return=b,b=b.child;continue}}else if(z2(f,b,w),b.child!==null){b.child.return=b,b=b.child;continue}if(b===h)break;for(;b.sibling===null;){if(b.return===null||b.return===h)return;b=b.return,b.tag===4&&(P=!1)}b.sibling.return=b.return,b=b.sibling}}function aw(f,h){if(ut){switch(h.tag){case 0:case 11:case 14:case 15:uc(3,h,h.return),_h(3,h),uc(5,h,h.return);return;case 1:return;case 5:var w=h.stateNode;if(w!=null){var b=h.memoizedProps;f=f!==null?f.memoizedProps:b;var P=h.type,O=h.updateQueue;h.updateQueue=null,O!==null&&wt(w,O,P,f,b,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));w=h.memoizedProps,tt(h.stateNode,f!==null?f.memoizedProps:w,w);return;case 3:Ye&&f!==null&&f.memoizedState.isDehydrated&&xe(h.stateNode.containerInfo);return;case 12:return;case 13:Qg(h);return;case 19:Qg(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:uc(3,h,h.return),_h(3,h),uc(5,h,h.return);return;case 12:return;case 13:Qg(h);return;case 19:Qg(h);return;case 3:Ye&&f!==null&&f.memoizedState.isDehydrated&&xe(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(Be){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,Ut(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function Qg(f){var h=f.updateQueue;if(h!==null){f.updateQueue=null;var w=f.stateNode;w===null&&(w=f.stateNode=new n9),h.forEach(function(b){var P=h9.bind(null,f,b);w.has(b)||(w.add(b),b.then(P,P))})}}function i9(f,h){for(_t=h;_t!==null;){h=_t;var w=h.deletions;if(w!==null)for(var b=0;b<w.length;b++){var P=w[b];try{var O=f;ut?X2(O,P,h):V2(O,P,h);var K=P.alternate;K!==null&&(K.return=null),P.return=null}catch(Vt){Ni(P,h,Vt)}}if(w=h.child,h.subtreeFlags&12854&&w!==null)w.return=h,_t=w;else for(;_t!==null;){h=_t;try{var ce=h.flags;if(ce&32&&ut&&lt(h.stateNode),ce&512){var Re=h.alternate;if(Re!==null){var dt=Re.ref;dt!==null&&(typeof dt=="function"?dt(null):dt.current=null)}}if(ce&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var Lt=h.alternate;(Lt===null||Lt.memoizedState===null)&&(pw=Lr())}break;case 22:var en=h.memoizedState!==null,Wt=h.alternate,Un=Wt!==null&&Wt.memoizedState!==null;if(w=h,ut){e:if(b=w,P=en,O=null,ut)for(var jt=b;;){if(jt.tag===5){if(O===null){O=jt;var ei=jt.stateNode;P?St(ei):ye(jt.stateNode,jt.memoizedProps)}}else if(jt.tag===6){if(O===null){var Ss=jt.stateNode;P?ne(Ss):Je(Ss,jt.memoizedProps)}}else if((jt.tag!==22&&jt.tag!==23||jt.memoizedState===null||jt===b)&&jt.child!==null){jt.child.return=jt,jt=jt.child;continue}if(jt===b)break;for(;jt.sibling===null;){if(jt.return===null||jt.return===b)break e;O===jt&&(O=null),jt=jt.return}O===jt&&(O=null),jt.sibling.return=jt.return,jt=jt.sibling}}if(en&&!Un&&w.mode&1){_t=w;for(var _e=w.child;_e!==null;){for(w=_t=_e;_t!==null;){b=_t;var he=b.child;switch(b.tag){case 0:case 11:case 14:case 15:uc(4,b,b.return);break;case 1:Zg(b,b.return);var Ee=b.stateNode;if(typeof Ee.componentWillUnmount=="function"){var Et=b.return;try{Ee.props=b.memoizedProps,Ee.state=b.memoizedState,Ee.componentWillUnmount()}catch(Vt){Ni(b,Et,Vt)}}break;case 5:Zg(b,b.return);break;case 22:if(b.memoizedState!==null){q2(w);continue}}he!==null?(he.return=b,_t=he):q2(w)}_e=_e.sibling}}}switch(ce&4102){case 2:W2(h),h.flags&=-3;break;case 6:W2(h),h.flags&=-3,aw(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,aw(h.alternate,h);break;case 4:aw(h.alternate,h)}}catch(Vt){Ni(h,h.return,Vt)}if(w=h.sibling,w!==null){w.return=h.return,_t=w;break}_t=h.return}}}function s9(f,h,w){_t=f,$2(f)}function $2(f,h,w){for(var b=(f.mode&1)!==0;_t!==null;){var P=_t,O=P.child;if(P.tag===22&&b){var K=P.memoizedState!==null||Kg;if(!K){var ce=P.alternate,Re=ce!==null&&ce.memoizedState!==null||cc;ce=Kg;var dt=cc;if(Kg=K,(cc=Re)&&!dt)for(_t=P;_t!==null;)K=_t,Re=K.child,K.tag===22&&K.memoizedState!==null?K2(P):Re!==null?(Re.return=K,_t=Re):K2(P);for(;O!==null;)_t=O,$2(O),O=O.sibling;_t=P,Kg=ce,cc=dt}Y2(f)}else P.subtreeFlags&8772&&O!==null?(O.return=P,_t=O):Y2(f)}}function Y2(f){for(;_t!==null;){var h=_t;if(h.flags&8772){var w=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:cc||_h(5,h);break;case 1:var b=h.stateNode;if(h.flags&4&&!cc)if(w===null)b.componentDidMount();else{var P=h.elementType===h.type?w.memoizedProps:Vs(h.type,w.memoizedProps);b.componentDidUpdate(P,w.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var O=h.updateQueue;O!==null&&H3(h,O,b);break;case 3:var K=h.updateQueue;if(K!==null){if(w=null,h.child!==null)switch(h.child.tag){case 5:w=Q(h.child.stateNode);break;case 1:w=h.child.stateNode}H3(h,K,w)}break;case 5:var ce=h.stateNode;w===null&&h.flags&4&&Rt(ce,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(Ye&&h.memoizedState===null){var Re=h.alternate;if(Re!==null){var dt=Re.memoizedState;if(dt!==null){var Lt=dt.dehydrated;Lt!==null&&ve(Lt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}cc||h.flags&512&&iw(h)}catch(en){Ni(h,h.return,en)}}if(h===f){_t=null;break}if(w=h.sibling,w!==null){w.return=h.return,_t=w;break}_t=h.return}}function q2(f){for(;_t!==null;){var h=_t;if(h===f){_t=null;break}var w=h.sibling;if(w!==null){w.return=h.return,_t=w;break}_t=h.return}}function K2(f){for(;_t!==null;){var h=_t;try{switch(h.tag){case 0:case 11:case 15:var w=h.return;try{_h(4,h)}catch(Re){Ni(h,w,Re)}break;case 1:var b=h.stateNode;if(typeof b.componentDidMount=="function"){var P=h.return;try{b.componentDidMount()}catch(Re){Ni(h,P,Re)}}var O=h.return;try{iw(h)}catch(Re){Ni(h,O,Re)}break;case 5:var K=h.return;try{iw(h)}catch(Re){Ni(h,K,Re)}}}catch(Re){Ni(h,h.return,Re)}if(h===f){_t=null;break}var ce=h.sibling;if(ce!==null){ce.return=h.return,_t=ce;break}_t=h.return}}var Jg=0,e0=1,t0=2,n0=3,r0=4;if(typeof Symbol=="function"&&Symbol.for){var wh=Symbol.for;Jg=wh("selector.component"),e0=wh("selector.has_pseudo_class"),t0=wh("selector.role"),n0=wh("selector.test_id"),r0=wh("selector.text")}function lw(f){var h=Te(f);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(f=et(f),f===null)throw Error(o(362));return f.stateNode.current}function cw(f,h){switch(h.$$typeof){case Jg:if(f.type===h.value)return!0;break;case e0:e:{h=h.value,f=[f,0];for(var w=0;w<f.length;){var b=f[w++],P=f[w++],O=h[P];if(b.tag!==5||!U(b)){for(;O!=null&&cw(b,O);)P++,O=h[P];if(P===h.length){h=!0;break e}else for(b=b.child;b!==null;)f.push(b,P),b=b.sibling}}h=!1}return h;case t0:if(f.tag===5&&de(f.stateNode,h.value))return!0;break;case r0:if((f.tag===5||f.tag===6)&&(f=W(f),f!==null&&0<=f.indexOf(h.value)))return!0;break;case n0:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function uw(f){switch(f.$$typeof){case Jg:return"<"+(C(f.value)||"Unknown")+">";case e0:return":has("+(uw(f)||"")+")";case t0:return'[role="'+f.value+'"]';case r0:return'"'+f.value+'"';case n0:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function Z2(f,h){var w=[];f=[f,0];for(var b=0;b<f.length;){var P=f[b++],O=f[b++],K=h[O];if(P.tag!==5||!U(P)){for(;K!=null&&cw(P,K);)O++,K=h[O];if(O===h.length)w.push(P);else for(P=P.child;P!==null;)f.push(P,O),P=P.sibling}}return w}function dw(f,h){if(!pt)throw Error(o(363));f=lw(f),f=Z2(f,h),h=[],f=Array.from(f);for(var w=0;w<f.length;){var b=f[w++];if(b.tag===5)U(b)||h.push(b.stateNode);else for(b=b.child;b!==null;)f.push(b),b=b.sibling}return h}var o9=Math.ceil,i0=a.ReactCurrentDispatcher,fw=a.ReactCurrentOwner,pr=a.ReactCurrentBatchConfig,dn=0,yr=null,_r=null,Hr=0,Zi=0,qu=$e(0),Cr=0,Sh=null,Ku=0,s0=0,hw=0,bh=null,Pi=null,pw=0,mw=1/0;function Zu(){mw=Lr()+500}var o0=!1,gw=null,za=null,a0=!1,Va=null,l0=0,Mh=0,vw=null,c0=-1,u0=0;function di(){return dn&6?Lr():c0!==-1?c0:c0=Lr()}function Ha(f){return f.mode&1?dn&2&&Hr!==0?Hr&-Hr:HH.transition!==null?(u0===0&&(f=xr,xr<<=1,!(xr&4194240)&&(xr=64),u0=f),u0):(f=En,f!==0?f:Ae()):1}function _s(f,h,w){if(50<Mh)throw Mh=0,vw=null,Error(o(185));var b=d0(f,h);return b===null?null:(ah(b,h,w),(!(dn&2)||b!==yr)&&(b===yr&&(!(dn&2)&&(s0|=h),Cr===4&&ja(b,Hr)),Ii(b,w),h===1&&dn===0&&!(f.mode&1)&&(Zu(),Cg&&wo())),b)}function d0(f,h){f.lanes|=h;var w=f.alternate;for(w!==null&&(w.lanes|=h),w=f,f=f.return;f!==null;)f.childLanes|=h,w=f.alternate,w!==null&&(w.childLanes|=h),w=f,f=f.return;return w.tag===3?w.stateNode:null}function Ii(f,h){var w=f.callbackNode;DH(f,h);var b=ps(f,f===yr?Hr:0);if(b===0)w!==null&&k3(w),f.callbackNode=null,f.callbackPriority=0;else if(h=b&-b,f.callbackPriority!==h){if(w!=null&&k3(w),h===1)f.tag===0?VH(J2.bind(null,f)):U3(J2.bind(null,f)),qe?Fe(function(){dn===0&&wo()}):E1(T1,wo),w=null;else{switch(F3(b)){case 1:w=T1;break;case 4:w=kH;break;case 16:w=C1;break;case 536870912:w=UH;break;default:w=C1}w=lR(w,Q2.bind(null,f))}f.callbackPriority=h,f.callbackNode=w}}function Q2(f,h){if(c0=-1,u0=0,dn&6)throw Error(o(327));var w=f.callbackNode;if(hc()&&f.callbackNode!==w)return null;var b=ps(f,f===yr?Hr:0);if(b===0)return null;if(b&30||b&f.expiredLanes||h)h=f0(f,b);else{h=b;var P=dn;dn|=2;var O=nR();(yr!==f||Hr!==h)&&(Zu(),dc(f,h));do try{c9();break}catch(ce){tR(f,ce)}while(!0);P1(),i0.current=O,dn=P,_r!==null?h=0:(yr=null,Hr=0,h=Cr)}if(h!==0){if(h===2&&(P=S1(f),P!==0&&(b=P,h=xw(f,P))),h===1)throw w=Sh,dc(f,0),ja(f,b),Ii(f,Lr()),w;if(h===6)ja(f,b);else{if(P=f.current.alternate,!(b&30)&&!a9(P)&&(h=f0(f,b),h===2&&(O=S1(f),O!==0&&(b=O,h=xw(f,O))),h===1))throw w=Sh,dc(f,0),ja(f,b),Ii(f,Lr()),w;switch(f.finishedWork=P,f.finishedLanes=b,h){case 0:case 1:throw Error(o(345));case 2:fc(f,Pi);break;case 3:if(ja(f,b),(b&130023424)===b&&(h=pw+500-Lr(),10<h)){if(ps(f,0)!==0)break;if(P=f.suspendedLanes,(P&b)!==b){di(),f.pingedLanes|=f.suspendedLanes&P;break}f.timeoutHandle=fe(fc.bind(null,f,Pi),h);break}fc(f,Pi);break;case 4:if(ja(f,b),(b&4194240)===b)break;for(h=f.eventTimes,P=-1;0<b;){var K=31-Rn(b);O=1<<K,K=h[K],K>P&&(P=K),b&=~O}if(b=P,b=Lr()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*o9(b/1960))-b,10<b){f.timeoutHandle=fe(fc.bind(null,f,Pi),b);break}fc(f,Pi);break;case 5:fc(f,Pi);break;default:throw Error(o(329))}}}return Ii(f,Lr()),f.callbackNode===w?Q2.bind(null,f):null}function xw(f,h){var w=bh;return f.current.memoizedState.isDehydrated&&(dc(f,h).flags|=256),f=f0(f,h),f!==2&&(h=Pi,Pi=w,h!==null&&yw(h)),f}function yw(f){Pi===null?Pi=f:Pi.push.apply(Pi,f)}function a9(f){for(var h=f;;){if(h.flags&16384){var w=h.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var b=0;b<w.length;b++){var P=w[b],O=P.getSnapshot;P=P.value;try{if(!_o(O(),P))return!1}catch{return!1}}}if(w=h.child,h.subtreeFlags&16384&&w!==null)w.return=h,h=w;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function ja(f,h){for(h&=~hw,h&=~s0,f.suspendedLanes|=h,f.pingedLanes&=~h,f=f.expirationTimes;0<h;){var w=31-Rn(h),b=1<<w;f[w]=-1,h&=~b}}function J2(f){if(dn&6)throw Error(o(327));hc();var h=ps(f,0);if(!(h&1))return Ii(f,Lr()),null;var w=f0(f,h);if(f.tag!==0&&w===2){var b=S1(f);b!==0&&(h=b,w=xw(f,b))}if(w===1)throw w=Sh,dc(f,0),ja(f,h),Ii(f,Lr()),w;if(w===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=h,fc(f,Pi),Ii(f,Lr()),null}function eR(f){Va!==null&&Va.tag===0&&!(dn&6)&&hc();var h=dn;dn|=1;var w=pr.transition,b=En;try{if(pr.transition=null,En=1,f)return f()}finally{En=b,pr.transition=w,dn=h,!(dn&6)&&wo()}}function _w(){Zi=qu.current,Ze(qu)}function dc(f,h){f.finishedWork=null,f.finishedLanes=0;var w=f.timeoutHandle;if(w!==ct&&(f.timeoutHandle=ct,je(w)),_r!==null)for(w=_r.return;w!==null;){var b=w;switch(k1(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&on();break;case 3:$u(),Ze(Nt),Ze(Ft),G1();break;case 5:H1(b);break;case 4:$u();break;case 13:Ze(Zn);break;case 19:Ze(Zn);break;case 10:I1(b.type._context);break;case 22:case 23:_w()}w=w.return}if(yr=f,_r=f=Ga(f.current,null),Hr=Zi=h,Cr=0,Sh=null,hw=s0=Ku=0,Pi=bh=null,So!==null){for(h=0;h<So.length;h++)if(w=So[h],b=w.interleaved,b!==null){w.interleaved=null;var P=b.next,O=w.pending;if(O!==null){var K=O.next;O.next=P,b.next=K}w.pending=b}So=null}return f}function tR(f,h){do{var w=_r;try{if(P1(),Ug.current=Gg,Bg){for(var b=ar.memoizedState;b!==null;){var P=b.queue;P!==null&&(P.pending=null),b=b.next}Bg=!1}if(Yu=0,Or=Zr=ar=null,hh=!1,ph=0,fw.current=null,w===null||w.return===null){Cr=1,Sh=h,_r=null;break}e:{var O=f,K=w.return,ce=w,Re=h;if(h=Hr,ce.flags|=32768,Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var dt=Re,Lt=ce,en=Lt.tag;if(!(Lt.mode&1)&&(en===0||en===11||en===15)){var Wt=Lt.alternate;Wt?(Lt.updateQueue=Wt.updateQueue,Lt.memoizedState=Wt.memoizedState,Lt.lanes=Wt.lanes):(Lt.updateQueue=null,Lt.memoizedState=null)}var Un=S2(K);if(Un!==null){Un.flags&=-257,b2(Un,K,ce,O,h),Un.mode&1&&w2(O,dt,h),h=Un,Re=dt;var jt=h.updateQueue;if(jt===null){var ei=new Set;ei.add(Re),h.updateQueue=ei}else jt.add(Re);break e}else{if(!(h&1)){w2(O,dt,h),ww();break e}Re=Error(o(426))}}else if(Xn&&ce.mode&1){var Ss=S2(K);if(Ss!==null){!(Ss.flags&65536)&&(Ss.flags|=256),b2(Ss,K,ce,O,h),z1(Re);break e}}O=Re,Cr!==4&&(Cr=2),bh===null?bh=[O]:bh.push(O),Re=Z1(Re,ce),ce=K;do{switch(ce.tag){case 3:ce.flags|=65536,h&=-h,ce.lanes|=h;var _e=y2(ce,Re,h);V3(ce,_e);break e;case 1:O=Re;var he=ce.type,Ee=ce.stateNode;if(!(ce.flags&128)&&(typeof he.getDerivedStateFromError=="function"||Ee!==null&&typeof Ee.componentDidCatch=="function"&&(za===null||!za.has(Ee)))){ce.flags|=65536,h&=-h,ce.lanes|=h;var Et=_2(ce,O,h);V3(ce,Et);break e}}ce=ce.return}while(ce!==null)}iR(w)}catch(Vt){h=Vt,_r===w&&w!==null&&(_r=w=w.return);continue}break}while(!0)}function nR(){var f=i0.current;return i0.current=Gg,f===null?Gg:f}function ww(){(Cr===0||Cr===3||Cr===2)&&(Cr=4),yr===null||!(Ku&268435455)&&!(s0&268435455)||ja(yr,Hr)}function f0(f,h){var w=dn;dn|=2;var b=nR();yr===f&&Hr===h||dc(f,h);do try{l9();break}catch(P){tR(f,P)}while(!0);if(P1(),dn=w,i0.current=b,_r!==null)throw Error(o(261));return yr=null,Hr=0,Cr}function l9(){for(;_r!==null;)rR(_r)}function c9(){for(;_r!==null&&!OH();)rR(_r)}function rR(f){var h=aR(f.alternate,f,Zi);f.memoizedProps=f.pendingProps,h===null?iR(f):_r=h,fw.current=null}function iR(f){var h=f;do{var w=h.alternate;if(f=h.return,h.flags&32768){if(w=t9(w,h),w!==null){w.flags&=32767,_r=w;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{Cr=6,_r=null;return}}else if(w=QH(w,h,Zi),w!==null){_r=w;return}if(h=h.sibling,h!==null){_r=h;return}_r=h=f}while(h!==null);Cr===0&&(Cr=5)}function fc(f,h){var w=En,b=pr.transition;try{pr.transition=null,En=1,u9(f,h,w)}finally{pr.transition=b,En=w}return null}function u9(f,h,w){do hc();while(Va!==null);if(dn&6)throw Error(o(327));var b=f.finishedWork,P=f.finishedLanes;if(b===null)return null;if(f.finishedWork=null,f.finishedLanes=0,b===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var O=b.lanes|b.childLanes;if(LH(f,O),f===yr&&(_r=yr=null,Hr=0),!(b.subtreeFlags&2064)&&!(b.flags&2064)||a0||(a0=!0,lR(C1,function(){return hc(),null})),O=(b.flags&15990)!==0,b.subtreeFlags&15990||O){O=pr.transition,pr.transition=null;var K=En;En=1;var ce=dn;dn|=4,fw.current=null,r9(f,b),i9(f,b),$(f.containerInfo),f.current=b,s9(b),FH(),dn=ce,En=K,pr.transition=O}else f.current=b;if(a0&&(a0=!1,Va=f,l0=P),O=f.pendingLanes,O===0&&(za=null),BH(b.stateNode),Ii(f,Lr()),h!==null)for(w=f.onRecoverableError,b=0;b<h.length;b++)w(h[b]);if(o0)throw o0=!1,f=gw,gw=null,f;return l0&1&&f.tag!==0&&hc(),O=f.pendingLanes,O&1?f===vw?Mh++:(Mh=0,vw=f):Mh=0,wo(),null}function hc(){if(Va!==null){var f=F3(l0),h=pr.transition,w=En;try{if(pr.transition=null,En=16>f?16:f,Va===null)var b=!1;else{if(f=Va,Va=null,l0=0,dn&6)throw Error(o(331));var P=dn;for(dn|=4,_t=f.current;_t!==null;){var O=_t,K=O.child;if(_t.flags&16){var ce=O.deletions;if(ce!==null){for(var Re=0;Re<ce.length;Re++){var dt=ce[Re];for(_t=dt;_t!==null;){var Lt=_t;switch(Lt.tag){case 0:case 11:case 15:uc(8,Lt,O)}var en=Lt.child;if(en!==null)en.return=Lt,_t=en;else for(;_t!==null;){Lt=_t;var Wt=Lt.sibling,Un=Lt.return;if(H2(Lt),Lt===dt){_t=null;break}if(Wt!==null){Wt.return=Un,_t=Wt;break}_t=Un}}}var jt=O.alternate;if(jt!==null){var ei=jt.child;if(ei!==null){jt.child=null;do{var Ss=ei.sibling;ei.sibling=null,ei=Ss}while(ei!==null)}}_t=O}}if(O.subtreeFlags&2064&&K!==null)K.return=O,_t=K;else e:for(;_t!==null;){if(O=_t,O.flags&2048)switch(O.tag){case 0:case 11:case 15:uc(9,O,O.return)}var _e=O.sibling;if(_e!==null){_e.return=O.return,_t=_e;break e}_t=O.return}}var he=f.current;for(_t=he;_t!==null;){K=_t;var Ee=K.child;if(K.subtreeFlags&2064&&Ee!==null)Ee.return=K,_t=Ee;else e:for(K=he;_t!==null;){if(ce=_t,ce.flags&2048)try{switch(ce.tag){case 0:case 11:case 15:_h(9,ce)}}catch(Vt){Ni(ce,ce.return,Vt)}if(ce===K){_t=null;break e}var Et=ce.sibling;if(Et!==null){Et.return=ce.return,_t=Et;break e}_t=ce.return}}if(dn=P,wo(),yo&&typeof yo.onPostCommitFiberRoot=="function")try{yo.onPostCommitFiberRoot(Tg,f)}catch{}b=!0}return b}finally{En=w,pr.transition=h}}return!1}function sR(f,h,w){h=Z1(w,h),h=y2(f,h,1),Ba(f,h),h=di(),f=d0(f,1),f!==null&&(ah(f,1,h),Ii(f,h))}function Ni(f,h,w){if(f.tag===3)sR(f,f,w);else for(;h!==null;){if(h.tag===3){sR(h,f,w);break}else if(h.tag===1){var b=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(za===null||!za.has(b))){f=Z1(w,f),f=_2(h,f,1),Ba(h,f),f=di(),h=d0(h,1),h!==null&&(ah(h,1,f),Ii(h,f));break}}h=h.return}}function d9(f,h,w){var b=f.pingCache;b!==null&&b.delete(h),h=di(),f.pingedLanes|=f.suspendedLanes&w,yr===f&&(Hr&w)===w&&(Cr===4||Cr===3&&(Hr&130023424)===Hr&&500>Lr()-pw?dc(f,0):hw|=w),Ii(f,h)}function oR(f,h){h===0&&(f.mode&1?(h=Tr,Tr<<=1,!(Tr&130023424)&&(Tr=4194304)):h=1);var w=di();f=d0(f,h),f!==null&&(ah(f,h,w),Ii(f,w))}function f9(f){var h=f.memoizedState,w=0;h!==null&&(w=h.retryLane),oR(f,w)}function h9(f,h){var w=0;switch(f.tag){case 13:var b=f.stateNode,P=f.memoizedState;P!==null&&(w=P.retryLane);break;case 19:b=f.stateNode;break;default:throw Error(o(314))}b!==null&&b.delete(h),oR(f,w)}var aR;aR=function(f,h,w){if(f!==null)if(f.memoizedProps!==h.pendingProps||Nt.current)Ki=!0;else{if(!(f.lanes&w)&&!(h.flags&128))return Ki=!1,e9(f,h,w);Ki=!!(f.flags&131072)}else Ki=!1,Xn&&h.flags&1048576&&$3(h,Og,h.index);switch(h.lanes=0,h.tag){case 2:var b=h.type;f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps;var P=Jt(h,Ft.current);Vu(h,w),P=X1(null,h,b,f,P,w);var O=$1();return h.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Mt(b)?(O=!0,pn(h)):O=!1,h.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,D1(h),P.updater=Dg,h.stateNode=P,P._reactInternals=h,O1(h,b,f,w),h=ew(null,h,b,!0,O,w)):(h.tag=0,Xn&&O&&F1(h),ui(null,h,P,w),h=h.child),h;case 16:b=h.elementType;e:{switch(f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps,P=b._init,b=P(b._payload),h.type=b,P=h.tag=m9(b),f=Vs(b,f),P){case 0:h=J1(null,h,b,f,w);break e;case 1:h=I2(null,h,b,f,w);break e;case 11:h=T2(null,h,b,f,w);break e;case 14:h=C2(null,h,b,Vs(b.type,f),w);break e}throw Error(o(306,b,""))}return h;case 0:return b=h.type,P=h.pendingProps,P=h.elementType===b?P:Vs(b,P),J1(f,h,b,P,w);case 1:return b=h.type,P=h.pendingProps,P=h.elementType===b?P:Vs(b,P),I2(f,h,b,P,w);case 3:e:{if(N2(h),f===null)throw Error(o(387));b=h.pendingProps,O=h.memoizedState,P=O.element,z3(f,h),Ng(h,b,null,w);var K=h.memoizedState;if(b=K.element,Ye&&O.isDehydrated)if(O={element:b,isDehydrated:!1,cache:K.cache,transitions:K.transitions},h.updateQueue.baseState=O,h.memoizedState=O,h.flags&256){P=Error(o(423)),h=D2(f,h,b,w,P);break e}else if(b!==P){P=Error(o(424)),h=D2(f,h,b,w,P);break e}else for(Ye&&(qi=bt(h.stateNode.containerInfo),Yi=h,Xn=!0,Hs=null,lh=!1),w=J3(h,null,b,w),h.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Gu(),b===P){h=ia(f,h,w);break e}ui(f,h,b,w)}h=h.child}return h;case 5:return e2(h),f===null&&B1(h),b=h.type,P=h.pendingProps,O=f!==null?f.memoizedProps:null,K=P.children,at(b,P)?K=null:O!==null&&at(b,O)&&(h.flags|=32),P2(f,h),ui(f,h,K,w),h.child;case 6:return f===null&&B1(h),null;case 13:return L2(f,h,w);case 4:return V1(h,h.stateNode.containerInfo),b=h.pendingProps,f===null?h.child=Wu(h,null,b,w):ui(f,h,b,w),h.child;case 11:return b=h.type,P=h.pendingProps,P=h.elementType===b?P:Vs(b,P),T2(f,h,b,P,w);case 7:return ui(f,h,h.pendingProps,w),h.child;case 8:return ui(f,h,h.pendingProps.children,w),h.child;case 12:return ui(f,h,h.pendingProps.children,w),h.child;case 10:e:{if(b=h.type._context,P=h.pendingProps,O=h.memoizedProps,K=P.value,B3(h,b,K),O!==null)if(_o(O.value,K)){if(O.children===P.children&&!Nt.current){h=ia(f,h,w);break e}}else for(O=h.child,O!==null&&(O.return=h);O!==null;){var ce=O.dependencies;if(ce!==null){K=O.child;for(var Re=ce.firstContext;Re!==null;){if(Re.context===b){if(O.tag===1){Re=ea(-1,w&-w),Re.tag=2;var dt=O.updateQueue;if(dt!==null){dt=dt.shared;var Lt=dt.pending;Lt===null?Re.next=Re:(Re.next=Lt.next,Lt.next=Re),dt.pending=Re}}O.lanes|=w,Re=O.alternate,Re!==null&&(Re.lanes|=w),N1(O.return,w,h),ce.lanes|=w;break}Re=Re.next}}else if(O.tag===10)K=O.type===h.type?null:O.child;else if(O.tag===18){if(K=O.return,K===null)throw Error(o(341));K.lanes|=w,ce=K.alternate,ce!==null&&(ce.lanes|=w),N1(K,w,h),K=O.sibling}else K=O.child;if(K!==null)K.return=O;else for(K=O;K!==null;){if(K===h){K=null;break}if(O=K.sibling,O!==null){O.return=K.return,K=O;break}K=K.return}O=K}ui(f,h,P.children,w),h=h.child}return h;case 9:return P=h.type,b=h.pendingProps.children,Vu(h,w),P=ms(P),b=b(P),h.flags|=1,ui(f,h,b,w),h.child;case 14:return b=h.type,P=Vs(b,h.pendingProps),P=Vs(b.type,P),C2(f,h,b,P,w);case 15:return A2(f,h,h.type,h.pendingProps,w);case 17:return b=h.type,P=h.pendingProps,P=h.elementType===b?P:Vs(b,P),f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,Mt(b)?(f=!0,pn(h)):f=!1,Vu(h,w),W3(h,b,P),O1(h,b,P,w),ew(null,h,b,!0,f,w);case 19:return U2(f,h,w);case 22:return R2(f,h,w)}throw Error(o(156,h.tag))};function lR(f,h){return E1(f,h)}function p9(f,h,w,b){this.tag=f,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(f,h,w,b){return new p9(f,h,w,b)}function Sw(f){return f=f.prototype,!(!f||!f.isReactComponent)}function m9(f){if(typeof f=="function")return Sw(f)?1:0;if(f!=null){if(f=f.$$typeof,f===x)return 11;if(f===_)return 14}return 2}function Ga(f,h){var w=f.alternate;return w===null?(w=ws(f.tag,h,f.key,f.mode),w.elementType=f.elementType,w.type=f.type,w.stateNode=f.stateNode,w.alternate=f,f.alternate=w):(w.pendingProps=h,w.type=f.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=f.flags&14680064,w.childLanes=f.childLanes,w.lanes=f.lanes,w.child=f.child,w.memoizedProps=f.memoizedProps,w.memoizedState=f.memoizedState,w.updateQueue=f.updateQueue,h=f.dependencies,w.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},w.sibling=f.sibling,w.index=f.index,w.ref=f.ref,w}function h0(f,h,w,b,P,O){var K=2;if(b=f,typeof f=="function")Sw(f)&&(K=1);else if(typeof f=="string")K=5;else e:switch(f){case u:return pc(w.children,P,O,h);case d:K=8,P|=8;break;case p:return f=ws(12,w,h,P|2),f.elementType=p,f.lanes=O,f;case y:return f=ws(13,w,h,P),f.elementType=y,f.lanes=O,f;case g:return f=ws(19,w,h,P),f.elementType=g,f.lanes=O,f;case M:return p0(w,P,O,h);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case m:K=10;break e;case v:K=9;break e;case x:K=11;break e;case _:K=14;break e;case S:K=16,b=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return h=ws(K,w,h,P),h.elementType=f,h.type=b,h.lanes=O,h}function pc(f,h,w,b){return f=ws(7,f,b,h),f.lanes=w,f}function p0(f,h,w,b){return f=ws(22,f,b,h),f.elementType=M,f.lanes=w,f.stateNode={},f}function bw(f,h,w){return f=ws(6,f,null,h),f.lanes=w,f}function Mw(f,h,w){return h=ws(4,f.children!==null?f.children:[],f.key,h),h.lanes=w,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}function g9(f,h,w,b,P){this.tag=h,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ct,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=b1(0),this.expirationTimes=b1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=b1(0),this.identifierPrefix=b,this.onRecoverableError=P,Ye&&(this.mutableSourceEagerHydrationData=null)}function cR(f,h,w,b,P,O,K,ce,Re){return f=new g9(f,h,w,ce,Re),h===1?(h=1,O===!0&&(h|=8)):h=0,O=ws(3,null,null,h),f.current=O,O.stateNode=f,O.memoizedState={element:b,isDehydrated:w,cache:null,transitions:null},D1(O),f}function uR(f){if(!f)return rt;f=f._reactInternals;e:{if(N(f)!==f||f.tag!==1)throw Error(o(170));var h=f;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Mt(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(f.tag===1){var w=f.type;if(Mt(w))return yn(f,w,h)}return h}function dR(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=V(h),f===null?null:f.stateNode}function fR(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var w=f.retryLane;f.retryLane=w!==0&&w<h?w:h}}function Ew(f,h){fR(f,h),(f=f.alternate)&&fR(f,h)}function v9(f){return f=V(f),f===null?null:f.stateNode}function x9(){return null}return n.attemptContinuousHydration=function(f){if(f.tag===13){var h=di();_s(f,134217728,h),Ew(f,134217728)}},n.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var h=di(),w=Ha(f);_s(f,w,h),Ew(f,w)}},n.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var h=f.stateNode;if(h.current.memoizedState.isDehydrated){var w=Qo(h.pendingLanes);w!==0&&(M1(h,w|1),Ii(h,Lr()),!(dn&6)&&(Zu(),wo()))}break;case 13:var b=di();eR(function(){return _s(f,1,b)}),Ew(f,1)}},n.batchedUpdates=function(f,h){var w=dn;dn|=1;try{return f(h)}finally{dn=w,dn===0&&(Zu(),Cg&&wo())}},n.createComponentSelector=function(f){return{$$typeof:Jg,value:f}},n.createContainer=function(f,h,w,b,P,O,K){return cR(f,h,!1,null,w,b,P,O,K)},n.createHasPseudoClassSelector=function(f){return{$$typeof:e0,value:f}},n.createHydrationContainer=function(f,h,w,b,P,O,K,ce,Re){return f=cR(w,b,!0,f,P,O,K,ce,Re),f.context=uR(null),w=f.current,b=di(),P=Ha(w),O=ea(b,P),O.callback=h??null,Ba(w,O),f.current.lanes=P,ah(f,P,b),Ii(f,b),f},n.createPortal=function(f,h,w){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:f,containerInfo:h,implementation:w}},n.createRoleSelector=function(f){return{$$typeof:t0,value:f}},n.createTestNameSelector=function(f){return{$$typeof:n0,value:f}},n.createTextSelector=function(f){return{$$typeof:r0,value:f}},n.deferredUpdates=function(f){var h=En,w=pr.transition;try{return pr.transition=null,En=16,f()}finally{En=h,pr.transition=w}},n.discreteUpdates=function(f,h,w,b,P){var O=En,K=pr.transition;try{return pr.transition=null,En=1,f(h,w,b,P)}finally{En=O,pr.transition=K,dn===0&&Zu()}},n.findAllNodes=dw,n.findBoundingRects=function(f,h){if(!pt)throw Error(o(363));h=dw(f,h),f=[];for(var w=0;w<h.length;w++)f.push(vt(h[w]));for(h=f.length-1;0<h;h--){w=f[h];for(var b=w.x,P=b+w.width,O=w.y,K=O+w.height,ce=h-1;0<=ce;ce--)if(h!==ce){var Re=f[ce],dt=Re.x,Lt=dt+Re.width,en=Re.y,Wt=en+Re.height;if(b>=dt&&O>=en&&P<=Lt&&K<=Wt){f.splice(h,1);break}else if(b!==dt||w.width!==Re.width||Wt<O||en>K){if(!(O!==en||w.height!==Re.height||Lt<b||dt>P)){dt>b&&(Re.width+=dt-b,Re.x=b),Lt<P&&(Re.width=P-dt),f.splice(h,1);break}}else{en>O&&(Re.height+=en-O,Re.y=O),Wt<K&&(Re.height=K-en),f.splice(h,1);break}}}return f},n.findHostInstance=dR,n.findHostInstanceWithNoPortals=function(f){return f=F(f),f=f!==null?G(f):null,f===null?null:f.stateNode},n.findHostInstanceWithWarning=function(f){return dR(f)},n.flushControlled=function(f){var h=dn;dn|=1;var w=pr.transition,b=En;try{pr.transition=null,En=1,f()}finally{En=b,pr.transition=w,dn=h,dn===0&&(Zu(),wo())}},n.flushPassiveEffects=hc,n.flushSync=eR,n.focusWithin=function(f,h){if(!pt)throw Error(o(363));for(f=lw(f),h=Z2(f,h),h=Array.from(h),f=0;f<h.length;){var w=h[f++];if(!U(w)){if(w.tag===5&&be(w.stateNode))return!0;for(w=w.child;w!==null;)h.push(w),w=w.sibling}}return!1},n.getCurrentUpdatePriority=function(){return En},n.getFindAllNodesFailureDescription=function(f,h){if(!pt)throw Error(o(363));var w=0,b=[];f=[lw(f),0];for(var P=0;P<f.length;){var O=f[P++],K=f[P++],ce=h[K];if((O.tag!==5||!U(O))&&(cw(O,ce)&&(b.push(uw(ce)),K++,K>w&&(w=K)),K<h.length))for(O=O.child;O!==null;)f.push(O,K),O=O.sibling}if(w<h.length){for(f=[];w<h.length;w++)f.push(uw(h[w]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},n.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return Q(f.child.stateNode);default:return f.child.stateNode}},n.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:v9,findFiberByHostInstance:f.findFiberByHostInstance||x9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)f=!0;else{try{Tg=h.inject(f),yo=h}catch{}f=!!h.checkDCE}}return f},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(f,h,w,b){if(!pt)throw Error(o(363));f=dw(f,h);var P=Ne(f,w,b).disconnect;return{disconnect:function(){P()}}},n.registerMutableSourceForHydration=function(f,h){var w=h._getVersion;w=w(h._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[h,w]:f.mutableSourceEagerHydrationData.push(h,w)},n.runWithPriority=function(f,h){var w=En;try{return En=f,h()}finally{En=w}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(f,h,w,b){var P=h.current,O=di(),K=Ha(P);return w=uR(w),h.context===null?h.context=w:h.pendingContext=w,h=ea(O,K),h.payload={element:f},b=b===void 0?null:b,b!==null&&(h.callback=b),Ba(P,h),f=_s(P,K,O),f!==null&&Ig(f,P,K),K},n};oV.exports=yue;var _ue=oV.exports;const wue=Qy(_ue),jA={},GA=t=>void Object.assign(jA,t);function Sue(t,e){function n(u,{args:d=[],attach:p,...m},v){let x=`${u[0].toUpperCase()}${u.slice(1)}`,y;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;y=Ed(g,{type:u,root:v,attach:p,primitive:!0})}else{const g=jA[x];if(!g)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");y=Ed(new g(...d),{type:u,root:v,attach:p,memoizedProps:{args:d}})}return y.__r3f.attach===void 0&&(y.isBufferGeometry?y.__r3f.attach="geometry":y.isMaterial&&(y.__r3f.attach="material")),x!=="inject"&&pb(y,m),y}function r(u,d){let p=!1;if(d){var m,v;(m=d.__r3f)!=null&&m.attach?hb(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),p=!0),p||(v=u.__r3f)==null||v.objects.push(d),d.__r3f||Ed(d,{}),d.__r3f.parent=u,GE(d),Td(d)}}function i(u,d,p){let m=!1;if(d){var v,x;if((v=d.__r3f)!=null&&v.attach)hb(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:d});const y=u.children.filter(_=>_!==d),g=y.indexOf(p);u.children=[...y.slice(0,g),d,...y.slice(g)],m=!0}m||(x=u.__r3f)==null||x.objects.push(d),d.__r3f||Ed(d,{}),d.__r3f.parent=u,GE(d),Td(d)}}function s(u,d,p=!1){u&&[...u].forEach(m=>o(d,m,p))}function o(u,d,p){if(d){var m,v,x;if(d.__r3f&&(d.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(M=>M!==d)),(v=d.__r3f)!=null&&v.attach)vL(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var y;u.remove(d),(y=d.__r3f)!=null&&y.root&&Rue(px(d),d)}const _=(x=d.__r3f)==null?void 0:x.primitive,S=!_&&(p===void 0?d.dispose!==null:p);if(!_){var g;s((g=d.__r3f)==null?void 0:g.objects,d,S),s(d.children,d,S)}if(delete d.__r3f,S&&d.dispose&&d.type!=="Scene"){const M=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?HE.unstable_scheduleCallback(HE.unstable_IdlePriority,M):M()}Td(u)}}function a(u,d,p,m){var v;const x=(v=u.__r3f)==null?void 0:v.parent;if(!x)return;const y=n(d,p,u.__r3f.root);if(u.children){for(const g of u.children)g.__r3f&&r(y,g);u.children=u.children.filter(g=>!g.__r3f)}u.__r3f.objects.forEach(g=>r(y,g)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(x,u),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(x,y),y.raycast&&y.__r3f.eventCount&&px(y).getState().internal.interaction.push(y),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=y,g.ref&&(typeof g.ref=="function"?g.ref(y):g.ref.current=y))})}const l=()=>{};return{reconciler:wue({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const p=u.getState().scene;p.__r3f&&(p.__r3f.root=u,r(p,d))},removeChildFromContainer:(u,d)=>{d&&o(u.getState().scene,d)},insertInContainerBefore:(u,d,p)=>{if(!d||!p)return;const m=u.getState().scene;m.__r3f&&i(m,d,p)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;return!!((d=u==null?void 0:u.__r3f)!=null?d:{}).handlers},prepareUpdate(u,d,p,m){var v;if(((v=u==null?void 0:u.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:y=[],children:g,..._}=m,{args:S=[],children:M,...A}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((C,D)=>C!==S[D]))return[!0];const R=mV(u,_,A,!0);return R.changes.length?[!1,R]:null}},commitUpdate(u,[d,p],m,v,x,y){d?a(u,m,x,y):pb(u,p)},commitMount(u,d,p,m){var v;const x=(v=u.__r3f)!=null?v:{};u.raycast&&x.handlers&&x.eventCount&&px(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Ed(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:p,parent:m}=(d=u.__r3f)!=null?d:{};p&&m&&vL(m,u,p),u.isObject3D&&(u.visible=!1),Td(u)},unhideInstance(u,d){var p;const{attach:m,parent:v}=(p=u.__r3f)!=null?p:{};m&&v&&hb(v,u,m),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),Td(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Xd.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&zn.fun(performance.now)?performance.now:zn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:zn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:zn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:pb}}var hL,pL;const fb=t=>"colorSpace"in t||"outputColorSpace"in t,cV=()=>{var t;return(t=jA.ColorManagement)!=null?t:null},uV=t=>t&&t.isOrthographicCamera,bue=t=>t&&t.hasOwnProperty("current"),_g=typeof window<"u"&&((hL=window.document)!=null&&hL.createElement||((pL=window.navigator)==null?void 0:pL.product)==="ReactNative")?E.useLayoutEffect:E.useEffect;function dV(t){const e=E.useRef(t);return _g(()=>void(e.current=t),[t]),e}function Mue({set:t}){return _g(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class fV extends E.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}fV.getDerivedStateFromError=()=>({error:!0});const hV="__default",mL=new Map,Eue=t=>t&&!!t.memoized&&!!t.changes;function pV(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Qh=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function px(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const zn={obj:t=>t===Object(t)&&!zn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(zn.str(t)||zn.num(t)||zn.boo(t))return t===e;const s=zn.obj(t);if(s&&r==="reference")return t===e;const o=zn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!zn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(zn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Tue(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function Cue(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Ed(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function jE(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const gL=/-\d+$/;function hb(t,e,n){if(zn.str(n)){if(gL.test(n)){const s=n.replace(gL,""),{target:o,key:a}=jE(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=jE(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function vL(t,e,n){var r,i;if(zn.str(n)){const{target:s,key:o}=jE(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function mV(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){const u=t.__r3f,d=Object.entries(i),p=[];if(c){const v=Object.keys(l);for(let x=0;x<v.length;x++)i.hasOwnProperty(v[x])||d.unshift([v[x],hV+"remove"])}d.forEach(([v,x])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&v==="object"||zn.equ(x,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return p.push([v,x,!0,[]]);let g=[];v.includes("-")&&(g=v.split("-")),p.push([v,x,!1,g]);for(const _ in i){const S=i[_];_.startsWith(`${v}-`)&&p.push([_,S,!1,_.split("-")])}});const m={...i};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(m.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(m.attach=u.memoizedProps.attach),{memoized:m,changes:p}}function pb(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=Eue(e)?e:mV(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let p=0;p<a.length;p++){let[m,v,x,y]=a[p];if(fb(t)){const M="srgb",A="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?M:A):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?M:A)}let g=t,_=g[m];if(y.length&&(_=y.reduce((S,M)=>S[M],t),!(_&&_.set))){const[S,...M]=y.reverse();g=M.reverse().reduce((A,R)=>A[R],t),m=S}if(v===hV+"remove")if(g.constructor){let S=mL.get(g.constructor);S||(S=new g.constructor,mL.set(g.constructor,S)),v=S[m]}else v=0;if(x&&r)v?r.handlers[m]=v:delete r.handlers[m],r.eventCount=Object.keys(r.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof du)){if(Array.isArray(v))_.fromArray?_.fromArray(v):_.set(...v);else if(_.copy&&v&&v.constructor&&_.constructor===v.constructor)_.copy(v);else if(v!==void 0){var c;const S=(c=_)==null?void 0:c.isColor;!S&&_.setScalar?_.setScalar(v):_ instanceof du&&v instanceof du?_.mask=v.mask:_.set(v),!cV()&&s&&!s.linear&&S&&_.convertSRGBToLinear()}}else{var u;if(g[m]=v,(u=g[m])!=null&&u.isTexture&&g[m].format===vr&&g[m].type===bi&&s){const S=g[m];fb(S)&&fb(s.gl)?S.colorSpace=s.gl.outputColorSpace:S.encoding=s.gl.outputEncoding}}Td(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const p=px(t).getState().internal,m=p.interaction.indexOf(t);m>-1&&p.interaction.splice(m,1),r.eventCount&&p.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&GE(t),t}function Td(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function GE(t){t.onUpdate==null||t.onUpdate(t)}function gV(t,e){t.manual||(uV(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Dv(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Aue(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Xd.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Xd.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Xd.ContinuousEventPriority;default:return Xd.DefaultEventPriority}}function vV(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function Rue(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{vV(n.capturedMap,e,r,i)})}function Pue(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),d=new Set,p=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let g=0;g<m.length;g++){const _=Qh(m[g]);_&&(_.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function v(g){const _=Qh(g);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var S;_.events.compute==null||_.events.compute(l,_,(S=_.previousRoot)==null?void 0:S.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(g,!0):[]}let x=m.flatMap(v).sort((g,_)=>{const S=Qh(g.object),M=Qh(_.object);return!S||!M?g.distance-_.distance:M.events.priority-S.events.priority||g.distance-_.distance}).filter(g=>{const _=Dv(g);return d.has(_)?!1:(d.add(_),!0)});u.events.filter&&(x=u.events.filter(x,u));for(const g of x){let _=g.object;for(;_;){var y;(y=_.__r3f)!=null&&y.eventCount&&p.push({...g,eventObject:_}),_=_.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let g of u.internal.capturedMap.get(l.pointerId).values())d.has(Dv(g.intersection))||p.push(g.intersection);return p}function i(l,c,u,d){const p=t.getState();if(l.length){const m={stopped:!1};for(const v of l){const x=Qh(v.object)||p,{raycaster:y,pointer:g,camera:_,internal:S}=x,M=new X(g.x,g.y,0).unproject(_),A=I=>{var F,V;return(F=(V=S.capturedMap.get(I))==null?void 0:V.has(v.eventObject))!=null?F:!1},R=I=>{const F={intersection:v,target:c.target};S.capturedMap.has(I)?S.capturedMap.get(I).set(v.eventObject,F):S.capturedMap.set(I,new Map([[v.eventObject,F]])),c.target.setPointerCapture(I)},C=I=>{const F=S.capturedMap.get(I);F&&vV(S.capturedMap,v.eventObject,F,I)};let D={};for(let I in c){let F=c[I];typeof F!="function"&&(D[I]=F)}let N={...v,...D,pointer:g,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:M,ray:y.ray,camera:_,stopPropagation(){const I="pointerId"in c&&S.capturedMap.get(c.pointerId);if((!I||I.has(v.eventObject))&&(N.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(F=>F.eventObject===v.eventObject))){const F=l.slice(0,l.indexOf(v));s([...F,v])}},target:{hasPointerCapture:A,setPointerCapture:R,releasePointerCapture:C},currentTarget:{hasPointerCapture:A,setPointerCapture:R,releasePointerCapture:C},nativeEvent:c};if(d(N),m.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const p=u.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(Dv(u)),p!=null&&p.eventCount){const v={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:d,internal:p}=t.getState();p.lastEvent.current=u;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(u,m?n:void 0),g=v?e(u):0;l==="onPointerDown"&&(p.initialClick=[u.offsetX,u.offsetY],p.initialHits=y.map(S=>S.eventObject)),v&&!y.length&&g<=2&&(o(u,p.interaction),d&&d(u)),m&&s(y);function _(S){const M=S.eventObject,A=M.__r3f,R=A==null?void 0:A.handlers;if(A!=null&&A.eventCount)if(m){if(R.onPointerOver||R.onPointerEnter||R.onPointerOut||R.onPointerLeave){const C=Dv(S),D=p.hovered.get(C);D?D.stopped&&S.stopPropagation():(p.hovered.set(C,S),R.onPointerOver==null||R.onPointerOver(S),R.onPointerEnter==null||R.onPointerEnter(S))}R.onPointerMove==null||R.onPointerMove(S)}else{const C=R[l];C?(!v||p.initialHits.includes(M))&&(o(u,p.interaction.filter(D=>!p.initialHits.includes(D))),C(S)):v&&p.initialHits.includes(M)&&o(u,p.interaction.filter(D=>!p.initialHits.includes(D)))}}i(y,u,g,_)}}return{handlePointer:a}}const Iue=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],xV=t=>!!(t!=null&&t.render),WA=E.createContext(null),Nue=(t,e)=>{const n=rV((a,l)=>{const c=new X,u=new X,d=new X;function p(g=l().camera,_=u,S=l().size){const{width:M,height:A,top:R,left:C}=S,D=M/A;_.isVector3?d.copy(_):d.set(..._);const N=g.getWorldPosition(c).distanceTo(d);if(uV(g))return{width:M/g.zoom,height:A/g.zoom,top:R,left:C,factor:1,distance:N,aspect:D};{const I=g.fov*Math.PI/180,F=2*Math.tan(I/2)*N,V=F*(M/A);return{width:V,height:F,top:R,left:C,factor:M/V,distance:N,aspect:D}}}let m;const v=g=>a(_=>({performance:{..._.performance,current:g}})),x=new Xe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>t(l(),g),advance:(g,_)=>e(g,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new FA,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(_=>({..._,events:{..._.events,...g}})),setSize:(g,_,S,M,A)=>{const R=l().camera,C={width:g,height:_,top:M||0,left:A||0,updateStyle:S};a(D=>({size:C,viewport:{...D.viewport,...p(R,u,C)}}))},setDpr:g=>a(_=>{const S=pV(g);return{viewport:{..._.viewport,dpr:S,initialDpr:_.viewport.initialDpr||S}}}),setFrameloop:(g="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,g!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:E.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,_,S)=>{const M=l().internal;return M.priority=M.priority+(_>0?1:0),M.subscribers.push({ref:g,priority:_,store:S}),M.subscribers=M.subscribers.sort((A,R)=>A.priority-R.priority),()=>{const A=l().internal;A!=null&&A.subscribers&&(A.priority=A.priority-(_>0?1:0),A.subscribers=A.subscribers.filter(R=>R.ref!==g))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:d}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var p;i=l,s=c.dpr,gV(a,l),u.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let Lv,Due=new Set,Lue=new Set,Oue=new Set;function mb(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Jh(t,e){switch(t){case"before":return mb(Due,e);case"after":return mb(Lue,e);case"tail":return mb(Oue,e)}}let gb,vb;function xb(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),gb=e.internal.subscribers,Lv=0;Lv<gb.length;Lv++)vb=gb[Lv],vb.ref.current(vb.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Fue(t){let e=!1,n=!1,r,i,s;function o(c){i=requestAnimationFrame(o),e=!0,r=0,Jh("before",c),n=!0;for(const d of t.values()){var u;s=d.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((u=s.gl.xr)!=null&&u.isPresenting)&&(r+=xb(c,s))}if(n=!1,Jh("after",c),r===0)return Jh("tail",c),e=!1,cancelAnimationFrame(i)}function a(c,u=1){var d;if(!c)return t.forEach(p=>a(p.store.getState(),u));(d=c.gl.xr)!=null&&d.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,u=!0,d,p){if(u&&Jh("before",c),d)xb(c,d,p);else for(const m of t.values())xb(c,m.store.getState());u&&Jh("after",c)}return{loop:o,invalidate:a,advance:l}}function XA(){const t=E.useContext(WA);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Tu(t=n=>n,e){return XA()(t,e)}function oh(t,e=0){const n=XA(),r=n.getState().internal.subscribe,i=dV(t);return _g(()=>r(i,e,n),[e,r,n]),null}const xL=new WeakMap;function yV(t,e){return function(n,...r){let i=xL.get(n);return i||(i=new n,xL.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,Tue(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function Vf(t,e,n,r){const i=Array.isArray(e)?e:[e],s=gue(yV(n,r),[t,...i],{equal:zn.equ});return Array.isArray(e)?s:s[0]}Vf.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return vue(yV(n),[t,...r])};Vf.clear=function(t,e){const n=Array.isArray(e)?e:[e];return xue([t,...n])};const Hf=new Map,{invalidate:yL,advance:_L}=Fue(Hf),{reconciler:Nm,applyProps:ul}=Sue(Hf,Aue),wd={objects:"shallow",strict:!1},kue=(t,e)=>{const n=typeof t=="function"?t(e):t;return xV(n)?n:new HA({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Uue(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function Bue(t){const e=Hf.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Nue(yL,_L),o=n||Nm.createContainer(s,Xd.ConcurrentRoot,null,!1,null,"",i,null);e||Hf.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:d,size:p,scene:m,events:v,onCreated:x,shadows:y=!1,linear:g=!1,flat:_=!1,legacy:S=!1,orthographic:M=!1,frameloop:A="always",dpr:R=[1,2],performance:C,raycaster:D,camera:N,onPointerMissed:I}=u,F=s.getState(),V=F.gl;F.gl||F.set({gl:V=kue(d,t)});let Y=F.raycaster;Y||F.set({raycaster:Y=new zA});const{params:G,...ee}=D||{};if(zn.equ(ee,Y,wd)||ul(Y,{...ee}),zn.equ(G,Y.params,wd)||ul(Y,{params:{...Y.params,...G}}),!F.camera||F.camera===c&&!zn.equ(c,N,wd)){c=N;const $=N instanceof ug,oe=$?N:M?new ih(0,0,0,0,.1,1e3):new zr(75,0,.1,1e3);$||(oe.position.z=5,N&&(ul(oe,N),("aspect"in N||"left"in N||"right"in N||"bottom"in N||"top"in N)&&(oe.manual=!0,oe.updateProjectionMatrix())),!F.camera&&!(N!=null&&N.rotation)&&oe.lookAt(0,0,0)),F.set({camera:oe}),Y.camera=oe}if(!F.scene){let $;m!=null&&m.isScene?$=m:($=new fg,m&&ul($,m)),F.set({scene:Ed($)})}if(!F.xr){var Q;const $=(Me,Ue)=>{const at=s.getState();at.frameloop!=="never"&&_L(Me,!0,at,Ue)},oe=()=>{const Me=s.getState();Me.gl.xr.enabled=Me.gl.xr.isPresenting,Me.gl.xr.setAnimationLoop(Me.gl.xr.isPresenting?$:null),Me.gl.xr.isPresenting||yL(Me)},pe={connect(){const Me=s.getState().gl;Me.xr.addEventListener("sessionstart",oe),Me.xr.addEventListener("sessionend",oe)},disconnect(){const Me=s.getState().gl;Me.xr.removeEventListener("sessionstart",oe),Me.xr.removeEventListener("sessionend",oe)}};typeof((Q=V.xr)==null?void 0:Q.addEventListener)=="function"&&pe.connect(),F.set({xr:pe})}if(V.shadowMap){const $=V.shadowMap.enabled,oe=V.shadowMap.type;if(V.shadowMap.enabled=!!y,zn.boo(y))V.shadowMap.type=Pp;else if(zn.str(y)){var ie;const pe={basic:n5,percentage:P_,soft:Pp,variance:Qs};V.shadowMap.type=(ie=pe[y])!=null?ie:Pp}else zn.obj(y)&&Object.assign(V.shadowMap,y);($!==V.shadowMap.enabled||oe!==V.shadowMap.type)&&(V.shadowMap.needsUpdate=!0)}const z=cV();z&&("enabled"in z?z.enabled=!S:"legacyMode"in z&&(z.legacyMode=S)),l||ul(V,{outputEncoding:g?3e3:3001,toneMapping:_?Go:rA}),F.legacy!==S&&F.set(()=>({legacy:S})),F.linear!==g&&F.set(()=>({linear:g})),F.flat!==_&&F.set(()=>({flat:_})),d&&!zn.fun(d)&&!xV(d)&&!zn.equ(d,V,wd)&&ul(V,d),v&&!F.events.handlers&&F.set({events:v(s)});const H=Uue(t,p);return zn.equ(H,F.size,wd)||F.setSize(H.width,H.height,H.updateStyle,H.top,H.left),R&&F.viewport.dpr!==pV(R)&&F.setDpr(R),F.frameloop!==A&&F.setFrameloop(A),F.onPointerMissed||F.set({onPointerMissed:I}),C&&!zn.equ(C,F.performance,wd)&&F.set($=>({performance:{...$.performance,...C}})),a=x,l=!0,this},render(u){return l||this.configure(),Nm.updateContainer(T.jsx(zue,{store:s,children:u,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){_V(t)}}}function zue({store:t,children:e,onCreated:n,rootElement:r}){return _g(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),T.jsx(WA.Provider,{value:t,children:e})}function _V(t,e){const n=Hf.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Nm.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Cue(i),Hf.delete(t)}catch{}},500)})}}function Vue(t,e,n){return T.jsx(Hue,{children:t,container:e,state:n},e.uuid)}function Hue({state:t={},children:e,container:n}){const{events:r,size:i,...s}=t,o=XA(),[a]=E.useState(()=>new zA),[l]=E.useState(()=>new Xe),c=E.useCallback((d,p)=>{const m={...d};Object.keys(d).forEach(x=>{(Iue.includes(x)||d[x]!==p[x]&&p[x])&&delete m[x]});let v;if(p&&i){const x=p.camera;v=d.viewport.getCurrentViewport(x,new X,i),x!==d.camera&&gV(x,i)}return{...m,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...d.events,...p==null?void 0:p.events,...r},size:{...d.size,...i},viewport:{...d.viewport,...v},...s}},[t]),[u]=E.useState(()=>{const d=o.getState();return rV((m,v)=>({...d,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...d.events,...r},size:{...d.size,...i},...s,set:m,get:v,setEvents:x=>m(y=>({...y,events:{...y.events,...x}}))}))});return E.useEffect(()=>{const d=o.subscribe(p=>u.setState(m=>c(p,m)));return()=>{d()}},[c]),E.useEffect(()=>{u.setState(d=>c(o.getState(),d))},[c]),E.useEffect(()=>()=>{u.destroy()},[]),T.jsx(T.Fragment,{children:Nm.createPortal(T.jsx(WA.Provider,{value:u,children:e}),u,null)})}Nm.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:E.version});const yb={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function jue(t){const{handlePointer:e}=Pue(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(yb).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=yb[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=yb[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function wL(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function Gue({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=E.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=E.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,u=E.useRef(!1);E.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[d,p,m]=E.useMemo(()=>{const g=()=>{if(!a.current.element)return;const{left:_,top:S,width:M,height:A,bottom:R,right:C,x:D,y:N}=a.current.element.getBoundingClientRect(),I={left:_,top:S,width:M,height:A,bottom:R,right:C,x:D,y:N};a.current.element instanceof HTMLElement&&r&&(I.height=a.current.element.offsetHeight,I.width=a.current.element.offsetWidth),Object.freeze(I),u.current&&!Yue(a.current.lastBounds,I)&&o(a.current.lastBounds=I)};return[g,c?wL(g,c):g,l?wL(g,l):g]},[o,r,l,c]);function v(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function x(){a.current.element&&(a.current.resizeObserver=new i(m),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(g=>g.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const y=g=>{!g||g===a.current.element||(v(),a.current.element=g,a.current.scrollContainers=wV(g),x())};return Xue(m,!!e),Wue(p),E.useEffect(()=>{v(),x()},[e,m,p]),E.useEffect(()=>v,[]),[y,s,d]}function Wue(t){E.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function Xue(t,e){E.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function wV(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...wV(t.parentElement)]}const $ue=["x","y","top","bottom","left","right","width","height"],Yue=(t,e)=>$ue.every(n=>t[n]===e[n]);var que=Object.defineProperty,Kue=Object.defineProperties,Zue=Object.getOwnPropertyDescriptors,SL=Object.getOwnPropertySymbols,Que=Object.prototype.hasOwnProperty,Jue=Object.prototype.propertyIsEnumerable,bL=(t,e,n)=>e in t?que(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ML=(t,e)=>{for(var n in e||(e={}))Que.call(e,n)&&bL(t,n,e[n]);if(SL)for(var n of SL(e))Jue.call(e,n)&&bL(t,n,e[n]);return t},ede=(t,e)=>Kue(t,Zue(e)),EL,TL;typeof window<"u"&&((EL=window.document)!=null&&EL.createElement||((TL=window.navigator)==null?void 0:TL.product)==="ReactNative")?E.useLayoutEffect:E.useEffect;function SV(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=SV(r,e,n);if(i)return i;r=r.sibling}}function bV(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const CL=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=CL;return}return CL.apply(this,arguments)};const $A=bV(E.createContext(null));class MV extends E.Component{render(){return E.createElement($A.Provider,{value:this._reactInternals},this.props.children)}}function tde(){const t=E.useContext($A);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=E.useId();return E.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=SV(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function nde(){const t=tde(),[e]=E.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==$A&&!e.has(i)&&e.set(i,E.useContext(bV(i)))}n=n.return}return e}function rde(){const t=nde();return E.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>E.createElement(e,null,E.createElement(n.Provider,ede(ML({},r),{value:t.get(n)}))),e=>E.createElement(MV,ML({},e))),[t])}const ide=E.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=jue,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:p,orthographic:m,frameloop:v,dpr:x,performance:y,raycaster:g,camera:_,scene:S,onPointerMissed:M,onCreated:A,...R},C){E.useMemo(()=>GA(fue),[]);const D=rde(),[N,I]=Gue({scroll:!0,debounce:{scroll:50,resize:0},...r}),F=E.useRef(null),V=E.useRef(null);E.useImperativeHandle(C,()=>F.current);const Y=dV(M),[G,ee]=E.useState(!1),[Q,ie]=E.useState(!1);if(G)throw G;if(Q)throw Q;const z=E.useRef(null);_g(()=>{const $=F.current;I.width>0&&I.height>0&&$&&(z.current||(z.current=Bue($)),z.current.configure({gl:s,events:o,shadows:c,linear:u,flat:d,legacy:p,orthographic:m,frameloop:v,dpr:x,performance:y,raycaster:g,camera:_,scene:S,size:I,onPointerMissed:(...oe)=>Y.current==null?void 0:Y.current(...oe),onCreated:oe=>{oe.events.connect==null||oe.events.connect(a?bue(a)?a.current:a:V.current),l&&oe.setEvents({compute:(pe,Me)=>{const Ue=pe[l+"X"],at=pe[l+"Y"];Me.pointer.set(Ue/Me.size.width*2-1,-(at/Me.size.height)*2+1),Me.raycaster.setFromCamera(Me.pointer,Me.camera)}}),A==null||A(oe)}}),z.current.render(T.jsx(D,{children:T.jsx(fV,{set:ie,children:T.jsx(E.Suspense,{fallback:T.jsx(Mue,{set:ee}),children:e??null})})})))}),E.useEffect(()=>{const $=F.current;if($)return()=>_V($)},[]);const H=a?"none":"auto";return T.jsx("div",{ref:V,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:H,...i},...R,children:T.jsx("div",{ref:N,style:{width:"100%",height:"100%"},children:T.jsx("canvas",{ref:F,style:{display:"block"},children:n})})})}),EV=E.forwardRef(function(e,n){return T.jsx(MV,{children:T.jsx(ide,{...e,ref:n})})});function jf(){return jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jf.apply(null,arguments)}const TV=parseInt(sg.replace(/\D+/g,""));var Rs=Uint8Array,Cl=Uint16Array,WE=Uint32Array,CV=new Rs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),AV=new Rs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sde=new Rs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),RV=function(t,e){for(var n=new Cl(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new WE(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},PV=RV(CV,2),IV=PV[0],ode=PV[1];IV[28]=258,ode[258]=28;var ade=RV(AV,0),lde=ade[0],XE=new Cl(32768);for(var Gn=0;Gn<32768;++Gn){var nl=(Gn&43690)>>>1|(Gn&21845)<<1;nl=(nl&52428)>>>2|(nl&13107)<<2,nl=(nl&61680)>>>4|(nl&3855)<<4,XE[Gn]=((nl&65280)>>>8|(nl&255)<<8)>>>1}var Bp=function(t,e,n){for(var r=t.length,i=0,s=new Cl(e);i<r;++i)++s[t[i]-1];var o=new Cl(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Cl(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],d=o[t[i]-1]++<<u,p=d|(1<<u)-1;d<=p;++d)a[XE[d]>>>l]=c}else for(a=new Cl(r),i=0;i<r;++i)t[i]&&(a[i]=XE[o[t[i]-1]++]>>>15-t[i]);return a},wg=new Rs(288);for(var Gn=0;Gn<144;++Gn)wg[Gn]=8;for(var Gn=144;Gn<256;++Gn)wg[Gn]=9;for(var Gn=256;Gn<280;++Gn)wg[Gn]=7;for(var Gn=280;Gn<288;++Gn)wg[Gn]=8;var NV=new Rs(32);for(var Gn=0;Gn<32;++Gn)NV[Gn]=5;var cde=Bp(wg,9,1),ude=Bp(NV,5,1),_b=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},qs=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},wb=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},dde=function(t){return(t/8|0)+(t&7&&1)},fde=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof Cl?Cl:t instanceof WE?WE:Rs)(n-e);return r.set(t.subarray(e,n)),r},hde=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new Rs(0);var i=!e||n,s=!n||n.i;n||(n={}),e||(e=new Rs(r*3));var o=function(ae){var fe=e.length;if(ae>fe){var je=new Rs(Math.max(fe*2,ae));je.set(e),e=je}},a=n.f||0,l=n.p||0,c=n.b||0,u=n.l,d=n.d,p=n.m,m=n.n,v=r*8;do{if(!u){n.f=a=qs(t,l,1);var x=qs(t,l+1,3);if(l+=3,x)if(x==1)u=cde,d=ude,p=9,m=5;else if(x==2){var S=qs(t,l,31)+257,M=qs(t,l+10,15)+4,A=S+qs(t,l+5,31)+1;l+=14;for(var R=new Rs(A),C=new Rs(19),D=0;D<M;++D)C[sde[D]]=qs(t,l+D*3,7);l+=M*3;for(var N=_b(C),I=(1<<N)-1,F=Bp(C,N,1),D=0;D<A;){var V=F[qs(t,l,I)];l+=V&15;var y=V>>>4;if(y<16)R[D++]=y;else{var Y=0,G=0;for(y==16?(G=3+qs(t,l,3),l+=2,Y=R[D-1]):y==17?(G=3+qs(t,l,7),l+=3):y==18&&(G=11+qs(t,l,127),l+=7);G--;)R[D++]=Y}}var ee=R.subarray(0,S),Q=R.subarray(S);p=_b(ee),m=_b(Q),u=Bp(ee,p,1),d=Bp(Q,m,1)}else throw"invalid block type";else{var y=dde(l)+4,g=t[y-4]|t[y-3]<<8,_=y+g;if(_>r){if(s)throw"unexpected EOF";break}i&&o(c+g),e.set(t.subarray(y,_),c),n.b=c+=g,n.p=l=_*8;continue}if(l>v){if(s)throw"unexpected EOF";break}}i&&o(c+131072);for(var ie=(1<<p)-1,z=(1<<m)-1,H=l;;H=l){var Y=u[wb(t,l)&ie],$=Y>>>4;if(l+=Y&15,l>v){if(s)throw"unexpected EOF";break}if(!Y)throw"invalid length/literal";if($<256)e[c++]=$;else if($==256){H=l,u=null;break}else{var oe=$-254;if($>264){var D=$-257,pe=CV[D];oe=qs(t,l,(1<<pe)-1)+IV[D],l+=pe}var Me=d[wb(t,l)&z],Ue=Me>>>4;if(!Me)throw"invalid distance";l+=Me&15;var Q=lde[Ue];if(Ue>3){var pe=AV[Ue];Q+=wb(t,l)&(1<<pe)-1,l+=pe}if(l>v){if(s)throw"unexpected EOF";break}i&&o(c+131072);for(var at=c+oe;c<at;c+=4)e[c]=e[c-Q],e[c+1]=e[c+1-Q],e[c+2]=e[c+2-Q],e[c+3]=e[c+3-Q];c=at}}n.l=u,n.p=H,n.b=c,u&&(a=1,n.m=p,n.d=d,n.n=m)}while(!a);return c==e.length?e:fde(e,0,c)},pde=new Rs(0),mde=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Ov(t,e){return hde((mde(t),t.subarray(2,-4)),e)}var gde=typeof TextDecoder<"u"&&new TextDecoder,vde=0;try{gde.decode(pde,{stream:!0}),vde=1}catch{}const xde=t=>t&&t.isCubeTexture;class yde extends or{constructor(e,n){var r,i;const s=xde(e),a=((i=s?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(a)),c=Math.pow(2,l),u=3*Math.max(c,16*7),d=4*c,p=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/u}`,`#define CUBEUV_TEXEL_HEIGHT ${1/d}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,v=p.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${TV>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,x={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},y=new mg(1,16),g=new Mi({uniforms:x,fragmentShader:v,vertexShader:m,side:so});super(y,g)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class _de extends DA{constructor(e){super(e),this.type=Ir}parse(e){const o=function(D,N){switch(D){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(N||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(N||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(N||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(N||""))}},u=`
`,d=function(D,N,I){N=N||1024;let V=D.pos,Y=-1,G=0,ee="",Q=String.fromCharCode.apply(null,new Uint16Array(D.subarray(V,V+128)));for(;0>(Y=Q.indexOf(u))&&G<N&&V<D.byteLength;)ee+=Q,G+=Q.length,V+=128,Q+=String.fromCharCode.apply(null,new Uint16Array(D.subarray(V,V+128)));return-1<Y?(D.pos+=G+Y+1,ee+Q.slice(0,Y)):!1},p=function(D){const N=/^#\?(\S+)/,I=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,F=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,V=/^\s*FORMAT=(\S+)\s*$/,Y=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,G={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let ee,Q;for((D.pos>=D.byteLength||!(ee=d(D)))&&o(1,"no header found"),(Q=ee.match(N))||o(3,"bad initial token"),G.valid|=1,G.programtype=Q[1],G.string+=ee+`
`;ee=d(D),ee!==!1;){if(G.string+=ee+`
`,ee.charAt(0)==="#"){G.comments+=ee+`
`;continue}if((Q=ee.match(I))&&(G.gamma=parseFloat(Q[1])),(Q=ee.match(F))&&(G.exposure=parseFloat(Q[1])),(Q=ee.match(V))&&(G.valid|=2,G.format=Q[1]),(Q=ee.match(Y))&&(G.valid|=4,G.height=parseInt(Q[1],10),G.width=parseInt(Q[2],10)),G.valid&2&&G.valid&4)break}return G.valid&2||o(3,"missing format specifier"),G.valid&4||o(3,"missing image size specifier"),G},m=function(D,N,I){const F=N;if(F<8||F>32767||D[0]!==2||D[1]!==2||D[2]&128)return new Uint8Array(D);F!==(D[2]<<8|D[3])&&o(3,"wrong scanline width");const V=new Uint8Array(4*N*I);V.length||o(4,"unable to allocate buffer space");let Y=0,G=0;const ee=4*F,Q=new Uint8Array(4),ie=new Uint8Array(ee);let z=I;for(;z>0&&G<D.byteLength;){G+4>D.byteLength&&o(1),Q[0]=D[G++],Q[1]=D[G++],Q[2]=D[G++],Q[3]=D[G++],(Q[0]!=2||Q[1]!=2||(Q[2]<<8|Q[3])!=F)&&o(3,"bad rgbe scanline format");let H=0,$;for(;H<ee&&G<D.byteLength;){$=D[G++];const pe=$>128;if(pe&&($-=128),($===0||H+$>ee)&&o(3,"bad scanline data"),pe){const Me=D[G++];for(let Ue=0;Ue<$;Ue++)ie[H++]=Me}else ie.set(D.subarray(G,G+$),H),H+=$,G+=$}const oe=F;for(let pe=0;pe<oe;pe++){let Me=0;V[Y]=ie[pe+Me],Me+=F,V[Y+1]=ie[pe+Me],Me+=F,V[Y+2]=ie[pe+Me],Me+=F,V[Y+3]=ie[pe+Me],Y+=4}z--}return V},v=function(D,N,I,F){const V=D[N+3],Y=Math.pow(2,V-128)/255;I[F+0]=D[N+0]*Y,I[F+1]=D[N+1]*Y,I[F+2]=D[N+2]*Y,I[F+3]=1},x=function(D,N,I,F){const V=D[N+3],Y=Math.pow(2,V-128)/255;I[F+0]=Xc.toHalfFloat(Math.min(D[N+0]*Y,65504)),I[F+1]=Xc.toHalfFloat(Math.min(D[N+1]*Y,65504)),I[F+2]=Xc.toHalfFloat(Math.min(D[N+2]*Y,65504)),I[F+3]=Xc.toHalfFloat(1)},y=new Uint8Array(e);y.pos=0;const g=p(y),_=g.width,S=g.height,M=m(y.subarray(y.pos),_,S);let A,R,C;switch(this.type){case nr:C=M.length/4;const D=new Float32Array(C*4);for(let I=0;I<C;I++)v(M,I*4,D,I*4);A=D,R=nr;break;case Ir:C=M.length/4;const N=new Uint16Array(C*4);for(let I=0;I<C;I++)x(M,I*4,N,I*4);A=N,R=Ir;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:_,height:S,data:A,header:g.string,gamma:g.gamma,exposure:g.exposure,type:R}}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(o,a){switch(o.type){case nr:case Ir:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=An,o.magFilter=An,o.generateMipmaps=!1,o.flipY=!0;break}n&&n(o,a)}return super.load(e,s,r,i)}}const ep=TV>=152;class wde extends DA{constructor(e){super(e),this.type=Ir}parse(e){const N=Math.pow(2.7182818,2.2);function I(L,B){for(var Z=0,ue=0;ue<65536;++ue)(ue==0||L[ue>>3]&1<<(ue&7))&&(B[Z++]=ue);for(var xe=Z-1;Z<65536;)B[Z++]=0;return xe}function F(L){for(var B=0;B<16384;B++)L[B]={},L[B].len=0,L[B].lit=0,L[B].p=null}const V={l:0,c:0,lc:0};function Y(L,B,Z,ue,xe){for(;Z<L;)B=B<<8|Bt(ue,xe),Z+=8;Z-=L,V.l=B>>Z&(1<<L)-1,V.c=B,V.lc=Z}const G=new Array(59);function ee(L){for(var B=0;B<=58;++B)G[B]=0;for(var B=0;B<65537;++B)G[L[B]]+=1;for(var Z=0,B=58;B>0;--B){var ue=Z+G[B]>>1;G[B]=Z,Z=ue}for(var B=0;B<65537;++B){var xe=L[B];xe>0&&(L[B]=xe|G[xe]++<<6)}}function Q(L,B,Z,ue,xe,ve,Ie){for(var De=Z,ot=0,k=0;xe<=ve;xe++){if(De.value-Z.value>ue)return!1;Y(6,ot,k,L,De);var q=V.l;if(ot=V.c,k=V.lc,Ie[xe]=q,q==63){if(De.value-Z.value>ue)throw"Something wrong with hufUnpackEncTable";Y(8,ot,k,L,De);var J=V.l+6;if(ot=V.c,k=V.lc,xe+J>ve+1)throw"Something wrong with hufUnpackEncTable";for(;J--;)Ie[xe++]=0;xe--}else if(q>=59){var J=q-59+2;if(xe+J>ve+1)throw"Something wrong with hufUnpackEncTable";for(;J--;)Ie[xe++]=0;xe--}}ee(Ie)}function ie(L){return L&63}function z(L){return L>>6}function H(L,B,Z,ue){for(;B<=Z;B++){var xe=z(L[B]),ve=ie(L[B]);if(xe>>ve)throw"Invalid table entry";if(ve>14){var Ie=ue[xe>>ve-14];if(Ie.len)throw"Invalid table entry";if(Ie.lit++,Ie.p){var De=Ie.p;Ie.p=new Array(Ie.lit);for(var ot=0;ot<Ie.lit-1;++ot)Ie.p[ot]=De[ot]}else Ie.p=new Array(1);Ie.p[Ie.lit-1]=B}else if(ve)for(var k=0,ot=1<<14-ve;ot>0;ot--){var Ie=ue[(xe<<14-ve)+k];if(Ie.len||Ie.p)throw"Invalid table entry";Ie.len=ve,Ie.lit=B,k++}}return!0}const $={c:0,lc:0};function oe(L,B,Z,ue){L=L<<8|Bt(Z,ue),B+=8,$.c=L,$.lc=B}const pe={c:0,lc:0};function Me(L,B,Z,ue,xe,ve,Ie,De,ot,k){if(L==B){ue<8&&(oe(Z,ue,xe,Ie),Z=$.c,ue=$.lc),ue-=8;var q=Z>>ue,q=new Uint8Array([q])[0];if(ot.value+q>k)return!1;for(var J=De[ot.value-1];q-- >0;)De[ot.value++]=J}else if(ot.value<k)De[ot.value++]=L;else return!1;pe.c=Z,pe.lc=ue}function Ue(L){return L&65535}function at(L){var B=Ue(L);return B>32767?B-65536:B}const ae={a:0,b:0};function fe(L,B){var Z=at(L),ue=at(B),xe=ue,ve=Z+(xe&1)+(xe>>1),Ie=ve,De=ve-xe;ae.a=Ie,ae.b=De}function je(L,B){var Z=Ue(L),ue=Ue(B),xe=Z-(ue>>1)&65535,ve=ue+xe-32768&65535;ae.a=ve,ae.b=xe}function ct(L,B,Z,ue,xe,ve,Ie){for(var De=Ie<16384,ot=Z>xe?xe:Z,k=1,q;k<=ot;)k<<=1;for(k>>=1,q=k,k>>=1;k>=1;){for(var J=0,me=J+ve*(xe-q),te=ve*k,Se=ve*q,Oe=ue*k,We=ue*q,Ce,$e,Ze,Ke;J<=me;J+=Se){for(var rt=J,Ft=J+ue*(Z-q);rt<=Ft;rt+=We){var Nt=rt+Oe,Xt=rt+te,Jt=Xt+Oe;De?(fe(L[rt+B],L[Xt+B]),Ce=ae.a,Ze=ae.b,fe(L[Nt+B],L[Jt+B]),$e=ae.a,Ke=ae.b,fe(Ce,$e),L[rt+B]=ae.a,L[Nt+B]=ae.b,fe(Ze,Ke),L[Xt+B]=ae.a,L[Jt+B]=ae.b):(je(L[rt+B],L[Xt+B]),Ce=ae.a,Ze=ae.b,je(L[Nt+B],L[Jt+B]),$e=ae.a,Ke=ae.b,je(Ce,$e),L[rt+B]=ae.a,L[Nt+B]=ae.b,je(Ze,Ke),L[Xt+B]=ae.a,L[Jt+B]=ae.b)}if(Z&k){var Xt=rt+te;De?fe(L[rt+B],L[Xt+B]):je(L[rt+B],L[Xt+B]),Ce=ae.a,L[Xt+B]=ae.b,L[rt+B]=Ce}}if(xe&k)for(var rt=J,Ft=J+ue*(Z-q);rt<=Ft;rt+=We){var Nt=rt+Oe;De?fe(L[rt+B],L[Nt+B]):je(L[rt+B],L[Nt+B]),Ce=ae.a,L[Nt+B]=ae.b,L[rt+B]=Ce}q=k,k>>=1}return J}function st(L,B,Z,ue,xe,ve,Ie,De,ot,k){for(var q=0,J=0,me=De,te=Math.trunc(xe.value+(ve+7)/8);xe.value<te;)for(oe(q,J,Z,xe),q=$.c,J=$.lc;J>=14;){var Se=q>>J-14&16383,Oe=B[Se];if(Oe.len)J-=Oe.len,Me(Oe.lit,Ie,q,J,Z,ue,xe,ot,k,me),q=pe.c,J=pe.lc;else{if(!Oe.p)throw"hufDecode issues";var We;for(We=0;We<Oe.lit;We++){for(var Ce=ie(L[Oe.p[We]]);J<Ce&&xe.value<te;)oe(q,J,Z,xe),q=$.c,J=$.lc;if(J>=Ce&&z(L[Oe.p[We]])==(q>>J-Ce&(1<<Ce)-1)){J-=Ce,Me(Oe.p[We],Ie,q,J,Z,ue,xe,ot,k,me),q=pe.c,J=pe.lc;break}}if(We==Oe.lit)throw"hufDecode issues"}}var $e=8-ve&7;for(q>>=$e,J-=$e;J>0;){var Oe=B[q<<14-J&16383];if(Oe.len)J-=Oe.len,Me(Oe.lit,Ie,q,J,Z,ue,xe,ot,k,me),q=pe.c,J=pe.lc;else throw"hufDecode issues"}return!0}function ut(L,B,Z,ue,xe,ve){var Ie={value:0},De=Z.value,ot=He(B,Z),k=He(B,Z);Z.value+=4;var q=He(B,Z);if(Z.value+=4,ot<0||ot>=65537||k<0||k>=65537)throw"Something wrong with HUF_ENCSIZE";var J=new Array(65537),me=new Array(16384);F(me);var te=ue-(Z.value-De);if(Q(L,B,Z,te,ot,k,J),q>8*(ue-(Z.value-De)))throw"Something wrong with hufUncompress";H(J,ot,k,me),st(J,me,L,B,Z,q,k,ve,xe,Ie)}function Be(L,B,Z){for(var ue=0;ue<Z;++ue)B[ue]=L[B[ue]]}function Ye(L){for(var B=1;B<L.length;B++){var Z=L[B-1]+L[B]-128;L[B]=Z}}function Te(L,B){for(var Z=0,ue=Math.floor((L.length+1)/2),xe=0,ve=L.length-1;!(xe>ve||(B[xe++]=L[Z++],xe>ve));)B[xe++]=L[ue++]}function j(L){for(var B=L.byteLength,Z=new Array,ue=0,xe=new DataView(L);B>0;){var ve=xe.getInt8(ue++);if(ve<0){var Ie=-ve;B-=Ie+1;for(var De=0;De<Ie;De++)Z.push(xe.getUint8(ue++))}else{var Ie=ve;B-=2;for(var ot=xe.getUint8(ue++),De=0;De<Ie+1;De++)Z.push(ot)}}return Z}function Ae(L,B,Z,ue,xe,ve){var Nt=new DataView(ve.buffer),Ie=Z[L.idx[0]].width,De=Z[L.idx[0]].height,ot=3,k=Math.floor(Ie/8),q=Math.ceil(Ie/8),J=Math.ceil(De/8),me=Ie-(q-1)*8,te=De-(J-1)*8,Se={value:0},Oe=new Array(ot),We=new Array(ot),Ce=new Array(ot),$e=new Array(ot),Ze=new Array(ot);for(let kt=0;kt<ot;++kt)Ze[kt]=B[L.idx[kt]],Oe[kt]=kt<1?0:Oe[kt-1]+q*J,We[kt]=new Float32Array(64),Ce[kt]=new Uint16Array(64),$e[kt]=new Uint16Array(q*64);for(let kt=0;kt<J;++kt){var Ke=8;kt==J-1&&(Ke=te);var rt=8;for(let pn=0;pn<q;++pn){pn==q-1&&(rt=me);for(let Qt=0;Qt<ot;++Qt)Ce[Qt].fill(0),Ce[Qt][0]=xe[Oe[Qt]++],Ve(Se,ue,Ce[Qt]),qe(Ce[Qt],We[Qt]),Fe(We[Qt]);pt(We);for(let Qt=0;Qt<ot;++Qt)et(We[Qt],$e[Qt],pn*64)}let yn=0;for(let pn=0;pn<ot;++pn){const Qt=Z[L.idx[pn]].type;for(let Rn=8*kt;Rn<8*kt+Ke;++Rn){yn=Ze[pn][Rn];for(let _n=0;_n<k;++_n){const Pn=_n*64+(Rn&7)*8;Nt.setUint16(yn+0*2*Qt,$e[pn][Pn+0],!0),Nt.setUint16(yn+1*2*Qt,$e[pn][Pn+1],!0),Nt.setUint16(yn+2*2*Qt,$e[pn][Pn+2],!0),Nt.setUint16(yn+3*2*Qt,$e[pn][Pn+3],!0),Nt.setUint16(yn+4*2*Qt,$e[pn][Pn+4],!0),Nt.setUint16(yn+5*2*Qt,$e[pn][Pn+5],!0),Nt.setUint16(yn+6*2*Qt,$e[pn][Pn+6],!0),Nt.setUint16(yn+7*2*Qt,$e[pn][Pn+7],!0),yn+=8*2*Qt}}if(k!=q)for(let Rn=8*kt;Rn<8*kt+Ke;++Rn){const _n=Ze[pn][Rn]+8*k*2*Qt,Pn=k*64+(Rn&7)*8;for(let Kn=0;Kn<rt;++Kn)Nt.setUint16(_n+Kn*2*Qt,$e[pn][Pn+Kn],!0)}}}for(var Ft=new Uint16Array(Ie),Nt=new DataView(ve.buffer),Xt=0;Xt<ot;++Xt){Z[L.idx[Xt]].decoded=!0;var Jt=Z[L.idx[Xt]].type;if(Z[Xt].type==2)for(var Mt=0;Mt<De;++Mt){const kt=Ze[Xt][Mt];for(var on=0;on<Ie;++on)Ft[on]=Nt.getUint16(kt+on*2*Jt,!0);for(var on=0;on<Ie;++on)Nt.setFloat32(kt+on*2*Jt,ye(Ft[on]),!0)}}}function Ve(L,B,Z){for(var ue,xe=1;xe<64;)ue=B[L.value],ue==65280?xe=64:ue>>8==255?xe+=ue&255:(Z[xe]=ue,xe++),L.value++}function qe(L,B){B[0]=ye(L[0]),B[1]=ye(L[1]),B[2]=ye(L[5]),B[3]=ye(L[6]),B[4]=ye(L[14]),B[5]=ye(L[15]),B[6]=ye(L[27]),B[7]=ye(L[28]),B[8]=ye(L[2]),B[9]=ye(L[4]),B[10]=ye(L[7]),B[11]=ye(L[13]),B[12]=ye(L[16]),B[13]=ye(L[26]),B[14]=ye(L[29]),B[15]=ye(L[42]),B[16]=ye(L[3]),B[17]=ye(L[8]),B[18]=ye(L[12]),B[19]=ye(L[17]),B[20]=ye(L[25]),B[21]=ye(L[30]),B[22]=ye(L[41]),B[23]=ye(L[43]),B[24]=ye(L[9]),B[25]=ye(L[11]),B[26]=ye(L[18]),B[27]=ye(L[24]),B[28]=ye(L[31]),B[29]=ye(L[40]),B[30]=ye(L[44]),B[31]=ye(L[53]),B[32]=ye(L[10]),B[33]=ye(L[19]),B[34]=ye(L[23]),B[35]=ye(L[32]),B[36]=ye(L[39]),B[37]=ye(L[45]),B[38]=ye(L[52]),B[39]=ye(L[54]),B[40]=ye(L[20]),B[41]=ye(L[22]),B[42]=ye(L[33]),B[43]=ye(L[38]),B[44]=ye(L[46]),B[45]=ye(L[51]),B[46]=ye(L[55]),B[47]=ye(L[60]),B[48]=ye(L[21]),B[49]=ye(L[34]),B[50]=ye(L[37]),B[51]=ye(L[47]),B[52]=ye(L[50]),B[53]=ye(L[56]),B[54]=ye(L[59]),B[55]=ye(L[61]),B[56]=ye(L[35]),B[57]=ye(L[36]),B[58]=ye(L[48]),B[59]=ye(L[49]),B[60]=ye(L[57]),B[61]=ye(L[58]),B[62]=ye(L[62]),B[63]=ye(L[63])}function Fe(L){const B=.5*Math.cos(.7853975),Z=.5*Math.cos(3.14159/16),ue=.5*Math.cos(3.14159/8),xe=.5*Math.cos(3*3.14159/16),ve=.5*Math.cos(5*3.14159/16),Ie=.5*Math.cos(3*3.14159/8),De=.5*Math.cos(7*3.14159/16);for(var ot=new Array(4),k=new Array(4),q=new Array(4),J=new Array(4),me=0;me<8;++me){var te=me*8;ot[0]=ue*L[te+2],ot[1]=Ie*L[te+2],ot[2]=ue*L[te+6],ot[3]=Ie*L[te+6],k[0]=Z*L[te+1]+xe*L[te+3]+ve*L[te+5]+De*L[te+7],k[1]=xe*L[te+1]-De*L[te+3]-Z*L[te+5]-ve*L[te+7],k[2]=ve*L[te+1]-Z*L[te+3]+De*L[te+5]+xe*L[te+7],k[3]=De*L[te+1]-ve*L[te+3]+xe*L[te+5]-Z*L[te+7],q[0]=B*(L[te+0]+L[te+4]),q[3]=B*(L[te+0]-L[te+4]),q[1]=ot[0]+ot[3],q[2]=ot[1]-ot[2],J[0]=q[0]+q[1],J[1]=q[3]+q[2],J[2]=q[3]-q[2],J[3]=q[0]-q[1],L[te+0]=J[0]+k[0],L[te+1]=J[1]+k[1],L[te+2]=J[2]+k[2],L[te+3]=J[3]+k[3],L[te+4]=J[3]-k[3],L[te+5]=J[2]-k[2],L[te+6]=J[1]-k[1],L[te+7]=J[0]-k[0]}for(var Se=0;Se<8;++Se)ot[0]=ue*L[16+Se],ot[1]=Ie*L[16+Se],ot[2]=ue*L[48+Se],ot[3]=Ie*L[48+Se],k[0]=Z*L[8+Se]+xe*L[24+Se]+ve*L[40+Se]+De*L[56+Se],k[1]=xe*L[8+Se]-De*L[24+Se]-Z*L[40+Se]-ve*L[56+Se],k[2]=ve*L[8+Se]-Z*L[24+Se]+De*L[40+Se]+xe*L[56+Se],k[3]=De*L[8+Se]-ve*L[24+Se]+xe*L[40+Se]-Z*L[56+Se],q[0]=B*(L[Se]+L[32+Se]),q[3]=B*(L[Se]-L[32+Se]),q[1]=ot[0]+ot[3],q[2]=ot[1]-ot[2],J[0]=q[0]+q[1],J[1]=q[3]+q[2],J[2]=q[3]-q[2],J[3]=q[0]-q[1],L[0+Se]=J[0]+k[0],L[8+Se]=J[1]+k[1],L[16+Se]=J[2]+k[2],L[24+Se]=J[3]+k[3],L[32+Se]=J[3]-k[3],L[40+Se]=J[2]-k[2],L[48+Se]=J[1]-k[1],L[56+Se]=J[0]-k[0]}function pt(L){for(var B=0;B<64;++B){var Z=L[0][B],ue=L[1][B],xe=L[2][B];L[0][B]=Z+1.5747*xe,L[1][B]=Z-.1873*ue-.4682*xe,L[2][B]=Z+1.8556*ue}}function et(L,B,Z){for(var ue=0;ue<64;++ue)B[Z+ue]=Xc.toHalfFloat(vt(L[ue]))}function vt(L){return L<=1?Math.sign(L)*Math.pow(Math.abs(L),2.2):Math.sign(L)*Math.pow(N,Math.abs(L)-1)}function W(L){return new DataView(L.array.buffer,L.offset.value,L.size)}function U(L){var B=L.viewer.buffer.slice(L.offset.value,L.offset.value+L.size),Z=new Uint8Array(j(B)),ue=new Uint8Array(Z.length);return Ye(Z),Te(Z,ue),new DataView(ue.buffer)}function de(L){var B=L.array.slice(L.offset.value,L.offset.value+L.size),Z=Ov(B),ue=new Uint8Array(Z.length);return Ye(Z),Te(Z,ue),new DataView(ue.buffer)}function be(L){for(var B=L.viewer,Z={value:L.offset.value},ue=new Uint16Array(L.width*L.scanlineBlockSize*(L.channels*L.type)),xe=new Uint8Array(8192),ve=0,Ie=new Array(L.channels),De=0;De<L.channels;De++)Ie[De]={},Ie[De].start=ve,Ie[De].end=Ie[De].start,Ie[De].nx=L.width,Ie[De].ny=L.lines,Ie[De].size=L.type,ve+=Ie[De].nx*Ie[De].ny*Ie[De].size;var ot=Je(B,Z),k=Je(B,Z);if(k>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(ot<=k)for(var De=0;De<k-ot+1;De++)xe[De+ot]=Tt(B,Z);var q=new Uint16Array(65536),J=I(xe,q),me=He(B,Z);ut(L.array,B,Z,me,ue,ve);for(var De=0;De<L.channels;++De)for(var te=Ie[De],Se=0;Se<Ie[De].size;++Se)ct(ue,te.start+Se,te.nx,te.size,te.ny,te.nx*te.size,J);Be(q,ue,ve);for(var Oe=0,We=new Uint8Array(ue.buffer.byteLength),Ce=0;Ce<L.lines;Ce++)for(var $e=0;$e<L.channels;$e++){var te=Ie[$e],Ze=te.nx*te.size,Ke=new Uint8Array(ue.buffer,te.end*2,Ze*2);We.set(Ke,Oe),Oe+=Ze*2,te.end+=Ze}return new DataView(We.buffer)}function Ne(L){var B=L.array.slice(L.offset.value,L.offset.value+L.size),Z=Ov(B);const ue=L.lines*L.channels*L.width,xe=L.type==1?new Uint16Array(ue):new Uint32Array(ue);let ve=0,Ie=0;const De=new Array(4);for(let ot=0;ot<L.lines;ot++)for(let k=0;k<L.channels;k++){let q=0;switch(L.type){case 1:De[0]=ve,De[1]=De[0]+L.width,ve=De[1]+L.width;for(let J=0;J<L.width;++J){const me=Z[De[0]++]<<8|Z[De[1]++];q+=me,xe[Ie]=q,Ie++}break;case 2:De[0]=ve,De[1]=De[0]+L.width,De[2]=De[1]+L.width,ve=De[2]+L.width;for(let J=0;J<L.width;++J){const me=Z[De[0]++]<<24|Z[De[1]++]<<16|Z[De[2]++]<<8;q+=me,xe[Ie]=q,Ie++}break}}return new DataView(xe.buffer)}function we(L){var B=L.viewer,Z={value:L.offset.value},ue=new Uint8Array(L.width*L.lines*(L.channels*L.type*2)),xe={version:lt(B,Z),unknownUncompressedSize:lt(B,Z),unknownCompressedSize:lt(B,Z),acCompressedSize:lt(B,Z),dcCompressedSize:lt(B,Z),rleCompressedSize:lt(B,Z),rleUncompressedSize:lt(B,Z),rleRawSize:lt(B,Z),totalAcUncompressedCount:lt(B,Z),totalDcUncompressedCount:lt(B,Z),acCompression:lt(B,Z)};if(xe.version<2)throw"EXRLoader.parse: "+At.compression+" version "+xe.version+" is unsupported";for(var ve=new Array,Ie=Je(B,Z)-2;Ie>0;){var De=gt(B.buffer,Z),ot=Tt(B,Z),k=ot>>2&3,q=(ot>>4)-1,J=new Int8Array([q])[0],me=Tt(B,Z);ve.push({name:De,index:J,type:me,compression:k}),Ie-=De.length+3}for(var te=At.channels,Se=new Array(L.channels),Oe=0;Oe<L.channels;++Oe){var We=Se[Oe]={},Ce=te[Oe];We.name=Ce.name,We.compression=0,We.decoded=!1,We.type=Ce.pixelType,We.pLinear=Ce.pLinear,We.width=L.width,We.height=L.lines}for(var $e={idx:new Array(3)},Ze=0;Ze<L.channels;++Ze)for(var We=Se[Ze],Oe=0;Oe<ve.length;++Oe){var Ke=ve[Oe];We.name==Ke.name&&(We.compression=Ke.compression,Ke.index>=0&&($e.idx[Ke.index]=Ze),We.offset=Ze)}if(xe.acCompressedSize>0)switch(xe.acCompression){case 0:var Nt=new Uint16Array(xe.totalAcUncompressedCount);ut(L.array,B,Z,xe.acCompressedSize,Nt,xe.totalAcUncompressedCount);break;case 1:var rt=L.array.slice(Z.value,Z.value+xe.totalAcUncompressedCount),Ft=Ov(rt),Nt=new Uint16Array(Ft.buffer);Z.value+=xe.totalAcUncompressedCount;break}if(xe.dcCompressedSize>0){var Xt={array:L.array,offset:Z,size:xe.dcCompressedSize},Jt=new Uint16Array(de(Xt).buffer);Z.value+=xe.dcCompressedSize}if(xe.rleRawSize>0){var rt=L.array.slice(Z.value,Z.value+xe.rleCompressedSize),Ft=Ov(rt),Mt=j(Ft.buffer);Z.value+=xe.rleCompressedSize}for(var on=0,kt=new Array(Se.length),Oe=0;Oe<kt.length;++Oe)kt[Oe]=new Array;for(var yn=0;yn<L.lines;++yn)for(var pn=0;pn<Se.length;++pn)kt[pn].push(on),on+=Se[pn].width*L.type*2;Ae($e,kt,Se,Nt,Jt,ue);for(var Oe=0;Oe<Se.length;++Oe){var We=Se[Oe];if(!We.decoded)switch(We.compression){case 2:for(var Qt=0,Rn=0,yn=0;yn<L.lines;++yn){for(var _n=kt[Oe][Qt],Pn=0;Pn<We.width;++Pn){for(var Kn=0;Kn<2*We.type;++Kn)ue[_n++]=Mt[Rn+Kn*We.width*We.height];Rn++}Qt++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(ue.buffer)}function gt(L,B){for(var Z=new Uint8Array(L),ue=0;Z[B.value+ue]!=0;)ue+=1;var xe=new TextDecoder().decode(Z.slice(B.value,B.value+ue));return B.value=B.value+ue+1,xe}function tt(L,B,Z){var ue=new TextDecoder().decode(new Uint8Array(L).slice(B.value,B.value+Z));return B.value=B.value+Z,ue}function Rt(L,B){var Z=Pe(L,B),ue=He(L,B);return[Z,ue]}function wt(L,B){var Z=He(L,B),ue=He(L,B);return[Z,ue]}function Pe(L,B){var Z=L.getInt32(B.value,!0);return B.value=B.value+4,Z}function He(L,B){var Z=L.getUint32(B.value,!0);return B.value=B.value+4,Z}function Bt(L,B){var Z=L[B.value];return B.value=B.value+1,Z}function Tt(L,B){var Z=L.getUint8(B.value);return B.value=B.value+1,Z}const lt=function(L,B){let Z;return"getBigInt64"in DataView.prototype?Z=Number(L.getBigInt64(B.value,!0)):Z=L.getUint32(B.value+4,!0)+Number(L.getUint32(B.value,!0)<<32),B.value+=8,Z};function St(L,B){var Z=L.getFloat32(B.value,!0);return B.value+=4,Z}function ne(L,B){return Xc.toHalfFloat(St(L,B))}function ye(L){var B=(L&31744)>>10,Z=L&1023;return(L>>15?-1:1)*(B?B===31?Z?NaN:1/0:Math.pow(2,B-15)*(1+Z/1024):6103515625e-14*(Z/1024))}function Je(L,B){var Z=L.getUint16(B.value,!0);return B.value+=2,Z}function nt(L,B){return ye(Je(L,B))}function Ge(L,B,Z,ue){for(var xe=Z.value,ve=[];Z.value<xe+ue-1;){var Ie=gt(B,Z),De=Pe(L,Z),ot=Tt(L,Z);Z.value+=3;var k=Pe(L,Z),q=Pe(L,Z);ve.push({name:Ie,pixelType:De,pLinear:ot,xSampling:k,ySampling:q})}return Z.value+=1,ve}function Le(L,B){var Z=St(L,B),ue=St(L,B),xe=St(L,B),ve=St(L,B),Ie=St(L,B),De=St(L,B),ot=St(L,B),k=St(L,B);return{redX:Z,redY:ue,greenX:xe,greenY:ve,blueX:Ie,blueY:De,whiteX:ot,whiteY:k}}function ke(L,B){var Z=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],ue=Tt(L,B);return Z[ue]}function mt(L,B){var Z=He(L,B),ue=He(L,B),xe=He(L,B),ve=He(L,B);return{xMin:Z,yMin:ue,xMax:xe,yMax:ve}}function Ut(L,B){var Z=["INCREASING_Y"],ue=Tt(L,B);return Z[ue]}function Yt(L,B){var Z=St(L,B),ue=St(L,B);return[Z,ue]}function Nn(L,B){var Z=St(L,B),ue=St(L,B),xe=St(L,B);return[Z,ue,xe]}function Bn(L,B,Z,ue,xe){if(ue==="string"||ue==="stringvector"||ue==="iccProfile")return tt(B,Z,xe);if(ue==="chlist")return Ge(L,B,Z,xe);if(ue==="chromaticities")return Le(L,Z);if(ue==="compression")return ke(L,Z);if(ue==="box2i")return mt(L,Z);if(ue==="lineOrder")return Ut(L,Z);if(ue==="float")return St(L,Z);if(ue==="v2f")return Yt(L,Z);if(ue==="v3f")return Nn(L,Z);if(ue==="int")return Pe(L,Z);if(ue==="rational")return Rt(L,Z);if(ue==="timecode")return wt(L,Z);if(ue==="preview")return Z.value+=xe,"skipped";Z.value+=xe}function re(L,B,Z){const ue={};if(L.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";ue.version=L.getUint8(4);const xe=L.getUint8(5);ue.spec={singleTile:!!(xe&2),longName:!!(xe&4),deepFormat:!!(xe&8),multiPart:!!(xe&16)},Z.value=8;for(var ve=!0;ve;){var Ie=gt(B,Z);if(Ie==0)ve=!1;else{var De=gt(B,Z),ot=He(L,Z),k=Bn(L,B,Z,De,ot);k===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${De}'.`):ue[Ie]=k}}if(xe&-5)throw console.error("EXRHeader:",ue),"THREE.EXRLoader: provided file is currently unsupported.";return ue}function le(L,B,Z,ue,xe){const ve={size:0,viewer:B,array:Z,offset:ue,width:L.dataWindow.xMax-L.dataWindow.xMin+1,height:L.dataWindow.yMax-L.dataWindow.yMin+1,channels:L.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:L.channels[0].pixelType,uncompress:null,getter:null,format:null,[ep?"colorSpace":"encoding"]:null};switch(L.compression){case"NO_COMPRESSION":ve.lines=1,ve.uncompress=W;break;case"RLE_COMPRESSION":ve.lines=1,ve.uncompress=U;break;case"ZIPS_COMPRESSION":ve.lines=1,ve.uncompress=de;break;case"ZIP_COMPRESSION":ve.lines=16,ve.uncompress=de;break;case"PIZ_COMPRESSION":ve.lines=32,ve.uncompress=be;break;case"PXR24_COMPRESSION":ve.lines=16,ve.uncompress=Ne;break;case"DWAA_COMPRESSION":ve.lines=32,ve.uncompress=we;break;case"DWAB_COMPRESSION":ve.lines=256,ve.uncompress=we;break;default:throw"EXRLoader.parse: "+L.compression+" is unsupported"}if(ve.scanlineBlockSize=ve.lines,ve.type==1)switch(xe){case nr:ve.getter=nt,ve.inputSize=2;break;case Ir:ve.getter=Je,ve.inputSize=2;break}else if(ve.type==2)switch(xe){case nr:ve.getter=St,ve.inputSize=4;break;case Ir:ve.getter=ne,ve.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+ve.type+" for "+L.compression+".";ve.blockCount=(L.dataWindow.yMax+1)/ve.scanlineBlockSize;for(var Ie=0;Ie<ve.blockCount;Ie++)lt(B,ue);ve.outputChannels=ve.channels==3?4:ve.channels;const De=ve.width*ve.height*ve.outputChannels;switch(xe){case nr:ve.byteArray=new Float32Array(De),ve.channels<ve.outputChannels&&ve.byteArray.fill(1,0,De);break;case Ir:ve.byteArray=new Uint16Array(De),ve.channels<ve.outputChannels&&ve.byteArray.fill(15360,0,De);break;default:console.error("THREE.EXRLoader: unsupported type: ",xe);break}return ve.bytesPerLine=ve.width*ve.inputSize*ve.channels,ve.outputChannels==4?ve.format=vr:ve.format=lg,ep?ve.colorSpace="srgb-linear":ve.encoding=3e3,ve}const ge=new DataView(e),ze=new Uint8Array(e),ft={value:0},At=re(ge,e,ft),ht=le(At,ge,ze,ft,this.type),bt={value:0},It={R:0,G:1,B:2,A:3,Y:0};for(let L=0;L<ht.height/ht.scanlineBlockSize;L++){const B=He(ge,ft);ht.size=He(ge,ft),ht.lines=B+ht.scanlineBlockSize>ht.height?ht.height-B:ht.scanlineBlockSize;const ue=ht.size<ht.lines*ht.bytesPerLine?ht.uncompress(ht):W(ht);ft.value+=ht.size;for(let xe=0;xe<ht.scanlineBlockSize;xe++){const ve=xe+L*ht.scanlineBlockSize;if(ve>=ht.height)break;for(let Ie=0;Ie<ht.channels;Ie++){const De=It[At.channels[Ie].name];for(let ot=0;ot<ht.width;ot++){bt.value=(xe*(ht.channels*ht.width)+Ie*ht.width+ot)*ht.inputSize;const k=(ht.height-1-ve)*(ht.width*ht.outputChannels)+ot*ht.outputChannels+De;ht.byteArray[k]=ht.getter(ue,bt)}}}}return{header:At,width:ht.width,height:ht.height,data:ht.byteArray,format:ht.format,[ep?"colorSpace":"encoding"]:ht[ep?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(o,a){ep?o.colorSpace=a.colorSpace:o.encoding=a.encoding,o.minFilter=An,o.magFilter=An,o.generateMipmaps=!1,o.flipY=!1,n&&n(o,a)}return super.load(e,s,r,i)}}var DV={exports:{}},Sde="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bde=Sde,Mde=bde;function LV(){}function OV(){}OV.resetWarningCache=LV;var Ede=function(){function t(r,i,s,o,a,l){if(l!==Mde){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:OV,resetWarningCache:LV};return n.PropTypes=n,n};DV.exports=Ede();var Tde=DV.exports;const tp=Qy(Tde);tp.func.isRequired,tp.arrayOf(tp.oneOfType([tp.element,tp.func])).isRequired;const AL=(t,e)=>{"updateRanges"in t?t.updateRanges[0]=e:t.updateRange=e},Cde=3e3,Ade=3001;function Rde(t){return typeof t=="function"}const RL=new Gt,PL=new Gt,Fv=[],np=new or;class Pde extends $c{constructor(){super(),this.color=new Ct("white"),this.instance={current:void 0},this.instanceKey={current:void 0}}get geometry(){var e;return(e=this.instance.current)==null?void 0:e.geometry}raycast(e,n){const r=this.instance.current;if(!r||!r.geometry||!r.material)return;np.geometry=r.geometry;const i=r.matrixWorld,s=r.userData.instances.indexOf(this.instanceKey);if(!(s===-1||s>r.count)){r.getMatrixAt(s,RL),PL.multiplyMatrices(i,RL),np.matrixWorld=PL,r.material instanceof Kr?np.material.side=r.material.side:np.material.side=r.material[0].side,np.raycast(e,Fv);for(let o=0,a=Fv.length;o<a;o++){const l=Fv[o];l.instanceId=s,l.object=this,n.push(l)}Fv.length=0}}}const FV=E.createContext(null),IL=new Gt,NL=new Gt,Ide=new Gt,DL=new X,LL=new Si,OL=new X,Nde=t=>t.isInstancedBufferAttribute,kV=E.forwardRef(({context:t,children:e,...n},r)=>{E.useMemo(()=>GA({PositionMesh:Pde}),[]);const i=E.useRef();E.useImperativeHandle(r,()=>i.current,[]);const{subscribe:s,getParent:o}=E.useContext(t||FV);return E.useLayoutEffect(()=>s(i),[]),E.createElement("positionMesh",jf({instance:o(),instanceKey:i,ref:i},n),e)}),Dde=E.forwardRef(({context:t,children:e,range:n,limit:r=1e3,frames:i=1/0,...s},o)=>{const[{localContext:a,instance:l}]=E.useState(()=>{const _=E.createContext(null);return{localContext:_,instance:E.forwardRef((S,M)=>E.createElement(kV,jf({context:_},S,{ref:M})))}}),c=E.useRef(null);E.useImperativeHandle(o,()=>c.current,[]);const[u,d]=E.useState([]),[[p,m]]=E.useState(()=>{const _=new Float32Array(r*16);for(let S=0;S<r;S++)Ide.identity().toArray(_,S*16);return[_,new Float32Array([...new Array(r*3)].map(()=>1))]});E.useEffect(()=>{c.current.instanceMatrix.needsUpdate=!0});let v=0,x=0;const y=E.useRef([]);E.useLayoutEffect(()=>{y.current=Object.entries(c.current.geometry.attributes).filter(([_,S])=>Nde(S))}),oh(()=>{if(i===1/0||v<i){c.current.updateMatrix(),c.current.updateMatrixWorld(),IL.copy(c.current.matrixWorld).invert(),x=Math.min(r,n!==void 0?n:r,u.length),c.current.count=x,AL(c.current.instanceMatrix,{offset:0,count:x*16}),AL(c.current.instanceColor,{offset:0,count:x*3});for(let _=0;_<u.length;_++){const S=u[_].current;S.matrixWorld.decompose(DL,LL,OL),NL.compose(DL,LL,OL).premultiply(IL),NL.toArray(p,_*16),c.current.instanceMatrix.needsUpdate=!0,S.color.toArray(m,_*3),c.current.instanceColor.needsUpdate=!0}v++}});const g=E.useMemo(()=>({getParent:()=>c,subscribe:_=>(d(S=>[...S,_]),()=>d(S=>S.filter(M=>M.current!==_.current)))}),[]);return E.createElement("instancedMesh",jf({userData:{instances:u,limit:r,frames:i},matrixAutoUpdate:!1,ref:c,args:[null,null,0],raycast:()=>null},s),E.createElement("instancedBufferAttribute",{attach:"instanceMatrix",count:p.length/16,array:p,itemSize:16,usage:IE}),E.createElement("instancedBufferAttribute",{attach:"instanceColor",count:m.length/3,array:m,itemSize:3,usage:IE}),Rde(e)?E.createElement(a.Provider,{value:g},e(l)):t?E.createElement(t.Provider,{value:g},e):E.createElement(FV.Provider,{value:g},e))}),UV=E.forwardRef(({children:t,enabled:e=!0,speed:n=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:s=[-.1,.1],autoInvalidate:o=!1,...a},l)=>{const c=E.useRef(null);E.useImperativeHandle(l,()=>c.current,[]);const u=E.useRef(Math.random()*1e4);return oh(d=>{var p,m;if(!e||n===0)return;o&&d.invalidate();const v=u.current+d.clock.elapsedTime;c.current.rotation.x=Math.cos(v/4*n)/8*r,c.current.rotation.y=Math.sin(v/4*n)/8*r,c.current.rotation.z=Math.sin(v/4*n)/20*r;let x=Math.sin(v/4*n)/10;x=W5.mapLinear(x,-.1,.1,(p=s==null?void 0:s[0])!==null&&p!==void 0?p:-.1,(m=s==null?void 0:s[1])!==null&&m!==void 0?m:.1),c.current.position.y=x*i,c.current.updateMatrix()}),E.createElement("group",a,E.createElement("group",{ref:c,matrixAutoUpdate:!1},t))}),BV=(t,e,n)=>{let r;switch(t){case bi:r=new Uint8ClampedArray(e*n*4);break;case Ir:r=new Uint16Array(e*n*4);break;case $o:r=new Uint32Array(e*n*4);break;case I_:r=new Int8Array(e*n*4);break;case N_:r=new Int16Array(e*n*4);break;case ag:r=new Int32Array(e*n*4);break;case nr:r=new Float32Array(e*n*4);break;default:throw new Error("Unsupported data type")}return r};let kv;const Lde=(t,e,n,r)=>{if(kv!==void 0)return kv;const i=new Us(1,1,r);e.setRenderTarget(i);const s=new or(new ic,new ka({color:16777215}));e.render(s,n),e.setRenderTarget(null);const o=BV(t,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,o),i.dispose(),s.geometry.dispose(),s.material.dispose(),kv=o[0]!==0,kv};class YA{constructor(e){lr(this,"_renderer");lr(this,"_rendererIsDisposable",!1);lr(this,"_material");lr(this,"_scene");lr(this,"_camera");lr(this,"_quad");lr(this,"_renderTarget");lr(this,"_width");lr(this,"_height");lr(this,"_type");lr(this,"_colorSpace");lr(this,"_supportsReadPixels",!0);lr(this,"render",()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(e){throw this._renderer.setRenderTarget(null),e}this._renderer.setRenderTarget(null)});var r,i,s,o,a,l,c,u,d,p,m,v,x,y,g,_;this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const n={format:vr,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((r=e.renderTargetOptions)==null?void 0:r.anisotropy)!==void 0?(i=e.renderTargetOptions)==null?void 0:i.anisotropy:1,generateMipmaps:((s=e.renderTargetOptions)==null?void 0:s.generateMipmaps)!==void 0?(o=e.renderTargetOptions)==null?void 0:o.generateMipmaps:!1,magFilter:((a=e.renderTargetOptions)==null?void 0:a.magFilter)!==void 0?(l=e.renderTargetOptions)==null?void 0:l.magFilter:An,minFilter:((c=e.renderTargetOptions)==null?void 0:c.minFilter)!==void 0?(u=e.renderTargetOptions)==null?void 0:u.minFilter:An,samples:((d=e.renderTargetOptions)==null?void 0:d.samples)!==void 0?(p=e.renderTargetOptions)==null?void 0:p.samples:void 0,wrapS:((m=e.renderTargetOptions)==null?void 0:m.wrapS)!==void 0?(v=e.renderTargetOptions)==null?void 0:v.wrapS:hr,wrapT:((x=e.renderTargetOptions)==null?void 0:x.wrapT)!==void 0?(y=e.renderTargetOptions)==null?void 0:y.wrapT:hr};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=YA.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new fg,this._camera=new ih,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!Lde(this._type,this._renderer,this._camera,n)){let S;switch(this._type){case Ir:S=this._renderer.extensions.has("EXT_color_buffer_float")?nr:void 0;break}S!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${nr}`),this._type=S):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new or(new ic,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new Us(this.width,this.height,n),this._renderTarget.texture.mapping=((g=e.renderTargetOptions)==null?void 0:g.mapping)!==void 0?(_=e.renderTargetOptions)==null?void 0:_.mapping:jl}static instantiateRenderer(){const e=new HA;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=BV(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const n=new Ls(this.toArray(),this.width,this.height,vr,this._type,(e==null?void 0:e.mapping)||jl,(e==null?void 0:e.wrapS)||hr,(e==null?void 0:e.wrapT)||hr,(e==null?void 0:e.magFilter)||An,(e==null?void 0:e.minFilter)||An,(e==null?void 0:e.anisotropy)||1,Yo);return n.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,n}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Mi&&Object.values(this.material.uniforms).forEach(n=>{n.value instanceof Fn&&n.value.dispose()}),Object.values(this.material).forEach(n=>{n instanceof Fn&&n.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}class zV extends Error{}class VV extends Error{}const rp=(t,e,n)=>{const r=new RegExp(`${e}="([^"]*)"`,"i").exec(t);if(r)return r[1];const i=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(t);if(i){const s=i[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return s&&s.length===3?s.map(o=>o.replace(/<\/?rdf:li>/g,"")):i[1].trim()}if(n!==void 0)return n;throw new Error(`Can't find ${e} in gainmap metadata`)},Ode=t=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(t):e=t.toString();let n=e.indexOf("<x:xmpmeta");for(;n!==-1;){const r=e.indexOf("x:xmpmeta>",n),i=e.slice(n,r+10);try{const s=rp(i,"hdrgm:GainMapMin","0"),o=rp(i,"hdrgm:GainMapMax"),a=rp(i,"hdrgm:Gamma","1"),l=rp(i,"hdrgm:OffsetSDR","0.015625"),c=rp(i,"hdrgm:OffsetHDR","0.015625"),u=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(i),d=u?u[1]:"0",p=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(i);if(!p)throw new Error("Incomplete gainmap metadata");const m=p[1];return{gainMapMin:Array.isArray(s)?s.map(v=>parseFloat(v)):[parseFloat(s),parseFloat(s),parseFloat(s)],gainMapMax:Array.isArray(o)?o.map(v=>parseFloat(v)):[parseFloat(o),parseFloat(o),parseFloat(o)],gamma:Array.isArray(a)?a.map(v=>parseFloat(v)):[parseFloat(a),parseFloat(a),parseFloat(a)],offsetSdr:Array.isArray(l)?l.map(v=>parseFloat(v)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(c)?c.map(v=>parseFloat(v)):[parseFloat(c),parseFloat(c),parseFloat(c)],hdrCapacityMin:parseFloat(d),hdrCapacityMax:parseFloat(m)}}catch{}n=e.indexOf("<x:xmpmeta",r)}};class Fde{constructor(e){lr(this,"options");this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((n,r)=>{const i=this.options.debug,s=new DataView(e.buffer);if(s.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const o=s.byteLength;let a=2,l=0,c;for(;a<o;){if(++l>250){r(new Error(`Found no marker after ${l} loops `));return}if(s.getUint8(a)!==255){r(new Error(`Not a valid marker at offset 0x${a.toString(16)}, found: 0x${s.getUint8(a).toString(16)}`));return}if(c=s.getUint8(a+1),i&&console.log(`Marker: ${c.toString(16)}`),c===226){i&&console.log("Found APP2 marker (0xffe2)");const u=a+4;if(s.getUint32(u)===1297106432){const d=u+4;let p;if(s.getUint16(d)===18761)p=!1;else if(s.getUint16(d)===19789)p=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(s.getUint16(d+2,!p)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const m=s.getUint32(d+4,!p);if(m<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const v=d+m,x=s.getUint16(v,!p),y=v+2;let g=0;for(let A=y;A<y+12*x;A+=12)s.getUint16(A,!p)===45057&&(g=s.getUint32(A+8,!p));const S=v+2+x*12+4,M=[];for(let A=S;A<S+g*16;A+=16){const R={MPType:s.getUint32(A,!p),size:s.getUint32(A+4,!p),dataOffset:s.getUint32(A+8,!p),dependantImages:s.getUint32(A+12,!p),start:-1,end:-1,isFII:!1};R.dataOffset?(R.start=d+R.dataOffset,R.isFII=!1):(R.start=0,R.isFII=!0),R.end=R.start+R.size,M.push(R)}if(this.options.extractNonFII&&M.length){const A=new Blob([s]),R=[];for(const C of M){if(C.isFII&&!this.options.extractFII)continue;const D=A.slice(C.start,C.end+1,"image/jpeg");R.push(D)}n(R)}}}a+=2+s.getUint16(a+2)}})}}const kde=async t=>{const e=Ode(t);if(!e)throw new VV("Gain map XMP metadata not found");const r=await new Fde({extractFII:!0,extractNonFII:!0}).extract(t);if(r.length!==2)throw new zV("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:e}},FL=t=>new Promise((e,n)=>{const r=document.createElement("img");r.onload=()=>{e(r)},r.onerror=i=>{n(i)},r.src=URL.createObjectURL(t)});class Ude extends Ai{constructor(n,r){super(r);lr(this,"_renderer");lr(this,"_renderTargetOptions");lr(this,"_internalLoadingManager");lr(this,"_config");this._config=n,n.renderer&&(this._renderer=n.renderer),this._internalLoadingManager=new i1}setRenderer(n){return this._renderer=n,this}setRenderTargetOptions(n){return this._renderTargetOptions=n,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: A Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const n=this._config.createMaterial({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Fn,sdr:new Fn});return this._config.createQuadRenderer({width:16,height:16,type:Ir,colorSpace:Yo,material:n,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async processImages(n,r,i){const s=r?new Blob([r],{type:"image/jpeg"}):void 0,o=new Blob([n],{type:"image/jpeg"});let a,l,c=!1;if(typeof createImageBitmap>"u"){const u=await Promise.all([s?FL(s):Promise.resolve(void 0),FL(o)]);l=u[0],a=u[1],c=i==="flipY"}else{const u=await Promise.all([s?createImageBitmap(s,{imageOrientation:i||"flipY"}):Promise.resolve(void 0),createImageBitmap(o,{imageOrientation:i||"flipY"})]);l=u[0],a=u[1]}return{sdrImage:a,gainMapImage:l,needsFlip:c}}createTextures(n,r,i){const s=new Fn(r||new ImageData(2,2),jl,hr,hr,An,RE,vr,bi,1,Yo);s.flipY=i,s.needsUpdate=!0;const o=new Fn(n,jl,hr,hr,An,RE,vr,bi,1,vi);return o.flipY=i,o.needsUpdate=!0,{gainMap:s,sdr:o}}updateQuadRenderer(n,r,i,s,o){n.width=r.width,n.height=r.height,n.material.gainMap=i,n.material.sdr=s,n.material.gainMapMin=o.gainMapMin,n.material.gainMapMax=o.gainMapMax,n.material.offsetHdr=o.offsetHdr,n.material.offsetSdr=o.offsetSdr,n.material.gamma=o.gamma,n.material.hdrCapacityMin=o.hdrCapacityMin,n.material.hdrCapacityMax=o.hdrCapacityMax,n.material.maxDisplayBoost=Math.pow(2,o.hdrCapacityMax),n.material.needsUpdate=!0}}const Bde=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,zde=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class Vde extends Mi{constructor({gamma:n,offsetHdr:r,offsetSdr:i,gainMapMin:s,gainMapMax:o,maxDisplayBoost:a,hdrCapacityMin:l,hdrCapacityMax:c,sdr:u,gainMap:d}){super({name:"GainMapDecoderMaterial",vertexShader:Bde,fragmentShader:zde,uniforms:{sdr:{value:u},gainMap:{value:d},gamma:{value:new X(1/n[0],1/n[1],1/n[2])},offsetHdr:{value:new X().fromArray(r)},offsetSdr:{value:new X().fromArray(i)},gainMapMin:{value:new X().fromArray(s)},gainMapMax:{value:new X().fromArray(o)},weightFactor:{value:(Math.log2(a)-l)/(c-l)}},blending:co,depthTest:!1,depthWrite:!1});lr(this,"_maxDisplayBoost");lr(this,"_hdrCapacityMin");lr(this,"_hdrCapacityMax");this._maxDisplayBoost=a,this._hdrCapacityMin=l,this._hdrCapacityMax=c,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(n){this.uniforms.sdr.value=n}get gainMap(){return this.uniforms.gainMap.value}set gainMap(n){this.uniforms.gainMap.value=n}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(n){this.uniforms.offsetHdr.value.fromArray(n)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(n){this.uniforms.offsetSdr.value.fromArray(n)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(n){this.uniforms.gainMapMin.value.fromArray(n)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(n){this.uniforms.gainMapMax.value.fromArray(n)}get gamma(){const n=this.uniforms.gamma.value;return[1/n.x,1/n.y,1/n.z]}set gamma(n){const r=this.uniforms.gamma.value;r.x=1/n[0],r.y=1/n[1],r.z=1/n[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(n){this._hdrCapacityMin=n,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(n){this._hdrCapacityMax=n,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(n){this._maxDisplayBoost=Math.max(1,Math.min(65504,n)),this.calculateWeight()}calculateWeight(){const n=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,n))}}class HV extends Ude{constructor(e,n){super({renderer:e,createMaterial:r=>new Vde(r),createQuadRenderer:r=>new YA(r)},n)}async render(e,n,r,i){const{sdrImage:s,gainMapImage:o,needsFlip:a}=await this.processImages(r,i,"flipY"),{gainMap:l,sdr:c}=this.createTextures(s,o,a);this.updateQuadRenderer(e,s,l,c,n),e.render()}}class Hde extends HV{load([e,n,r],i,s,o){const a=this.prepareQuadRenderer();let l,c,u;const d=async()=>{if(l&&c&&u){try{await this.render(a,u,l,c)}catch(N){this.manager.itemError(e),this.manager.itemError(n),this.manager.itemError(r),typeof o=="function"&&o(N),a.disposeOnDemandRenderer();return}typeof i=="function"&&i(a),this.manager.itemEnd(e),this.manager.itemEnd(n),this.manager.itemEnd(r),a.disposeOnDemandRenderer()}};let p=!0,m=0,v=0,x=!0,y=0,g=0,_=!0,S=0,M=0;const A=()=>{if(typeof s=="function"){const N=m+y+S,I=v+g+M,F=p&&x&&_;s(new ProgressEvent("progress",{lengthComputable:F,loaded:I,total:N}))}};this.manager.itemStart(e),this.manager.itemStart(n),this.manager.itemStart(r);const R=new ls(this._internalLoadingManager);R.setResponseType("arraybuffer"),R.setRequestHeader(this.requestHeader),R.setPath(this.path),R.setWithCredentials(this.withCredentials),R.load(e,async N=>{if(typeof N=="string")throw new Error("Invalid sdr buffer");l=N,await d()},N=>{p=N.lengthComputable,v=N.loaded,m=N.total,A()},N=>{this.manager.itemError(e),typeof o=="function"&&o(N)});const C=new ls(this._internalLoadingManager);C.setResponseType("arraybuffer"),C.setRequestHeader(this.requestHeader),C.setPath(this.path),C.setWithCredentials(this.withCredentials),C.load(n,async N=>{if(typeof N=="string")throw new Error("Invalid gainmap buffer");c=N,await d()},N=>{x=N.lengthComputable,g=N.loaded,y=N.total,A()},N=>{this.manager.itemError(n),typeof o=="function"&&o(N)});const D=new ls(this._internalLoadingManager);return D.setRequestHeader(this.requestHeader),D.setPath(this.path),D.setWithCredentials(this.withCredentials),D.load(r,async N=>{if(typeof N!="string")throw new Error("Invalid metadata string");u=JSON.parse(N),await d()},N=>{_=N.lengthComputable,M=N.loaded,S=N.total,A()},N=>{this.manager.itemError(r),typeof o=="function"&&o(N)}),a}}class jde extends HV{load(e,n,r,i){const s=this.prepareQuadRenderer(),o=new ls(this._internalLoadingManager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(this.withCredentials),this.manager.itemStart(e),o.load(e,async a=>{if(typeof a=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(a);let c,u,d;try{const p=await kde(l);c=p.sdr,u=p.gainMap,d=p.metadata}catch(p){if(p instanceof VV||p instanceof zV)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),d={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},c=l;else throw p}try{await this.render(s,d,c.buffer,u==null?void 0:u.buffer)}catch(p){this.manager.itemError(e),typeof i=="function"&&i(p),s.disposeOnDemandRenderer();return}typeof n=="function"&&n(s),this.manager.itemEnd(e),s.disposeOnDemandRenderer()},r,a=>{this.manager.itemError(e),typeof i=="function"&&i(a)}),s}}const Dm={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},jV="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",rf=t=>Array.isArray(t),qA=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function l1({files:t=qA,path:e="",preset:n=void 0,encoding:r=void 0,extensions:i}={}){let s=null,o=!1;n&&(KA(n),t=Dm[n],e=jV),o=rf(t);const{extension:a,isCubemap:l}=ZA(t);if(s=QA(a),!s)throw new Error("useEnvironment: Unrecognized file extension: "+t);const c=Tu(m=>m.gl);E.useLayoutEffect(()=>{if(a!=="webp"&&a!=="jpg"&&a!=="jpeg")return;function m(){Vf.clear(s,o?[t]:t)}c.domElement.addEventListener("webglcontextlost",m,{once:!0})},[t,c.domElement]);const u=Vf(s,o?[t]:t,m=>{(a==="webp"||a==="jpg"||a==="jpeg")&&m.setRenderer(c),m.setPath==null||m.setPath(e),i&&i(m)});let d=o?u[0]:u;if(a==="jpg"||a==="jpeg"||a==="webp"){var p;d=(p=d.renderTarget)==null?void 0:p.texture}return d.mapping=l?Xo:Pf,"colorSpace"in d?d.colorSpace=r??l?"srgb":"srgb-linear":d.encoding=r??l?Ade:Cde,d}const Gde={files:qA,path:"",preset:void 0,extensions:void 0};l1.preload=t=>{const e={...Gde,...t};let{files:n,path:r=""}=e;const{preset:i,extensions:s}=e;i&&(KA(i),n=Dm[i],r=jV);const{extension:o}=ZA(n);if(o==="webp"||o==="jpg"||o==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const a=QA(o);if(!a)throw new Error("useEnvironment: Unrecognized file extension: "+n);Vf.preload(a,rf(n)?[n]:n,l=>{l.setPath==null||l.setPath(r),s&&s(l)})};const Wde={files:qA,preset:void 0};l1.clear=t=>{const e={...Wde,...t};let{files:n}=e;const{preset:r}=e;r&&(KA(r),n=Dm[r]);const{extension:i}=ZA(n),s=QA(i);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+n);Vf.clear(s,rf(n)?[n]:n)};function KA(t){if(!(t in Dm))throw new Error("Preset must be one of: "+Object.keys(Dm).join(", "))}function ZA(t){var e;const n=rf(t)&&t.length===6,r=rf(t)&&t.length===3&&t.some(o=>o.endsWith("json")),i=rf(t)?t[0]:t;return{extension:n?"cube":r?"webp":i.startsWith("data:application/exr")?"exr":i.startsWith("data:application/hdr")?"hdr":i.startsWith("data:image/jpeg")?"jpg":(e=i.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:n,isGainmap:r}}function QA(t){return t==="cube"?Lz:t==="hdr"?_de:t==="exr"?wde:t==="jpg"||t==="jpeg"?jde:t==="webp"?Hde:null}const Xde=t=>t.current&&t.current.isScene,$de=t=>Xde(t)?t.current:t;function JA(t,e,n,r,i={}){var s,o,a,l;i={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const c=$de(e||n),u=c.background,d=c.environment,p={backgroundBlurriness:c.backgroundBlurriness,backgroundIntensity:c.backgroundIntensity,backgroundRotation:(s=(o=c.backgroundRotation)==null||o.clone==null?void 0:o.clone())!==null&&s!==void 0?s:[0,0,0],environmentIntensity:c.environmentIntensity,environmentRotation:(a=(l=c.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&a!==void 0?a:[0,0,0]};return t!=="only"&&(c.environment=r),t&&(c.background=r),ul(c,i),()=>{t!=="only"&&(c.environment=d),t&&(c.background=u),ul(c,p)}}function e3({scene:t,background:e=!1,map:n,...r}){const i=Tu(s=>s.scene);return E.useLayoutEffect(()=>{if(n)return JA(e,t,i,n,r)}),null}function GV({background:t=!1,scene:e,blur:n,backgroundBlurriness:r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:o,environmentRotation:a,...l}){const c=l1(l),u=Tu(d=>d.scene);return E.useLayoutEffect(()=>JA(t,e,u,c,{backgroundBlurriness:n??r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:o,environmentRotation:a})),E.useEffect(()=>()=>{c.dispose()},[c]),null}function Yde({children:t,near:e=.1,far:n=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,backgroundBlurriness:l,backgroundIntensity:c,backgroundRotation:u,environmentIntensity:d,environmentRotation:p,scene:m,files:v,path:x,preset:y=void 0,extensions:g}){const _=Tu(D=>D.gl),S=Tu(D=>D.scene),M=E.useRef(null),[A]=E.useState(()=>new fg),R=E.useMemo(()=>{const D=new mA(r);return D.texture.type=Ir,D},[r]);E.useEffect(()=>()=>{R.dispose()},[R]),E.useLayoutEffect(()=>{if(i===1){const D=_.autoClear;_.autoClear=!0,M.current.update(_,A),_.autoClear=D}return JA(o,m,S,R.texture,{backgroundBlurriness:a??l,backgroundIntensity:c,backgroundRotation:u,environmentIntensity:d,environmentRotation:p})},[t,A,R.texture,m,S,o,i,_]);let C=1;return oh(()=>{if(i===1/0||C<i){const D=_.autoClear;_.autoClear=!0,M.current.update(_,A),_.autoClear=D,C++}}),E.createElement(E.Fragment,null,Vue(E.createElement(E.Fragment,null,t,E.createElement("cubeCamera",{ref:M,args:[e,n,R]}),v||y?E.createElement(GV,{background:!0,files:v,preset:y,path:x,extensions:g}):s?E.createElement(e3,{background:!0,map:s,extensions:g}):null),A))}function qde(t){var e,n,r,i;const s=l1(t),o=t.map||s;E.useMemo(()=>GA({GroundProjectedEnvImpl:yde}),[]),E.useEffect(()=>()=>{s.dispose()},[s]);const a=E.useMemo(()=>[o],[o]),l=(e=t.ground)==null?void 0:e.height,c=(n=t.ground)==null?void 0:n.radius,u=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return E.createElement(E.Fragment,null,E.createElement(e3,jf({},t,{map:o})),E.createElement("groundProjectedEnvImpl",{args:a,scale:u,height:l,radius:c}))}function Kde(t){return t.ground?E.createElement(qde,t):t.map?E.createElement(e3,t):t.children?E.createElement(Yde,t):E.createElement(GV,t)}var WV={exports:{}},XV={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf=E;function Zde(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qde=typeof Object.is=="function"?Object.is:Zde,Jde=Gf.useState,efe=Gf.useEffect,tfe=Gf.useLayoutEffect,nfe=Gf.useDebugValue;function rfe(t,e){var n=e(),r=Jde({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return tfe(function(){i.value=n,i.getSnapshot=e,Sb(i)&&s({inst:i})},[t,n,e]),efe(function(){return Sb(i)&&s({inst:i}),t(function(){Sb(i)&&s({inst:i})})},[t]),nfe(n),n}function Sb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qde(t,n)}catch{return!0}}function ife(t,e){return e()}var sfe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ife:rfe;XV.useSyncExternalStore=Gf.useSyncExternalStore!==void 0?Gf.useSyncExternalStore:sfe;WV.exports=XV;var ofe=WV.exports,afe=Symbol.for("react.lazy"),Wy=e_[" use ".trim().toString()];function lfe(t){return typeof t=="object"&&t!==null&&"then"in t}function $V(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===afe&&"_payload"in t&&lfe(t._payload)}function t3(t){const e=ufe(t),n=E.forwardRef((r,i)=>{let{children:s,...o}=r;$V(s)&&typeof Wy=="function"&&(s=Wy(s._payload));const a=E.Children.toArray(s),l=a.find(ffe);if(l){const c=l.props.children,u=a.map(d=>d===l?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:d);return T.jsx(e,{...o,ref:i,children:E.isValidElement(c)?E.cloneElement(c,void 0,u):null})}return T.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var cfe=t3("Slot");function ufe(t){const e=E.forwardRef((n,r)=>{let{children:i,...s}=n;if($V(i)&&typeof Wy=="function"&&(i=Wy(i._payload)),E.isValidElement(i)){const o=pfe(i),a=hfe(s,i.props);return i.type!==E.Fragment&&(a.ref=r?Jl(r,o):o),E.cloneElement(i,a)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var dfe=Symbol("radix.slottable");function ffe(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dfe}function hfe(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function pfe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const mfe=lC("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Xi=E.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?cfe:"button";return T.jsx(o,{className:Ht(mfe({variant:e,size:n,className:t})),ref:s,...i})});Xi.displayName="Button";const kL=250,Xy=["#6d5ce8","#a78bfa","#3b82f6","#f472b6"];function gfe(){const{viewport:t}=Tu(),e=Math.min(t.width/2.2,8);return T.jsxs("group",{children:[T.jsx(UL,{position:[-e,0,0],colorSet:0}),T.jsx(UL,{position:[e,0,0],colorSet:1}),T.jsx(xfe,{})]})}function UL({position:t,colorSet:e}){const n=E.useRef(null),r=E.useMemo(()=>Array.from({length:kL}).map(()=>({pos:[(Math.random()-.5)*5,(Math.random()-.5)*50,(Math.random()-.5)*6],speed:Math.random()*.2+.1,scale:Math.random()*.5+.5,color:Xy[Math.floor(Math.random()*Xy.length)]})),[]);return oh(i=>{n.current&&(n.current.rotation.z=Math.sin(i.clock.elapsedTime*.1)*.05)}),T.jsx("group",{position:t,ref:n,rotation:[0,0,.1],children:T.jsxs(Dde,{range:kL,children:[T.jsx("boxGeometry",{args:[.02,1.5,.02]}),T.jsx("meshBasicMaterial",{transparent:!0,opacity:.6,toneMapped:!1,color:e===0?"#8b5cf6":"#3b82f6"}),r.map((i,s)=>T.jsx(vfe,{...i},s))]})})}function vfe({pos:t,speed:e,scale:n,color:r}){const i=E.useRef(null),[s]=E.useState(()=>Math.random()*100);return oh(o=>{if(!i.current)return;i.current.position.y-=e,i.current.position.y<-25&&(i.current.position.y=25,i.current.position.x=t[0]+(Math.random()-.5));const a=o.clock.elapsedTime+s;Math.sin(a*10)>.95&&(i.current.position.x+=(Math.random()-.5)*.2)}),T.jsx(kV,{ref:i,position:t,scale:[1,n,1],color:r})}function xfe(){const{viewport:t}=Tu();return T.jsx("group",{children:Array.from({length:15}).map((e,n)=>T.jsx(UV,{speed:2,rotationIntensity:4,floatIntensity:2,children:T.jsxs("mesh",{position:[(Math.random()-.5)*t.width,(Math.random()-.5)*15,(Math.random()-.5)*5],children:[T.jsx("octahedronGeometry",{args:[Math.random()*.3]}),T.jsx("meshStandardMaterial",{color:Xy[Math.floor(Math.random()*Xy.length)],wireframe:Math.random()>.5,transparent:!0,opacity:.5})]})},n))})}function yfe({headline:t,subhead:e}){const{stage:n,setStage:r}=rC();return T.jsxs("section",{className:"relative w-full h-[100dvh] overflow-hidden bg-transparent flex items-center justify-center",children:[T.jsx(Su.div,{className:"absolute inset-0 z-0 pointer-events-none pt-0",initial:{opacity:0},animate:{opacity:n==="idle"?0:1},transition:{duration:1.5},children:T.jsxs(EV,{camera:{position:[0,0,12],fov:45},dpr:[1,1.5],onCreated:()=>{setTimeout(()=>r("rain"),100),setTimeout(()=>r("text"),1600)},children:[T.jsx("ambientLight",{intensity:.2}),T.jsx(gfe,{}),T.jsx("fog",{attach:"fog",args:["#020617",5,25]}),T.jsx(Kde,{preset:"night"})]})}),T.jsx("div",{className:"container relative z-10 mx-auto px-6 pt-20",children:T.jsxs(Su.div,{className:"max-w-4xl mx-auto flex flex-col gap-4 items-center text-center",initial:{opacity:0,y:20},animate:{opacity:n==="text"||n==="navbar"||n==="complete"?1:0,y:n==="text"||n==="navbar"||n==="complete"?0:20},transition:{duration:.8,ease:"easeOut"},onAnimationComplete:()=>{n==="text"&&r("navbar")},children:[T.jsxs("div",{className:"animate-in fade-in zoom-in duration-1000 inline-flex items-center gap-2 rounded-full border border-primary/40 bg-background/30 px-4 py-1 backdrop-blur-md",children:[T.jsxs("span",{className:"relative flex h-2 w-2",children:[T.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),T.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]}),T.jsx("span",{className:"text-sm font-medium tracking-wide text-foreground/90",children:"Accepting Bookings for 2025"})]}),T.jsx("h1",{className:"font-heading text-7xl md:text-8xl lg:text-9xl font-black tracking-tighter text-foreground leading-[0.9] drop-shadow-2xl",children:t}),T.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground/80 max-w-2xl leading-relaxed font-light",children:e}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 pt-2 w-full sm:w-auto",children:[T.jsx(Xi,{size:"lg",className:"h-14 px-10 text-lg rounded-full shadow-[0_0_30px_-5px_var(--primary)] hover:shadow-[0_0_50px_-10px_var(--primary)] transition-all duration-500",asChild:!0,children:T.jsx(Mr,{to:"/portfolio",children:"View Portfolio"})}),T.jsx(Xi,{size:"lg",variant:"outline",className:"h-14 px-10 text-lg rounded-full bg-transparent border-foreground/20 hover:bg-foreground/5 backdrop-blur-sm",asChild:!0,children:T.jsx(Mr,{to:"/contact",children:"Get in Touch"})})]})]})}),T.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-background to-transparent pointer-events-none"})]})}function zp({className:t,...e}){return T.jsx("div",{className:Ht("animate-pulse rounded-md bg-muted",t),...e})}const bb=768;function YV(){const[t,e]=E.useState(void 0);return E.useEffect(()=>{const n=window.matchMedia(`(max-width: ${bb-1}px)`),r=()=>{e(window.innerWidth<bb)};return n.addEventListener("change",r),e(window.innerWidth<bb),()=>n.removeEventListener("change",r)},[]),!!t}const _fe={Camera:uC,Video:v$,Radio:a$,Wand:x$,User:g$};function wfe(){const{data:t,isLoading:e}=Vte();return e?T.jsx(bfe,{}):T.jsxs("section",{className:"py-24 bg-transparent relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-transparent via-primary/50 to-transparent opacity-50"}),T.jsxs("div",{className:"container px-6 mx-auto",children:[T.jsxs("div",{className:"mb-16 md:text-center max-w-3xl mx-auto",children:[T.jsx("span",{className:"text-primary font-bold tracking-widest text-xs uppercase mb-2 block",children:"What We Do"}),T.jsx("h2",{className:"text-3xl md:text-5xl font-heading font-black mb-4",children:"Core Services"}),T.jsx("p",{className:"text-muted-foreground text-lg font-light",children:"We deliver beautiful, reliable, and emotionally resonant visual stories."})]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t==null?void 0:t.map(n=>T.jsx(Sfe,{service:n},n.id))})]})]})}function Sfe({service:t}){const e=_fe[t.iconName]||uC,n=E.useRef(null),r=YV(),[i,s]=E.useState(!1),o=JB(n,{margin:"-20% 0px -20% 0px",amount:.5}),a=r?o:i;return T.jsx("div",{ref:n,className:"h-full",children:T.jsxs(Mr,{to:`/services#${t.slug}`,className:"relative h-[400px] w-full block overflow-hidden rounded-2xl border border-border/20 bg-card",onMouseEnter:()=>!r&&s(!0),onMouseLeave:()=>!r&&s(!1),children:[T.jsxs("div",{className:"absolute inset-0 z-0",children:[T.jsx("img",{src:t.imageUrl,alt:t.title,className:Ht("h-full w-full object-cover transition-all duration-700 ease-out will-change-transform",a?"grayscale-0 blur-0 scale-110 opacity-100":"grayscale blur-[2px] scale-100 opacity-60")}),T.jsx("div",{className:Ht("absolute inset-0 bg-gradient-to-t from-background via-background/80 to-transparent transition-opacity duration-500",a?"opacity-60":"opacity-90")}),T.jsx("div",{className:Ht("absolute inset-0 bg-primary/20 mix-blend-overlay transition-opacity duration-500",a?"opacity-100":"opacity-0")})]}),T.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-end p-8",children:[T.jsx("div",{className:Ht("mb-auto transform transition-transform duration-500",a?"-translate-y-2":"translate-y-0"),children:T.jsx("div",{className:Ht("w-12 h-12 rounded-lg backdrop-blur-md border flex items-center justify-center transition-colors duration-300",a?"bg-primary text-white border-primary":"bg-background/10 text-primary-foreground border-white/10"),children:T.jsx(e,{size:24})})}),T.jsxs("div",{className:Ht("transform transition-transform duration-500",a?"translate-y-0":"translate-y-4"),children:[T.jsx("h3",{className:Ht("text-2xl font-heading font-bold mb-2 transition-colors",a?"text-white":"text-foreground"),children:t.title}),T.jsx("p",{className:Ht("text-sm leading-relaxed mb-6 line-clamp-2 transition-colors",a?"text-white/90":"text-muted-foreground"),children:t.shortDescription}),T.jsxs("div",{className:Ht("flex items-center gap-2 text-sm font-bold text-primary transition-all duration-500 delay-100",a?"opacity-100 translate-y-0":"opacity-0 translate-y-4"),children:[T.jsx("span",{className:"uppercase tracking-widest",children:"Explore"}),T.jsx(cC,{className:"w-4 h-4"})]})]})]})]})})}function bfe(){return T.jsxs("section",{className:"py-24 container px-6",children:[T.jsx(zp,{className:"h-12 w-1/3 mb-4 mx-auto"}),T.jsx(zp,{className:"h-6 w-1/2 mb-16 mx-auto"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(t=>T.jsx(zp,{className:"h-[400px] w-full rounded-2xl"},t))})]})}function Mfe(){const{data:t}=Hte(),e=(t==null?void 0:t.slice(0,4))||[];return T.jsx("section",{className:"py-24 bg-transparent relative",children:T.jsxs("div",{className:"container px-6 mx-auto",children:[T.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start mb-12 gap-6",children:[T.jsxs("div",{children:[T.jsx("span",{className:"text-primary font-bold tracking-widest text-sm uppercase mb-2 block",children:"Selected Works"}),T.jsx("h2",{className:"text-3xl md:text-5xl font-heading font-black leading-tight",children:"Captured Moments"})]}),T.jsx(Xi,{variant:"outline",asChild:!0,children:T.jsx(Mr,{to:"/portfolio",children:"View Full Gallery"})})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 md:gap-6 auto-rows-[300px]",children:[T.jsx("div",{className:"md:col-span-8 row-span-2 relative group overflow-hidden rounded-xl",children:T.jsx(Mb,{item:e[0],priority:!0})}),T.jsx("div",{className:"md:col-span-4 row-span-1 relative group overflow-hidden rounded-xl",children:T.jsx(Mb,{item:e[1]})}),T.jsx("div",{className:"md:col-span-4 row-span-1 relative group overflow-hidden rounded-xl",children:T.jsx(Mb,{item:e[2]})})]}),T.jsx("div",{className:"mt-8 md:hidden text-center",children:T.jsx(Xi,{variant:"ghost",asChild:!0,children:T.jsx(Mr,{to:"/portfolio",children:"View All Projects "})})})]})})}function Mb({item:t,priority:e=!1}){return t?T.jsx(Mr,{to:"/portfolio",className:"block w-full h-full",children:T.jsxs("div",{className:"w-full h-full relative bg-card",children:[T.jsx("img",{src:t.coverImage,alt:t.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105 opacity-90 group-hover:opacity-100",loading:e?"eager":"lazy"}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-80 group-hover:opacity-60 transition-opacity"}),T.jsxs("div",{className:"absolute bottom-0 left-0 p-6 md:p-8 transform translate-y-2 group-hover:translate-y-0 transition-transform duration-300",children:[T.jsx("span",{className:"text-primary text-xs font-bold uppercase tracking-wider mb-2 block",children:t.category}),T.jsx("h3",{className:Ht("font-heading font-bold text-white",e?"text-3xl md:text-4xl":"text-xl md:text-2xl"),children:t.title}),T.jsx("p",{className:"text-gray-300 text-sm mt-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-100",children:t.clientName})]}),t.mediaType==="video"&&T.jsx("div",{className:"absolute top-4 right-4 text-white/80 group-hover:text-primary transition-colors",children:T.jsx(qX,{size:e?48:32})})]})}):null}const Efe={MessageSquare:o$,Camera:uC,Edit3:c$,DownloadCloud:QX,CalendarCheck:GX,Package:xU};function Tfe(){const{data:t,isLoading:e}=jte();return e?null:T.jsx("section",{className:"py-24 relative overflow-hidden bg-secondary/20",children:T.jsxs("div",{className:"container px-6 mx-auto",children:[T.jsxs("div",{className:"mb-16 md:text-center max-w-3xl mx-auto",children:[T.jsx("span",{className:"text-primary font-bold tracking-widest text-xs uppercase mb-2 block",children:"The Journey"}),T.jsx("h2",{className:"text-3xl md:text-5xl font-heading font-black mb-4",children:"How We Work"}),T.jsx("p",{className:"text-muted-foreground text-lg font-light",children:"From the first hello to the final delivery, we make the process seamless and transparent."})]}),T.jsxs("div",{className:"relative grid grid-cols-1 md:grid-cols-4 gap-8",children:[T.jsx("div",{className:"hidden md:block absolute top-12 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-primary/30 to-transparent -z-10"}),t==null?void 0:t.map((n,r)=>{const i=Efe[n.iconName]||xU;return T.jsxs(Su.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:r*.1},className:"relative flex flex-col items-center text-center group",children:[T.jsxs("div",{className:"w-24 h-24 rounded-full bg-background border-4 border-secondary flex items-center justify-center mb-6 relative z-10 transition-transform duration-300 group-hover:scale-110 group-hover:border-primary/50 shadow-lg",children:[T.jsx(i,{className:"w-10 h-10 text-primary"}),T.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold text-sm border-2 border-background",children:n.stepNumber})]}),T.jsx("h3",{className:"text-xl font-heading font-bold mb-3 group-hover:text-primary transition-colors",children:n.title}),T.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed max-w-[250px]",children:n.description})]},n.id)})]})]})})}function Cfe(t){return Object.prototype.toString.call(t)==="[object Object]"}function BL(t){return Cfe(t)||Array.isArray(t)}function Afe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function n3(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),s=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==s?!1:n.every(o=>{const a=t[o],l=e[o];return typeof a=="function"?`${a}`==`${l}`:!BL(a)||!BL(l)?a===l:n3(a,l)})}function zL(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function Rfe(t,e){if(t.length!==e.length)return!1;const n=zL(t),r=zL(e);return n.every((i,s)=>{const o=r[s];return n3(i,o)})}function r3(t){return typeof t=="number"}function $E(t){return typeof t=="string"}function c1(t){return typeof t=="boolean"}function VL(t){return Object.prototype.toString.call(t)==="[object Object]"}function tr(t){return Math.abs(t)}function i3(t){return Math.sign(t)}function Vp(t,e){return tr(t-e)}function Pfe(t,e){if(t===0||e===0||tr(t)<=tr(e))return 0;const n=Vp(tr(t),tr(e));return tr(n/t)}function Ife(t){return Math.round(t*100)/100}function Lm(t){return Om(t).map(Number)}function uo(t){return t[Sg(t)]}function Sg(t){return Math.max(0,t.length-1)}function s3(t,e){return e===Sg(t)}function HL(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function Om(t){return Object.keys(t)}function qV(t,e){return[t,e].reduce((n,r)=>(Om(r).forEach(i=>{const s=n[i],o=r[i],a=VL(s)&&VL(o);n[i]=a?qV(s,o):o}),n),{})}function YE(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function Nfe(t,e){const n={start:r,center:i,end:s};function r(){return 0}function i(l){return s(l)/2}function s(l){return e-l}function o(l,c){return $E(t)?n[t](l):t(e,l,c)}return{measure:o}}function Fm(){let t=[];function e(i,s,o,a={passive:!0}){let l;if("addEventListener"in i)i.addEventListener(s,o,a),l=()=>i.removeEventListener(s,o,a);else{const c=i;c.addListener(o),l=()=>c.removeListener(o)}return t.push(l),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function Dfe(t,e,n,r){const i=Fm(),s=1e3/60;let o=null,a=0,l=0;function c(){i.add(t,"visibilitychange",()=>{t.hidden&&v()})}function u(){m(),i.clear()}function d(y){if(!l)return;o||(o=y,n(),n());const g=y-o;for(o=y,a+=g;a>=s;)n(),a-=s;const _=a/s;r(_),l&&(l=e.requestAnimationFrame(d))}function p(){l||(l=e.requestAnimationFrame(d))}function m(){e.cancelAnimationFrame(l),o=null,a=0,l=0}function v(){o=null,a=0}return{init:c,destroy:u,start:p,stop:m,update:n,render:r}}function Lfe(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",s=r?"x":"y",o=!r&&n?-1:1,a=u(),l=d();function c(v){const{height:x,width:y}=v;return r?x:y}function u(){return r?"top":n?"right":"left"}function d(){return r?"bottom":n?"left":"right"}function p(v){return v*o}return{scroll:i,cross:s,startEdge:a,endEdge:l,measureSize:c,direction:p}}function Cu(t=0,e=0){const n=tr(t-e);function r(c){return c<t}function i(c){return c>e}function s(c){return r(c)||i(c)}function o(c){return s(c)?r(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:o,reachedAny:s,reachedMax:i,reachedMin:r,removeOffset:a}}function KV(t,e,n){const{constrain:r}=Cu(0,t),i=t+1;let s=o(e);function o(p){return n?tr((i+p)%i):r(p)}function a(){return s}function l(p){return s=o(p),d}function c(p){return u().set(a()+p)}function u(){return KV(t,a(),n)}const d={get:a,set:l,add:c,clone:u};return d}function Ofe(t,e,n,r,i,s,o,a,l,c,u,d,p,m,v,x,y,g,_){const{cross:S,direction:M}=t,A=["INPUT","SELECT","TEXTAREA"],R={passive:!1},C=Fm(),D=Fm(),N=Cu(50,225).constrain(m.measure(20)),I={mouse:300,touch:400},F={mouse:500,touch:600},V=v?43:25;let Y=!1,G=0,ee=0,Q=!1,ie=!1,z=!1,H=!1;function $(Be){if(!_)return;function Ye(j){(c1(_)||_(Be,j))&&ae(j)}const Te=e;C.add(Te,"dragstart",j=>j.preventDefault(),R).add(Te,"touchmove",()=>{},R).add(Te,"touchend",()=>{}).add(Te,"touchstart",Ye).add(Te,"mousedown",Ye).add(Te,"touchcancel",je).add(Te,"contextmenu",je).add(Te,"click",ct,!0)}function oe(){C.clear(),D.clear()}function pe(){const Be=H?n:e;D.add(Be,"touchmove",fe,R).add(Be,"touchend",je).add(Be,"mousemove",fe,R).add(Be,"mouseup",je)}function Me(Be){const Ye=Be.nodeName||"";return A.includes(Ye)}function Ue(){return(v?F:I)[H?"mouse":"touch"]}function at(Be,Ye){const Te=d.add(i3(Be)*-1),j=u.byDistance(Be,!v).distance;return v||tr(Be)<N?j:y&&Ye?j*.5:u.byIndex(Te.get(),0).distance}function ae(Be){const Ye=YE(Be,r);H=Ye,z=v&&Ye&&!Be.buttons&&Y,Y=Vp(i.get(),o.get())>=2,!(Ye&&Be.button!==0)&&(Me(Be.target)||(Q=!0,s.pointerDown(Be),c.useFriction(0).useDuration(0),i.set(o),pe(),G=s.readPoint(Be),ee=s.readPoint(Be,S),p.emit("pointerDown")))}function fe(Be){if(!YE(Be,r)&&Be.touches.length>=2)return je(Be);const Te=s.readPoint(Be),j=s.readPoint(Be,S),Ae=Vp(Te,G),Ve=Vp(j,ee);if(!ie&&!H&&(!Be.cancelable||(ie=Ae>Ve,!ie)))return je(Be);const qe=s.pointerMove(Be);Ae>x&&(z=!0),c.useFriction(.3).useDuration(.75),a.start(),i.add(M(qe)),Be.preventDefault()}function je(Be){const Te=u.byDistance(0,!1).index!==d.get(),j=s.pointerUp(Be)*Ue(),Ae=at(M(j),Te),Ve=Pfe(j,Ae),qe=V-10*Ve,Fe=g+Ve/50;ie=!1,Q=!1,D.clear(),c.useDuration(qe).useFriction(Fe),l.distance(Ae,!v),H=!1,p.emit("pointerUp")}function ct(Be){z&&(Be.stopPropagation(),Be.preventDefault(),z=!1)}function st(){return Q}return{init:$,destroy:oe,pointerDown:st}}function Ffe(t,e){let r,i;function s(d){return d.timeStamp}function o(d,p){const v=`client${(p||t.scroll)==="x"?"X":"Y"}`;return(YE(d,e)?d:d.touches[0])[v]}function a(d){return r=d,i=d,o(d)}function l(d){const p=o(d)-o(i),m=s(d)-s(r)>170;return i=d,m&&(r=d),p}function c(d){if(!r||!i)return 0;const p=o(i)-o(r),m=s(d)-s(r),v=s(d)-s(i)>170,x=p/m;return m&&!v&&tr(x)>.1?x:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:o}}function kfe(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:s,offsetHeight:o}=n;return{top:r,right:i+s,bottom:r+o,left:i,width:s,height:o}}return{measure:t}}function Ufe(t){function e(r){return t*(r/100)}return{measure:e}}function Bfe(t,e,n,r,i,s,o){const a=[t].concat(r);let l,c,u=[],d=!1;function p(y){return i.measureSize(o.measure(y))}function m(y){if(!s)return;c=p(t),u=r.map(p);function g(_){for(const S of _){if(d)return;const M=S.target===t,A=r.indexOf(S.target),R=M?c:u[A],C=p(M?t:r[A]);if(tr(C-R)>=.5){y.reInit(),e.emit("resize");break}}}l=new ResizeObserver(_=>{(c1(s)||s(y,_))&&g(_)}),n.requestAnimationFrame(()=>{a.forEach(_=>l.observe(_))})}function v(){d=!0,l&&l.disconnect()}return{init:m,destroy:v}}function zfe(t,e,n,r,i,s){let o=0,a=0,l=i,c=s,u=t.get(),d=0;function p(){const R=r.get()-t.get(),C=!l;let D=0;return C?(o=0,n.set(r),t.set(r),D=R):(n.set(t),o+=R/l,o*=c,u+=o,t.add(o),D=u-d),a=i3(D),d=u,A}function m(){const R=r.get()-e.get();return tr(R)<.001}function v(){return l}function x(){return a}function y(){return o}function g(){return S(i)}function _(){return M(s)}function S(R){return l=R,A}function M(R){return c=R,A}const A={direction:x,duration:v,velocity:y,seek:p,settled:m,useBaseFriction:_,useBaseDuration:g,useFriction:M,useDuration:S};return A}function Vfe(t,e,n,r,i){const s=i.measure(10),o=i.measure(50),a=Cu(.1,.99);let l=!1;function c(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function u(m){if(!c())return;const v=t.reachedMin(e.get())?"min":"max",x=tr(t[v]-e.get()),y=n.get()-e.get(),g=a.constrain(x/o);n.subtract(y*g),!m&&tr(y)<s&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function d(m){l=!m}return{shouldConstrain:c,constrain:u,toggleActive:d}}function Hfe(t,e,n,r,i){const s=Cu(-e+t,0),o=d(),a=u(),l=p();function c(v,x){return Vp(v,x)<=1}function u(){const v=o[0],x=uo(o),y=o.lastIndexOf(v),g=o.indexOf(x)+1;return Cu(y,g)}function d(){return n.map((v,x)=>{const{min:y,max:g}=s,_=s.constrain(v),S=!x,M=s3(n,x);return S?g:M||c(y,_)?y:c(g,_)?g:_}).map(v=>parseFloat(v.toFixed(3)))}function p(){if(e<=t+i)return[s.max];if(r==="keepSnaps")return o;const{min:v,max:x}=a;return o.slice(v,x)}return{snapsContained:l,scrollContainLimit:a}}function jfe(t,e,n){const r=e[0],i=n?r-t:uo(e);return{limit:Cu(i,r)}}function Gfe(t,e,n,r){const s=e.min+.1,o=e.max+.1,{reachedMin:a,reachedMax:l}=Cu(s,o);function c(p){return p===1?l(n.get()):p===-1?a(n.get()):!1}function u(p){if(!c(p))return;const m=t*(p*-1);r.forEach(v=>v.add(m))}return{loop:u}}function Wfe(t){const{max:e,length:n}=t;function r(s){const o=s-e;return n?o/-n:0}return{get:r}}function Xfe(t,e,n,r,i){const{startEdge:s,endEdge:o}=t,{groupSlides:a}=i,l=d().map(e.measure),c=p(),u=m();function d(){return a(r).map(x=>uo(x)[o]-x[0][s]).map(tr)}function p(){return r.map(x=>n[s]-x[s]).map(x=>-tr(x))}function m(){return a(c).map(x=>x[0]).map((x,y)=>x+l[y])}return{snaps:c,snapsAligned:u}}function $fe(t,e,n,r,i,s){const{groupSlides:o}=i,{min:a,max:l}=r,c=u();function u(){const p=o(s),m=!t||e==="keepSnaps";return n.length===1?[s]:m?p:p.slice(a,l).map((v,x,y)=>{const g=!x,_=s3(y,x);if(g){const S=uo(y[0])+1;return HL(S)}if(_){const S=Sg(s)-uo(y)[0]+1;return HL(S,uo(y)[0])}return v})}return{slideRegistry:c}}function Yfe(t,e,n,r,i){const{reachedAny:s,removeOffset:o,constrain:a}=r;function l(v){return v.concat().sort((x,y)=>tr(x)-tr(y))[0]}function c(v){const x=t?o(v):a(v),y=e.map((_,S)=>({diff:u(_-x,0),index:S})).sort((_,S)=>tr(_.diff)-tr(S.diff)),{index:g}=y[0];return{index:g,distance:x}}function u(v,x){const y=[v,v+n,v-n];if(!t)return v;if(!x)return l(y);const g=y.filter(_=>i3(_)===x);return g.length?l(g):uo(y)-n}function d(v,x){const y=e[v]-i.get(),g=u(y,x);return{index:v,distance:g}}function p(v,x){const y=i.get()+v,{index:g,distance:_}=c(y),S=!t&&s(y);if(!x||S)return{index:g,distance:v};const M=e[g]-_,A=v+u(M,0);return{index:g,distance:A}}return{byDistance:p,byIndex:d,shortcut:u}}function qfe(t,e,n,r,i,s,o){function a(d){const p=d.distance,m=d.index!==e.get();s.add(p),p&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),m&&(n.set(e.get()),e.set(d.index),o.emit("select"))}function l(d,p){const m=i.byDistance(d,p);a(m)}function c(d,p){const m=e.clone().set(d),v=i.byIndex(m.get(),p);a(v)}return{distance:l,index:c}}function Kfe(t,e,n,r,i,s,o,a){const l={passive:!0,capture:!0};let c=0;function u(m){if(!a)return;function v(x){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const _=n.findIndex(S=>S.includes(x));r3(_)&&(i.useDuration(0),r.index(_,0),o.emit("slideFocus"))}s.add(document,"keydown",d,!1),e.forEach((x,y)=>{s.add(x,"focus",g=>{(c1(a)||a(m,g))&&v(y)},l)})}function d(m){m.code==="Tab"&&(c=new Date().getTime())}return{init:u}}function pp(t){let e=t;function n(){return e}function r(l){e=o(l)}function i(l){e+=o(l)}function s(l){e-=o(l)}function o(l){return r3(l)?l:l.get()}return{get:n,set:r,add:i,subtract:s}}function ZV(t,e){const n=t.scroll==="x"?o:a,r=e.style;let i=null,s=!1;function o(p){return`translate3d(${p}px,0px,0px)`}function a(p){return`translate3d(0px,${p}px,0px)`}function l(p){if(s)return;const m=Ife(t.direction(p));m!==i&&(r.transform=n(m),i=m)}function c(p){s=!p}function u(){s||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:u,to:l,toggleActive:c}}function Zfe(t,e,n,r,i,s,o,a,l){const u=Lm(i),d=Lm(i).reverse(),p=g().concat(_());function m(C,D){return C.reduce((N,I)=>N-i[I],D)}function v(C,D){return C.reduce((N,I)=>m(N,D)>0?N.concat([I]):N,[])}function x(C){return s.map((D,N)=>({start:D-r[N]+.5+C,end:D+e-.5+C}))}function y(C,D,N){const I=x(D);return C.map(F=>{const V=N?0:-n,Y=N?n:0,G=N?"end":"start",ee=I[F][G];return{index:F,loopPoint:ee,slideLocation:pp(-1),translate:ZV(t,l[F]),target:()=>a.get()>ee?V:Y}})}function g(){const C=o[0],D=v(d,C);return y(D,n,!1)}function _(){const C=e-o[0]-1,D=v(u,C);return y(D,-n,!0)}function S(){return p.every(({index:C})=>{const D=u.filter(N=>N!==C);return m(D,e)<=.1})}function M(){p.forEach(C=>{const{target:D,translate:N,slideLocation:I}=C,F=D();F!==I.get()&&(N.to(F),I.set(F))})}function A(){p.forEach(C=>C.translate.clear())}return{canLoop:S,clear:A,loop:M,loopPoints:p}}function Qfe(t,e,n){let r,i=!1;function s(l){if(!n)return;function c(u){for(const d of u)if(d.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(u=>{i||(c1(n)||n(l,u))&&c(u)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),i=!0}return{init:s,destroy:o}}function Jfe(t,e,n,r){const i={};let s=null,o=null,a,l=!1;function c(){a=new IntersectionObserver(v=>{l||(v.forEach(x=>{const y=e.indexOf(x.target);i[y]=x}),s=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(v=>a.observe(v))}function u(){a&&a.disconnect(),l=!0}function d(v){return Om(i).reduce((x,y)=>{const g=parseInt(y),{isIntersecting:_}=i[g];return(v&&_||!v&&!_)&&x.push(g),x},[])}function p(v=!0){if(v&&s)return s;if(!v&&o)return o;const x=d(v);return v&&(s=x),v||(o=x),x}return{init:c,destroy:u,get:p}}function ehe(t,e,n,r,i,s){const{measureSize:o,startEdge:a,endEdge:l}=t,c=n[0]&&i,u=v(),d=x(),p=n.map(o),m=y();function v(){if(!c)return 0;const _=n[0];return tr(e[a]-_[a])}function x(){if(!c)return 0;const _=s.getComputedStyle(uo(r));return parseFloat(_.getPropertyValue(`margin-${l}`))}function y(){return n.map((_,S,M)=>{const A=!S,R=s3(M,S);return A?p[S]+u:R?p[S]+d:M[S+1][a]-_[a]}).map(tr)}return{slideSizes:p,slideSizesWithGaps:m,startGap:u,endGap:d}}function the(t,e,n,r,i,s,o,a,l){const{startEdge:c,endEdge:u,direction:d}=t,p=r3(n);function m(g,_){return Lm(g).filter(S=>S%_===0).map(S=>g.slice(S,S+_))}function v(g){return g.length?Lm(g).reduce((_,S,M)=>{const A=uo(_)||0,R=A===0,C=S===Sg(g),D=i[c]-s[A][c],N=i[c]-s[S][u],I=!r&&R?d(o):0,F=!r&&C?d(a):0,V=tr(N-F-(D+I));return M&&V>e+l&&_.push(S),C&&_.push(g.length),_},[]).map((_,S,M)=>{const A=Math.max(M[S-1]||0);return g.slice(A,_)}):[]}function x(g){return p?m(g,n):v(g)}return{groupSlides:x}}function nhe(t,e,n,r,i,s,o){const{align:a,axis:l,direction:c,startIndex:u,loop:d,duration:p,dragFree:m,dragThreshold:v,inViewThreshold:x,slidesToScroll:y,skipSnaps:g,containScroll:_,watchResize:S,watchSlides:M,watchDrag:A,watchFocus:R}=s,C=2,D=kfe(),N=D.measure(e),I=n.map(D.measure),F=Lfe(l,c),V=F.measureSize(N),Y=Ufe(V),G=Nfe(a,V),ee=!d&&!!_,Q=d||!!_,{slideSizes:ie,slideSizesWithGaps:z,startGap:H,endGap:$}=ehe(F,N,I,n,Q,i),oe=the(F,V,y,d,N,I,H,$,C),{snaps:pe,snapsAligned:Me}=Xfe(F,G,N,I,oe),Ue=-uo(pe)+uo(z),{snapsContained:at,scrollContainLimit:ae}=Hfe(V,Ue,Me,_,C),fe=ee?at:Me,{limit:je}=jfe(Ue,fe,d),ct=KV(Sg(fe),u,d),st=ct.clone(),ut=Lm(n),Be=({dragHandler:tt,scrollBody:Rt,scrollBounds:wt,options:{loop:Pe}})=>{Pe||wt.constrain(tt.pointerDown()),Rt.seek()},Ye=({scrollBody:tt,translate:Rt,location:wt,offsetLocation:Pe,previousLocation:He,scrollLooper:Bt,slideLooper:Tt,dragHandler:lt,animation:St,eventHandler:ne,scrollBounds:ye,options:{loop:Je}},nt)=>{const Ge=tt.settled(),Le=!ye.shouldConstrain(),ke=Je?Ge:Ge&&Le,mt=ke&&!lt.pointerDown();mt&&St.stop();const Ut=wt.get()*nt+He.get()*(1-nt);Pe.set(Ut),Je&&(Bt.loop(tt.direction()),Tt.loop()),Rt.to(Pe.get()),mt&&ne.emit("settle"),ke||ne.emit("scroll")},Te=Dfe(r,i,()=>Be(gt),tt=>Ye(gt,tt)),j=.68,Ae=fe[ct.get()],Ve=pp(Ae),qe=pp(Ae),Fe=pp(Ae),pt=pp(Ae),et=zfe(Ve,Fe,qe,pt,p,j),vt=Yfe(d,fe,Ue,je,pt),W=qfe(Te,ct,st,et,vt,pt,o),U=Wfe(je),de=Fm(),be=Jfe(e,n,o,x),{slideRegistry:Ne}=$fe(ee,_,fe,ae,oe,ut),we=Kfe(t,n,Ne,W,et,de,o,R),gt={ownerDocument:r,ownerWindow:i,eventHandler:o,containerRect:N,slideRects:I,animation:Te,axis:F,dragHandler:Ofe(F,t,r,i,pt,Ffe(F,i),Ve,Te,W,et,vt,ct,o,Y,m,v,g,j,A),eventStore:de,percentOfView:Y,index:ct,indexPrevious:st,limit:je,location:Ve,offsetLocation:Fe,previousLocation:qe,options:s,resizeHandler:Bfe(e,o,i,n,F,S,D),scrollBody:et,scrollBounds:Vfe(je,Fe,pt,et,Y),scrollLooper:Gfe(Ue,je,Fe,[Ve,Fe,qe,pt]),scrollProgress:U,scrollSnapList:fe.map(U.get),scrollSnaps:fe,scrollTarget:vt,scrollTo:W,slideLooper:Zfe(F,V,Ue,ie,z,pe,fe,Fe,n),slideFocus:we,slidesHandler:Qfe(e,o,M),slidesInView:be,slideIndexes:ut,slideRegistry:Ne,slidesToScroll:oe,target:pt,translate:ZV(F,e)};return gt}function rhe(){let t={},e;function n(c){e=c}function r(c){return t[c]||[]}function i(c){return r(c).forEach(u=>u(e,c)),l}function s(c,u){return t[c]=r(c).concat([u]),l}function o(c,u){return t[c]=r(c).filter(d=>d!==u),l}function a(){t={}}const l={init:n,emit:i,off:o,on:s,clear:a};return l}const ihe={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function she(t){function e(s,o){return qV(s,o||{})}function n(s){const o=s.breakpoints||{},a=Om(o).filter(l=>t.matchMedia(l).matches).map(l=>o[l]).reduce((l,c)=>e(l,c),{});return e(s,a)}function r(s){return s.map(o=>Om(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function ohe(t){let e=[];function n(s,o){return e=o.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(s,t)),o.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(s=>s.destroy())}return{init:n,destroy:r}}function $y(t,e,n){const r=t.ownerDocument,i=r.defaultView,s=she(i),o=ohe(s),a=Fm(),l=rhe(),{mergeOptions:c,optionsAtMedia:u,optionsMediaQueries:d}=s,{on:p,off:m,emit:v}=l,x=F;let y=!1,g,_=c(ihe,$y.globalOptions),S=c(_),M=[],A,R,C;function D(){const{container:ut,slides:Be}=S;R=($E(ut)?t.querySelector(ut):ut)||t.children[0];const Te=$E(Be)?R.querySelectorAll(Be):Be;C=[].slice.call(Te||R.children)}function N(ut){const Be=nhe(t,R,C,r,i,ut,l);if(ut.loop&&!Be.slideLooper.canLoop()){const Ye=Object.assign({},ut,{loop:!1});return N(Ye)}return Be}function I(ut,Be){y||(_=c(_,ut),S=u(_),M=Be||M,D(),g=N(S),d([_,...M.map(({options:Ye})=>Ye)]).forEach(Ye=>a.add(Ye,"change",F)),S.active&&(g.translate.to(g.location.get()),g.animation.init(),g.slidesInView.init(),g.slideFocus.init(st),g.eventHandler.init(st),g.resizeHandler.init(st),g.slidesHandler.init(st),g.options.loop&&g.slideLooper.loop(),R.offsetParent&&C.length&&g.dragHandler.init(st),A=o.init(st,M)))}function F(ut,Be){const Ye=oe();V(),I(c({startIndex:Ye},ut),Be),l.emit("reInit")}function V(){g.dragHandler.destroy(),g.eventStore.clear(),g.translate.clear(),g.slideLooper.clear(),g.resizeHandler.destroy(),g.slidesHandler.destroy(),g.slidesInView.destroy(),g.animation.destroy(),o.destroy(),a.clear()}function Y(){y||(y=!0,a.clear(),V(),l.emit("destroy"),l.clear())}function G(ut,Be,Ye){!S.active||y||(g.scrollBody.useBaseFriction().useDuration(Be===!0?0:S.duration),g.scrollTo.index(ut,Ye||0))}function ee(ut){const Be=g.index.add(1).get();G(Be,ut,-1)}function Q(ut){const Be=g.index.add(-1).get();G(Be,ut,1)}function ie(){return g.index.add(1).get()!==oe()}function z(){return g.index.add(-1).get()!==oe()}function H(){return g.scrollSnapList}function $(){return g.scrollProgress.get(g.offsetLocation.get())}function oe(){return g.index.get()}function pe(){return g.indexPrevious.get()}function Me(){return g.slidesInView.get()}function Ue(){return g.slidesInView.get(!1)}function at(){return A}function ae(){return g}function fe(){return t}function je(){return R}function ct(){return C}const st={canScrollNext:ie,canScrollPrev:z,containerNode:je,internalEngine:ae,destroy:Y,off:m,on:p,emit:v,plugins:at,previousScrollSnap:pe,reInit:x,rootNode:fe,scrollNext:ee,scrollPrev:Q,scrollProgress:$,scrollSnapList:H,scrollTo:G,selectedScrollSnap:oe,slideNodes:ct,slidesInView:Me,slidesNotInView:Ue};return I(e,n),setTimeout(()=>l.emit("init"),0),st}$y.globalOptions=void 0;function o3(t={},e=[]){const n=E.useRef(t),r=E.useRef(e),[i,s]=E.useState(),[o,a]=E.useState(),l=E.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return E.useEffect(()=>{n3(n.current,t)||(n.current=t,l())},[t,l]),E.useEffect(()=>{Rfe(r.current,e)||(r.current=e,l())},[e,l]),E.useEffect(()=>{if(Afe()&&o){$y.globalOptions=o3.globalOptions;const c=$y(o,n.current,r.current);return s(c),()=>c.destroy()}else s(void 0)},[o,s]),[a,i]}o3.globalOptions=void 0;const QV=E.createContext(null);function u1(){const t=E.useContext(QV);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const a3=E.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:i,children:s,...o},a)=>{const[l,c]=o3({...e,axis:t==="horizontal"?"x":"y"},r),[u,d]=E.useState(!1),[p,m]=E.useState(!1),v=E.useCallback(_=>{_&&(d(_.canScrollPrev()),m(_.canScrollNext()))},[]),x=E.useCallback(()=>{c==null||c.scrollPrev()},[c]),y=E.useCallback(()=>{c==null||c.scrollNext()},[c]),g=E.useCallback(_=>{_.key==="ArrowLeft"?(_.preventDefault(),x()):_.key==="ArrowRight"&&(_.preventDefault(),y())},[x,y]);return E.useEffect(()=>{!c||!n||n(c)},[c,n]),E.useEffect(()=>{if(c)return v(c),c.on("reInit",v),c.on("select",v),()=>{c==null||c.off("select",v)}},[c,v]),T.jsx(QV.Provider,{value:{carouselRef:l,api:c,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:x,scrollNext:y,canScrollPrev:u,canScrollNext:p},children:T.jsx("div",{ref:a,onKeyDownCapture:g,className:Ht("relative",i),role:"region","aria-roledescription":"carousel",...o,children:s})})});a3.displayName="Carousel";const l3=E.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:i}=u1();return T.jsx("div",{ref:r,className:"overflow-hidden",children:T.jsx("div",{ref:n,className:Ht("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});l3.displayName="CarouselContent";const c3=E.forwardRef(({className:t,...e},n)=>{const{orientation:r}=u1();return T.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:Ht("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});c3.displayName="CarouselItem";const u3=E.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:s,scrollPrev:o,canScrollPrev:a}=u1();return T.jsxs(Xi,{ref:i,variant:e,size:n,className:Ht("absolute h-8 w-8 rounded-full",s==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...r,children:[T.jsx(jX,{className:"h-4 w-4"}),T.jsx("span",{className:"sr-only",children:"Previous slide"})]})});u3.displayName="CarouselPrevious";const d3=E.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:s,scrollNext:o,canScrollNext:a}=u1();return T.jsxs(Xi,{ref:i,variant:e,size:n,className:Ht("absolute h-8 w-8 rounded-full",s==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...r,children:[T.jsx(cC,{className:"h-4 w-4"}),T.jsx("span",{className:"sr-only",children:"Next slide"})]})});d3.displayName="CarouselNext";const f3=E.forwardRef(({className:t,...e},n)=>T.jsx("div",{ref:n,className:Ht("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));f3.displayName="Card";const ahe=E.forwardRef(({className:t,...e},n)=>T.jsx("div",{ref:n,className:Ht("flex flex-col space-y-1.5 p-6",t),...e}));ahe.displayName="CardHeader";const lhe=E.forwardRef(({className:t,...e},n)=>T.jsx("h3",{ref:n,className:Ht("text-2xl font-semibold leading-none tracking-tight",t),...e}));lhe.displayName="CardTitle";const che=E.forwardRef(({className:t,...e},n)=>T.jsx("p",{ref:n,className:Ht("text-sm text-muted-foreground",t),...e}));che.displayName="CardDescription";const h3=E.forwardRef(({className:t,...e},n)=>T.jsx("div",{ref:n,className:Ht("p-6 pt-0",t),...e}));h3.displayName="CardContent";const uhe=E.forwardRef(({className:t,...e},n)=>T.jsx("div",{ref:n,className:Ht("flex items-center p-6 pt-0",t),...e}));uhe.displayName="CardFooter";function dhe(t,e=[]){let n=[];function r(s,o){const a=E.createContext(o);a.displayName=s+"Context";const l=n.length;n=[...n,o];const c=d=>{var g;const{scope:p,children:m,...v}=d,x=((g=p==null?void 0:p[t])==null?void 0:g[l])||a,y=E.useMemo(()=>v,Object.values(v));return T.jsx(x.Provider,{value:y,children:m})};c.displayName=s+"Provider";function u(d,p){var x;const m=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,v=E.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>E.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return E.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,fhe(i,...e)]}function fhe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var hhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],p3=hhe.reduce((t,e)=>{const n=t3(`Primitive.${e}`),r=E.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function phe(){return ofe.useSyncExternalStore(mhe,()=>!0,()=>!1)}function mhe(){return()=>{}}var m3="Avatar",[ghe]=dhe(m3),[vhe,JV]=ghe(m3),e8=E.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=E.useState("idle");return T.jsx(vhe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:T.jsx(p3.span,{...r,ref:e})})});e8.displayName=m3;var t8="AvatarImage",n8=E.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=JV(t8,n),a=xhe(r,s),l=$i(c=>{i(c),o.onImageLoadingStatusChange(c)});return us(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?T.jsx(p3.img,{...s,ref:e,src:r}):null});n8.displayName=t8;var r8="AvatarFallback",i8=E.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=JV(r8,n),[o,a]=E.useState(r===void 0);return E.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?T.jsx(p3.span,{...i,ref:e}):null});i8.displayName=r8;function jL(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function xhe(t,{referrerPolicy:e,crossOrigin:n}){const r=phe(),i=E.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,a]=E.useState(()=>jL(s,t));return us(()=>{a(jL(s,t))},[s,t]),us(()=>{const l=d=>()=>{a(d)};if(!s)return;const c=l("loaded"),u=l("error");return s.addEventListener("load",c),s.addEventListener("error",u),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",u)}},[s,n,e]),o}var s8=e8,o8=n8,a8=i8;const l8=E.forwardRef(({className:t,...e},n)=>T.jsx(s8,{ref:n,className:Ht("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));l8.displayName=s8.displayName;const c8=E.forwardRef(({className:t,...e},n)=>T.jsx(o8,{ref:n,className:Ht("aspect-square h-full w-full",t),...e}));c8.displayName=o8.displayName;const u8=E.forwardRef(({className:t,...e},n)=>T.jsx(a8,{ref:n,className:Ht("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));u8.displayName=a8.displayName;function yhe(){const{data:t}=Gte();return T.jsx("section",{className:"py-24 bg-background relative",children:T.jsxs("div",{className:"container px-6 mx-auto",children:[T.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start mb-12 gap-6",children:T.jsxs("div",{children:[T.jsx("span",{className:"text-primary font-bold tracking-widest text-xs uppercase mb-2 block",children:"Client Love"}),T.jsxs("h2",{className:"text-3xl md:text-5xl font-heading font-black leading-tight",children:["Don't just take our",T.jsx("br",{})," word for it."]})]})}),T.jsxs(a3,{opts:{align:"start",loop:!0},className:"w-full",children:[T.jsx(l3,{className:"-ml-4",children:t==null?void 0:t.map(e=>T.jsx(c3,{className:"pl-4 md:basis-1/2 lg:basis-1/3",children:T.jsx("div",{className:"p-1 h-full",children:T.jsx(f3,{className:"h-full border-border/50 bg-secondary/10 hover:bg-secondary/20 transition-colors",children:T.jsxs(h3,{className:"flex flex-col justify-between h-full p-8",children:[T.jsxs("div",{children:[T.jsx(d$,{className:"w-10 h-10 text-primary/20 mb-6"}),T.jsx("div",{className:"flex gap-1 mb-4",children:Array.from({length:5}).map((n,r)=>T.jsx(h$,{size:16,className:r<e.rating?"fill-primary text-primary":"text-muted"},r))}),T.jsxs("p",{className:"text-lg font-light leading-relaxed mb-6 italic",children:['"',e.content,'"']})]}),T.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t border-border/10",children:[T.jsxs(l8,{children:[T.jsx(c8,{src:e.avatarUrl}),T.jsx(u8,{children:e.clientName[0]})]}),T.jsxs("div",{children:[T.jsx("p",{className:"font-bold text-sm font-heading",children:e.clientName}),T.jsx("p",{className:"text-xs text-muted-foreground",children:e.role||"Client"})]})]})]})})})},e.id))}),T.jsxs("div",{className:"flex justify-end gap-2 mt-8 mr-4",children:[T.jsx(u3,{className:"static translate-y-0 translate-x-0"}),T.jsx(d3,{className:"static translate-y-0 translate-x-0"})]})]})]})})}var d1="Collapsible",[_he,d8]=mo(d1),[whe,g3]=_he(d1),f8=E.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:o,...a}=t,[l,c]=ec({prop:r,defaultProp:i??!1,onChange:o,caller:d1});return T.jsx(whe,{scope:n,disabled:s,contentId:Ma(),open:l,onOpenToggle:E.useCallback(()=>c(u=>!u),[c]),children:T.jsx(hn.div,{"data-state":x3(l),"data-disabled":s?"":void 0,...a,ref:e})})});f8.displayName=d1;var h8="CollapsibleTrigger",p8=E.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=g3(h8,n);return T.jsx(hn.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":x3(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:zt(t.onClick,i.onOpenToggle)})});p8.displayName=h8;var v3="CollapsibleContent",m8=E.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=g3(v3,t.__scopeCollapsible);return T.jsx(Bs,{present:n||i.open,children:({present:s})=>T.jsx(She,{...r,ref:e,present:s})})});m8.displayName=v3;var She=E.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,o=g3(v3,n),[a,l]=E.useState(r),c=E.useRef(null),u=sr(e,c),d=E.useRef(0),p=d.current,m=E.useRef(0),v=m.current,x=o.open||a,y=E.useRef(x),g=E.useRef(void 0);return E.useEffect(()=>{const _=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(_)},[]),us(()=>{const _=c.current;if(_){g.current=g.current||{transitionDuration:_.style.transitionDuration,animationName:_.style.animationName},_.style.transitionDuration="0s",_.style.animationName="none";const S=_.getBoundingClientRect();d.current=S.height,m.current=S.width,y.current||(_.style.transitionDuration=g.current.transitionDuration,_.style.animationName=g.current.animationName),l(r)}},[o.open,r]),T.jsx(hn.div,{"data-state":x3(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...s,ref:u,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:x&&i})});function x3(t){return t?"open":"closed"}var bhe=f8,Mhe=p8,Ehe=m8,The=E.createContext(void 0);function f1(t){const e=E.useContext(The);return t||e||"ltr"}var vo="Accordion",Che=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[y3,Ahe,Rhe]=g_(vo),[h1]=mo(vo,[Rhe,d8]),_3=d8(),g8=Qe.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,s=r;return T.jsx(y3.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?T.jsx(Dhe,{...s,ref:e}):T.jsx(Nhe,{...i,ref:e})})});g8.displayName=vo;var[v8,Phe]=h1(vo),[x8,Ihe]=h1(vo,{collapsible:!1}),Nhe=Qe.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:s=!1,...o}=t,[a,l]=ec({prop:n,defaultProp:r??"",onChange:i,caller:vo});return T.jsx(v8,{scope:t.__scopeAccordion,value:Qe.useMemo(()=>a?[a]:[],[a]),onItemOpen:l,onItemClose:Qe.useCallback(()=>s&&l(""),[s,l]),children:T.jsx(x8,{scope:t.__scopeAccordion,collapsible:s,children:T.jsx(y8,{...o,ref:e})})})}),Dhe=Qe.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o,a]=ec({prop:n,defaultProp:r??[],onChange:i,caller:vo}),l=Qe.useCallback(u=>a((d=[])=>[...d,u]),[a]),c=Qe.useCallback(u=>a((d=[])=>d.filter(p=>p!==u)),[a]);return T.jsx(v8,{scope:t.__scopeAccordion,value:o,onItemOpen:l,onItemClose:c,children:T.jsx(x8,{scope:t.__scopeAccordion,collapsible:!0,children:T.jsx(y8,{...s,ref:e})})})}),[Lhe,p1]=h1(vo),y8=Qe.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:s="vertical",...o}=t,a=Qe.useRef(null),l=sr(a,e),c=Ahe(n),d=f1(i)==="ltr",p=zt(t.onKeyDown,m=>{var D;if(!Che.includes(m.key))return;const v=m.target,x=c().filter(N=>{var I;return!((I=N.ref.current)!=null&&I.disabled)}),y=x.findIndex(N=>N.ref.current===v),g=x.length;if(y===-1)return;m.preventDefault();let _=y;const S=0,M=g-1,A=()=>{_=y+1,_>M&&(_=S)},R=()=>{_=y-1,_<S&&(_=M)};switch(m.key){case"Home":_=S;break;case"End":_=M;break;case"ArrowRight":s==="horizontal"&&(d?A():R());break;case"ArrowDown":s==="vertical"&&A();break;case"ArrowLeft":s==="horizontal"&&(d?R():A());break;case"ArrowUp":s==="vertical"&&R();break}const C=_%g;(D=x[C].ref.current)==null||D.focus()});return T.jsx(Lhe,{scope:n,disabled:r,direction:i,orientation:s,children:T.jsx(y3.Slot,{scope:n,children:T.jsx(hn.div,{...o,"data-orientation":s,ref:l,onKeyDown:r?void 0:p})})})}),Yy="AccordionItem",[Ohe,w3]=h1(Yy),_8=Qe.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,s=p1(Yy,n),o=Phe(Yy,n),a=_3(n),l=Ma(),c=r&&o.value.includes(r)||!1,u=s.disabled||t.disabled;return T.jsx(Ohe,{scope:n,open:c,disabled:u,triggerId:l,children:T.jsx(bhe,{"data-orientation":s.orientation,"data-state":T8(c),...a,...i,ref:e,disabled:u,open:c,onOpenChange:d=>{d?o.onItemOpen(r):o.onItemClose(r)}})})});_8.displayName=Yy;var w8="AccordionHeader",S8=Qe.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=p1(vo,n),s=w3(w8,n);return T.jsx(hn.h3,{"data-orientation":i.orientation,"data-state":T8(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:e})});S8.displayName=w8;var qE="AccordionTrigger",b8=Qe.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=p1(vo,n),s=w3(qE,n),o=Ihe(qE,n),a=_3(n);return T.jsx(y3.ItemSlot,{scope:n,children:T.jsx(Mhe,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...a,...r,ref:e})})});b8.displayName=qE;var M8="AccordionContent",E8=Qe.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=p1(vo,n),s=w3(M8,n),o=_3(n);return T.jsx(Ehe,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});E8.displayName=M8;function T8(t){return t?"open":"closed"}var Fhe=g8,khe=_8,Uhe=S8,C8=b8,A8=E8;const Bhe=Fhe,R8=E.forwardRef(({className:t,...e},n)=>T.jsx(khe,{ref:n,className:Ht("border-b",t),...e}));R8.displayName="AccordionItem";const P8=E.forwardRef(({className:t,children:e,...n},r)=>T.jsx(Uhe,{className:"flex",children:T.jsxs(C8,{ref:r,className:Ht("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,T.jsx(XX,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));P8.displayName=C8.displayName;const I8=E.forwardRef(({className:t,children:e,...n},r)=>T.jsx(A8,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:T.jsx("div",{className:Ht("pb-4 pt-0",t),children:e})}));I8.displayName=A8.displayName;function zhe(){const{data:t}=Wte(),e=(t==null?void 0:t.slice(0,4))||[];return T.jsx("section",{className:"py-24 container px-6 mx-auto",children:T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[T.jsxs("div",{className:"lg:col-span-5",children:[T.jsx("span",{className:"text-primary font-bold tracking-widest text-xs uppercase mb-2 block",children:"Common Questions"}),T.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-black mb-6",children:"Everything you need to know."}),T.jsx("p",{className:"text-muted-foreground text-lg mb-8",children:"Can't find the answer you're looking for? Reach out to our support team directly."}),T.jsx(Xi,{variant:"outline",asChild:!0,children:T.jsx(Mr,{to:"/contact",children:"Contact Support"})})]}),T.jsx("div",{className:"lg:col-span-7",children:T.jsx(Bhe,{type:"single",collapsible:!0,className:"w-full",children:e.map(n=>T.jsxs(R8,{value:n.id,children:[T.jsx(P8,{className:"text-left font-heading font-semibold text-lg",children:n.question}),T.jsx(I8,{className:"text-muted-foreground leading-relaxed",children:n.answer})]},n.id))})})]})})}const Vhe={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function Hhe(t,e){const n=t.scrollSnapList();return typeof e=="number"?n.map(()=>e):e(n,t)}function jhe(t,e){const n=t.rootNode();return e&&e(n)||n}function S3(t={}){let e,n,r,i,s=null,o=0,a=!1,l=!1,c=!1,u=!1;function d(G,ee){n=G;const{mergeOptions:Q,optionsAtMedia:ie}=ee,z=Q(Vhe,S3.globalOptions),H=Q(z,t);if(e=ie(H),n.scrollSnapList().length<=1)return;u=e.jump,r=!1,i=Hhe(n,e.delay);const{eventStore:$,ownerDocument:oe}=n.internalEngine(),pe=!!n.internalEngine().options.watchDrag,Me=jhe(n,e.rootNode);$.add(oe,"visibilitychange",g),pe&&n.on("pointerDown",S),pe&&!e.stopOnInteraction&&n.on("pointerUp",M),e.stopOnMouseEnter&&$.add(Me,"mouseenter",A),e.stopOnMouseEnter&&!e.stopOnInteraction&&$.add(Me,"mouseleave",R),e.stopOnFocusIn&&n.on("slideFocusStart",y),e.stopOnFocusIn&&!e.stopOnInteraction&&$.add(n.containerNode(),"focusout",x),e.playOnInit&&x()}function p(){n.off("pointerDown",S).off("pointerUp",M).off("slideFocusStart",y),y(),r=!0,a=!1}function m(){const{ownerWindow:G}=n.internalEngine();G.clearTimeout(o),o=G.setTimeout(F,i[n.selectedScrollSnap()]),s=new Date().getTime(),n.emit("autoplay:timerset")}function v(){const{ownerWindow:G}=n.internalEngine();G.clearTimeout(o),o=0,s=null,n.emit("autoplay:timerstopped")}function x(){if(!r){if(_()){c=!0;return}a||n.emit("autoplay:play"),m(),a=!0}}function y(){r||(a&&n.emit("autoplay:stop"),v(),a=!1)}function g(){if(_())return c=a,y();c&&x()}function _(){const{ownerDocument:G}=n.internalEngine();return G.visibilityState==="hidden"}function S(){l||y()}function M(){l||x()}function A(){l=!0,y()}function R(){l=!1,x()}function C(G){typeof G<"u"&&(u=G),x()}function D(){a&&y()}function N(){a&&x()}function I(){return a}function F(){const{index:G}=n.internalEngine(),ee=G.clone().add(1).get(),Q=n.scrollSnapList().length-1,ie=e.stopOnLastSnap&&ee===Q;if(n.canScrollNext()?n.scrollNext(u):n.scrollTo(0,u),n.emit("autoplay:select"),ie)return y();x()}function V(){if(!s)return null;const G=i[n.selectedScrollSnap()],ee=new Date().getTime()-s;return G-ee}return{name:"autoplay",options:t,init:d,destroy:p,play:C,stop:D,reset:N,isPlaying:I,timeUntilNext:V}}S3.globalOptions=void 0;function Ghe(){const{data:t}=nA();return T.jsxs("section",{className:"relative w-full py-24 bg-background",children:[T.jsxs("div",{className:"container mx-auto px-6 mb-8 flex items-end justify-between",children:[T.jsxs("div",{children:[T.jsx("span",{className:"text-primary font-bold tracking-widest text-xs uppercase mb-2 block",children:"The Big Day"}),T.jsx("h2",{className:"text-4xl md:text-6xl font-heading font-black",children:"Weddings & Unions"})]}),T.jsx("p",{className:"hidden md:block text-muted-foreground max-w-sm text-right",children:"Cinematic documentation of your most important day."})]}),T.jsxs(a3,{className:"w-full",plugins:[S3({delay:4e3})],opts:{align:"center",loop:!0},children:[T.jsx(l3,{children:t==null?void 0:t.weddings.map(e=>T.jsx(c3,{className:"md:basis-4/5 lg:basis-3/4 pl-4",children:T.jsxs("div",{className:"relative aspect-[16/9] md:aspect-[21/9] overflow-hidden rounded-2xl group",children:[T.jsx("img",{src:e.image,alt:e.caption,className:"w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105"}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),T.jsx("div",{className:"absolute bottom-6 left-6 md:bottom-10 md:left-10",children:T.jsx("h3",{className:"text-white text-2xl md:text-4xl font-heading font-bold",children:e.caption})})]})},e.id))}),T.jsxs("div",{className:"absolute bottom-12 right-12 hidden md:flex gap-2",children:[T.jsx(u3,{variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-white hover:text-black"}),T.jsx(d3,{variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-white hover:text-black"})]})]})]})}function Whe(){const{data:t}=nA(),e=(t==null?void 0:t.parties)||[],n=[...e,...e,...e];return T.jsxs("section",{className:"py-24 overflow-hidden bg-secondary/10",children:[T.jsxs("div",{className:"container mx-auto px-6 mb-12 text-center",children:[T.jsx("h2",{className:"text-3xl md:text-5xl font-heading font-black mb-4",children:"Life in Motion"}),T.jsx("p",{className:"text-muted-foreground",children:"Birthdays, Anniversaries, Concerts, and Private Parties."})]}),T.jsx("div",{className:"flex overflow-hidden mb-4",children:T.jsx(Su.div,{className:"flex gap-4",animate:{x:["0%","-33.33%"]},transition:{ease:"linear",duration:30,repeat:1/0},children:n.map((r,i)=>T.jsx(GL,{src:r},`row1-${i}`))})}),T.jsx("div",{className:"flex overflow-hidden",children:T.jsx(Su.div,{className:"flex gap-4",animate:{x:["-33.33%","0%"]},transition:{ease:"linear",duration:40,repeat:1/0},children:n.map((r,i)=>T.jsx(GL,{src:r},`row2-${i}`))})})]})}function GL({src:t}){const e=E.useRef(null),n=YV(),[r,i]=E.useState(!1),s=JB(e,{margin:"-20% 0px -20% 0px",amount:.5}),o=n?s:r;return T.jsxs("div",{ref:e,className:"relative w-[300px] h-[200px] md:w-[400px] md:h-[280px] shrink-0 rounded-xl overflow-hidden cursor-pointer",onMouseEnter:()=>!n&&i(!0),onMouseLeave:()=>!n&&i(!1),children:[T.jsx("img",{src:t,alt:"Party event",className:Ht("w-full h-full object-cover transition-all duration-700 ease-out will-change-transform",o?"grayscale-0 scale-110 opacity-100":"grayscale scale-100 opacity-60")}),T.jsx("div",{className:Ht("absolute inset-0 bg-secondary/10 transition-opacity duration-500",o?"opacity-0":"opacity-100")})]})}var Eb="rovingFocusGroup.onEntryFocus",Xhe={bubbles:!1,cancelable:!0},bg="RovingFocusGroup",[KE,N8,$he]=g_(bg),[Yhe,m1]=mo(bg,[$he]),[qhe,Khe]=Yhe(bg),D8=E.forwardRef((t,e)=>T.jsx(KE.Provider,{scope:t.__scopeRovingFocusGroup,children:T.jsx(KE.Slot,{scope:t.__scopeRovingFocusGroup,children:T.jsx(Zhe,{...t,ref:e})})}));D8.displayName=bg;var Zhe=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,p=E.useRef(null),m=sr(e,p),v=f1(s),[x,y]=ec({prop:o,defaultProp:a??null,onChange:l,caller:bg}),[g,_]=E.useState(!1),S=$i(c),M=N8(n),A=E.useRef(!1),[R,C]=E.useState(0);return E.useEffect(()=>{const D=p.current;if(D)return D.addEventListener(Eb,S),()=>D.removeEventListener(Eb,S)},[S]),T.jsx(qhe,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:x,onItemFocus:E.useCallback(D=>y(D),[y]),onItemShiftTab:E.useCallback(()=>_(!0),[]),onFocusableItemAdd:E.useCallback(()=>C(D=>D+1),[]),onFocusableItemRemove:E.useCallback(()=>C(D=>D-1),[]),children:T.jsx(hn.div,{tabIndex:g||R===0?-1:0,"data-orientation":r,...d,ref:m,style:{outline:"none",...t.style},onMouseDown:zt(t.onMouseDown,()=>{A.current=!0}),onFocus:zt(t.onFocus,D=>{const N=!A.current;if(D.target===D.currentTarget&&N&&!g){const I=new CustomEvent(Eb,Xhe);if(D.currentTarget.dispatchEvent(I),!I.defaultPrevented){const F=M().filter(Q=>Q.focusable),V=F.find(Q=>Q.active),Y=F.find(Q=>Q.id===x),ee=[V,Y,...F].filter(Boolean).map(Q=>Q.ref.current);F8(ee,u)}}A.current=!1}),onBlur:zt(t.onBlur,()=>_(!1))})})}),L8="RovingFocusGroupItem",O8=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=t,l=Ma(),c=s||l,u=Khe(L8,n),d=u.currentTabStopId===c,p=N8(n),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:x}=u;return E.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),T.jsx(KE.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:T.jsx(hn.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:zt(t.onMouseDown,y=>{r?u.onItemFocus(c):y.preventDefault()}),onFocus:zt(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:zt(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=epe(y,u.orientation,u.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let S=p().filter(M=>M.focusable).map(M=>M.ref.current);if(g==="last")S.reverse();else if(g==="prev"||g==="next"){g==="prev"&&S.reverse();const M=S.indexOf(y.currentTarget);S=u.loop?tpe(S,M+1):S.slice(M+1)}setTimeout(()=>F8(S))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:x!=null}):o})})});O8.displayName=L8;var Qhe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Jhe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function epe(t,e,n){const r=Jhe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Qhe[r]}function F8(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function tpe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var k8=D8,U8=O8,g1="Tabs",[npe]=mo(g1,[m1]),B8=m1(),[rpe,b3]=npe(g1),z8=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=f1(a),[d,p]=ec({prop:r,onChange:i,defaultProp:s??"",caller:g1});return T.jsx(rpe,{scope:n,baseId:Ma(),value:d,onValueChange:p,orientation:o,dir:u,activationMode:l,children:T.jsx(hn.div,{dir:u,"data-orientation":o,...c,ref:e})})});z8.displayName=g1;var V8="TabsList",H8=E.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=b3(V8,n),o=B8(n);return T.jsx(k8,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:T.jsx(hn.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});H8.displayName=V8;var j8="TabsTrigger",G8=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=b3(j8,n),a=B8(n),l=$8(o.baseId,r),c=Y8(o.baseId,r),u=r===o.value;return T.jsx(U8,{asChild:!0,...a,focusable:!i,active:u,children:T.jsx(hn.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:zt(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:zt(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:zt(t.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!i&&d&&o.onValueChange(r)})})})});G8.displayName=j8;var W8="TabsContent",X8=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=b3(W8,n),l=$8(a.baseId,r),c=Y8(a.baseId,r),u=r===a.value,d=E.useRef(u);return E.useEffect(()=>{const p=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(p)},[]),T.jsx(Bs,{present:i||u,children:({present:p})=>T.jsx(hn.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:p&&s})})});X8.displayName=W8;function $8(t,e){return`${t}-trigger-${e}`}function Y8(t,e){return`${t}-content-${e}`}var ipe=z8,q8=H8,K8=G8,Z8=X8;const spe=ipe,Q8=E.forwardRef(({className:t,...e},n)=>T.jsx(q8,{ref:n,className:Ht("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Q8.displayName=q8.displayName;const mx=E.forwardRef(({className:t,...e},n)=>T.jsx(K8,{ref:n,className:Ht("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));mx.displayName=K8.displayName;const J8=E.forwardRef(({className:t,...e},n)=>T.jsx(Z8,{ref:n,className:Ht("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));J8.displayName=Z8.displayName;function ope(){const{data:t}=nA(),e=t==null?void 0:t.gatherings;return e?T.jsxs("section",{className:"py-24 container mx-auto px-6",children:[T.jsxs("div",{className:"flex flex-col items-center mb-10 text-center",children:[T.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold mb-4",children:"Gatherings & Functions"}),T.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"Professional coverage for political rallies, corporate seminars, and traditional ceremonies."})]}),T.jsxs(spe,{defaultValue:"corporate",className:"w-full max-w-5xl mx-auto",children:[T.jsx("div",{className:"flex justify-center mb-8",children:T.jsxs(Q8,{className:"grid w-full max-w-md grid-cols-3",children:[T.jsx(mx,{value:"corporate",children:"Corporate"}),T.jsx(mx,{value:"political",children:"Political"}),T.jsx(mx,{value:"traditional",children:"Traditional"})]})}),Object.entries(e).map(([n,r])=>T.jsx(J8,{value:n,className:"mt-0",children:T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in fade-in zoom-in duration-500",children:r.map(i=>T.jsx(f3,{className:"overflow-hidden border-0 shadow-none",children:T.jsx(h3,{className:"p-0",children:T.jsxs("div",{className:"relative aspect-[4/3] group overflow-hidden rounded-xl",children:[T.jsx("img",{src:i.src,alt:n,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),T.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors"}),T.jsx("div",{className:"absolute bottom-4 left-4",children:T.jsx("span",{className:"bg-background/80 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider",children:n})})]})})},i.id))})},n))]})]}):null}function ape(){const{data:t,isLoading:e}=zte(),{stage:n}=rC();if(e)return T.jsx(lpe,{});const r=n==="complete";return T.jsxs("div",{className:"flex flex-col min-h-screen",children:[T.jsx(yfe,{headline:(t==null?void 0:t.headline)||"CAPTURING CHAOS",subhead:(t==null?void 0:t.subhead)||"Visual storytelling for the modern era."}),T.jsxs(Su.div,{initial:{opacity:0},animate:{opacity:r?1:0},transition:{duration:1},children:[T.jsx(Ghe,{}),T.jsx("section",{className:"py-20 bg-transparent",children:T.jsx("div",{className:"container px-6 mx-auto",children:T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[T.jsxs("div",{children:[T.jsx("span",{className:"text-primary font-bold tracking-widest text-xs uppercase mb-2 block",children:"Our Philosophy"}),T.jsxs("h2",{className:"text-3xl md:text-5xl font-heading font-bold mb-6 leading-tight",children:["Reliable. Timeless.",T.jsx("br",{}),T.jsx("span",{className:"text-muted-foreground",children:"Emotionally Resonant."})]}),T.jsx("p",{className:"text-muted-foreground text-lg leading-relaxed mb-8",children:"We don't just take photos; we preserve feelings. Our mission is to deliver visual stories with professional service, predictable delivery, and flexible packages that suit both consumers and businesses."}),T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[T.jsx(Uv,{icon:f$,text:"Data Safety & Privacy"}),T.jsx(Uv,{icon:ZX,text:"Fast Turnaround"}),T.jsx(Uv,{icon:e$,text:"Creative Collaboration"}),T.jsx(Uv,{icon:YX,text:"Clear Communication"})]})]}),T.jsxs("div",{className:"relative h-[400px] w-full bg-secondary/30 rounded-2xl overflow-hidden border border-border/50",children:[T.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-primary/20 blur-[80px] rounded-full animate-pulse"}),T.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:T.jsx("p",{className:"text-foreground/20 font-heading text-9xl font-black select-none",children:"2025"})})]})]})})}),T.jsx(Whe,{}),T.jsx(wfe,{}),T.jsx(ope,{}),T.jsx(Tfe,{}),T.jsx(Mfe,{}),T.jsx(yhe,{}),T.jsx(zhe,{}),T.jsxs("section",{className:"py-24 relative overflow-hidden",children:[T.jsx("div",{className:"absolute inset-0 bg-transparent from-primary/10 via-background to-background z-0"}),T.jsxs("div",{className:"container px-6 mx-auto relative z-10 text-center",children:[T.jsx("h2",{className:"text-4xl md:text-6xl font-heading font-black mb-6",children:"Ready to tell your story?"}),T.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto mb-10",children:"From intimate portraits to full-scale event production, our calendar fills up quickly. Secure your date today."}),T.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[T.jsx(Xi,{size:"lg",className:"h-14 px-8 text-lg rounded-full",asChild:!0,children:T.jsxs(Mr,{to:"/contact",children:["Book a Consultation ",T.jsx(cC,{className:"ml-2 w-5 h-5"})]})}),T.jsx(Xi,{size:"lg",variant:"outline",className:"h-14 px-8 text-lg rounded-full bg-background/50 backdrop-blur-sm",asChild:!0,children:T.jsx(Mr,{to:"/packages",children:"View Packages"})})]})]})]})]})]})}function Uv({icon:t,text:e}){return T.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-secondary/50 border border-border/50",children:[T.jsx(t,{className:"w-5 h-5 text-primary"}),T.jsx("span",{className:"font-medium text-sm",children:e})]})}function lpe(){return T.jsxs("div",{className:"space-y-10",children:[T.jsx(zp,{className:"w-full h-[90vh]"}),T.jsx("div",{className:"container mx-auto px-6",children:T.jsx(zp,{className:"w-full h-64 rounded-xl"})})]})}function cpe(t){const e=E.useRef(null),[n,r]=E.useState(!1);return oh((i,s)=>{e.current&&(e.current.rotation.x+=s*.5,e.current.rotation.y+=s*.6)}),T.jsx(UV,{speed:2,rotationIntensity:1.5,floatIntensity:1.5,children:T.jsxs("mesh",{...t,ref:e,scale:n?1.2:1,onPointerOver:()=>r(!0),onPointerOut:()=>r(!1),children:[T.jsx("icosahedronGeometry",{args:[1,0]}),T.jsx("meshStandardMaterial",{color:n?"#d4d4d8":"#27272a",roughness:.3,metalness:.8})]})})}const e6=({className:t})=>T.jsx("div",{className:t,children:T.jsxs(EV,{camera:{position:[0,0,5],fov:45},dpr:[1,2],children:[T.jsx("ambientLight",{intensity:.5}),T.jsx("spotLight",{position:[10,10,10],angle:.15,penumbra:1,intensity:1}),T.jsx("pointLight",{position:[-10,-10,-10],intensity:1}),T.jsx(cpe,{position:[0,0,0]})]})});var Tb=0;function t6(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??WL()),document.body.insertAdjacentElement("beforeend",t[1]??WL()),Tb++,()=>{Tb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Tb--}},[])}function WL(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Cb="focusScope.autoFocusOnMount",Ab="focusScope.autoFocusOnUnmount",XL={bubbles:!1,cancelable:!0},upe="FocusScope",M3=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=E.useState(null),c=$i(i),u=$i(s),d=E.useRef(null),p=sr(e,x=>l(x)),m=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let x=function(S){if(m.paused||!a)return;const M=S.target;a.contains(M)?d.current=M:ol(d.current,{select:!0})},y=function(S){if(m.paused||!a)return;const M=S.relatedTarget;M!==null&&(a.contains(M)||ol(d.current,{select:!0}))},g=function(S){if(document.activeElement===document.body)for(const A of S)A.removedNodes.length>0&&ol(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",y);const _=new MutationObserver(g);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",y),_.disconnect()}}},[r,a,m.paused]),E.useEffect(()=>{if(a){YL.add(m);const x=document.activeElement;if(!a.contains(x)){const g=new CustomEvent(Cb,XL);a.addEventListener(Cb,c),a.dispatchEvent(g),g.defaultPrevented||(dpe(gpe(n6(a)),{select:!0}),document.activeElement===x&&ol(a))}return()=>{a.removeEventListener(Cb,c),setTimeout(()=>{const g=new CustomEvent(Ab,XL);a.addEventListener(Ab,u),a.dispatchEvent(g),g.defaultPrevented||ol(x??document.body,{select:!0}),a.removeEventListener(Ab,u),YL.remove(m)},0)}}},[a,c,u,m]);const v=E.useCallback(x=>{if(!n&&!r||m.paused)return;const y=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(y&&g){const _=x.currentTarget,[S,M]=fpe(_);S&&M?!x.shiftKey&&g===M?(x.preventDefault(),n&&ol(S,{select:!0})):x.shiftKey&&g===S&&(x.preventDefault(),n&&ol(M,{select:!0})):g===_&&x.preventDefault()}},[n,r,m.paused]);return T.jsx(hn.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});M3.displayName=upe;function dpe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ol(r,{select:e}),document.activeElement!==n)return}function fpe(t){const e=n6(t),n=$L(e,t),r=$L(e.reverse(),t);return[n,r]}function n6(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function $L(t,e){for(const n of t)if(!hpe(n,{upTo:e}))return n}function hpe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ppe(t){return t instanceof HTMLInputElement&&"select"in t}function ol(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&ppe(t)&&e&&t.select()}}var YL=mpe();function mpe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=qL(t,e),t.unshift(e)},remove(e){var n;t=qL(t,e),(n=t[0])==null||n.resume()}}}function qL(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function gpe(t){return t.filter(e=>e.tagName!=="A")}function vpe(t){const e=xpe(t),n=E.forwardRef((r,i)=>{const{children:s,...o}=r,a=E.Children.toArray(s),l=a.find(_pe);if(l){const c=l.props.children,u=a.map(d=>d===l?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:d);return T.jsx(e,{...o,ref:i,children:E.isValidElement(c)?E.cloneElement(c,void 0,u):null})}return T.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function xpe(t){const e=E.forwardRef((n,r)=>{const{children:i,...s}=n;if(E.isValidElement(i)){const o=Spe(i),a=wpe(s,i.props);return i.type!==E.Fragment&&(a.ref=r?Jl(r,o):o),E.cloneElement(i,a)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ype=Symbol("radix.slottable");function _pe(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ype}function wpe(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Spe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var bpe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Sd=new WeakMap,Bv=new WeakMap,zv={},Rb=0,r6=function(t){return t&&(t.host||r6(t.parentNode))},Mpe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=r6(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Epe=function(t,e,n,r){var i=Mpe(e,Array.isArray(t)?t:[t]);zv[n]||(zv[n]=new WeakMap);var s=zv[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(p){if(a.has(p))u(p);else try{var m=p.getAttribute(r),v=m!==null&&m!=="false",x=(Sd.get(p)||0)+1,y=(s.get(p)||0)+1;Sd.set(p,x),s.set(p,y),o.push(p),x===1&&v&&Bv.set(p,!0),y===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return u(e),a.clear(),Rb++,function(){o.forEach(function(d){var p=Sd.get(d)-1,m=s.get(d)-1;Sd.set(d,p),s.set(d,m),p||(Bv.has(d)||d.removeAttribute(r),Bv.delete(d)),m||d.removeAttribute(n)}),Rb--,Rb||(Sd=new WeakMap,Sd=new WeakMap,Bv=new WeakMap,zv={})}},i6=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=bpe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Epe(r,i,n,"aria-hidden")):function(){return null}},Oo=function(){return Oo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Oo.apply(this,arguments)};function s6(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Tpe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var gx="right-scroll-bar-position",vx="width-before-scroll-bar",Cpe="with-scroll-bars-hidden",Ape="--removed-body-scroll-bar-size";function Pb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Rpe(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Ppe=typeof window<"u"?E.useLayoutEffect:E.useEffect,KL=new WeakMap;function Ipe(t,e){var n=Rpe(null,function(r){return t.forEach(function(i){return Pb(i,r)})});return Ppe(function(){var r=KL.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Pb(a,null)}),s.forEach(function(a){i.has(a)||Pb(a,o)})}KL.set(n,t)},[t]),n}function Npe(t){return t}function Dpe(t,e){e===void 0&&(e=Npe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function Lpe(t){t===void 0&&(t={});var e=Dpe(null);return e.options=Oo({async:!0,ssr:!1},t),e}var o6=function(t){var e=t.sideCar,n=s6(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Oo({},n))};o6.isSideCarExport=!0;function Ope(t,e){return t.useMedium(e),o6}var a6=Lpe(),Ib=function(){},v1=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:Ib,onWheelCapture:Ib,onTouchMoveCapture:Ib}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,p=t.sideCar,m=t.noRelative,v=t.noIsolation,x=t.inert,y=t.allowPinchZoom,g=t.as,_=g===void 0?"div":g,S=t.gapMode,M=s6(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=p,R=Ipe([n,e]),C=Oo(Oo({},M),i);return E.createElement(E.Fragment,null,u&&E.createElement(A,{sideCar:a6,removeScrollBar:c,shards:d,noRelative:m,noIsolation:v,inert:x,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:S}),o?E.cloneElement(E.Children.only(a),Oo(Oo({},C),{ref:R})):E.createElement(_,Oo({},C,{className:l,ref:R}),a))});v1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};v1.classNames={fullWidth:vx,zeroRight:gx};var Fpe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function kpe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Fpe();return e&&t.setAttribute("nonce",e),t}function Upe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Bpe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var zpe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=kpe())&&(Upe(e,n),Bpe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Vpe=function(){var t=zpe();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},l6=function(){var t=Vpe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Hpe={left:0,top:0,right:0,gap:0},Nb=function(t){return parseInt(t||"",10)||0},jpe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Nb(n),Nb(r),Nb(i)]},Gpe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Hpe;var e=jpe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Wpe=l6(),sf="data-scroll-locked",Xpe=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Cpe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(sf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gx,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(vx,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(gx," .").concat(gx,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(vx," .").concat(vx,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(sf,`] {
    `).concat(Ape,": ").concat(a,`px;
  }
`)},ZL=function(){var t=parseInt(document.body.getAttribute(sf)||"0",10);return isFinite(t)?t:0},$pe=function(){E.useEffect(function(){return document.body.setAttribute(sf,(ZL()+1).toString()),function(){var t=ZL()-1;t<=0?document.body.removeAttribute(sf):document.body.setAttribute(sf,t.toString())}},[])},Ype=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;$pe();var s=E.useMemo(function(){return Gpe(i)},[i]);return E.createElement(Wpe,{styles:Xpe(s,!e,i,n?"":"!important")})},ZE=!1;if(typeof window<"u")try{var Vv=Object.defineProperty({},"passive",{get:function(){return ZE=!0,!0}});window.addEventListener("test",Vv,Vv),window.removeEventListener("test",Vv,Vv)}catch{ZE=!1}var bd=ZE?{passive:!1}:!1,qpe=function(t){return t.tagName==="TEXTAREA"},c6=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!qpe(t)&&n[e]==="visible")},Kpe=function(t){return c6(t,"overflowY")},Zpe=function(t){return c6(t,"overflowX")},QL=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=u6(t,r);if(i){var s=d6(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Qpe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Jpe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},u6=function(t,e){return t==="v"?Kpe(e):Zpe(e)},d6=function(t,e){return t==="v"?Qpe(e):Jpe(e)},eme=function(t,e){return t==="h"&&e==="rtl"?-1:1},tme=function(t,e,n,r,i){var s=eme(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,p=0;do{if(!a)break;var m=d6(t,a),v=m[0],x=m[1],y=m[2],g=x-y-s*v;(v||g)&&u6(t,a)&&(d+=g,p+=v);var _=a.parentNode;a=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(d)<1||!u&&Math.abs(p)<1)&&(c=!0),c},Hv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},JL=function(t){return[t.deltaX,t.deltaY]},eO=function(t){return t&&"current"in t?t.current:t},nme=function(t,e){return t[0]===e[0]&&t[1]===e[1]},rme=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ime=0,Md=[];function sme(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),i=E.useState(ime++)[0],s=E.useState(l6)[0],o=E.useRef(t);E.useEffect(function(){o.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=Tpe([t.lockRef.current],(t.shards||[]).map(eO),!0).filter(Boolean);return x.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=E.useCallback(function(x,y){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var g=Hv(x),_=n.current,S="deltaX"in x?x.deltaX:_[0]-g[0],M="deltaY"in x?x.deltaY:_[1]-g[1],A,R=x.target,C=Math.abs(S)>Math.abs(M)?"h":"v";if("touches"in x&&C==="h"&&R.type==="range")return!1;var D=window.getSelection(),N=D&&D.anchorNode,I=N?N===R||N.contains(R):!1;if(I)return!1;var F=QL(C,R);if(!F)return!0;if(F?A=C:(A=C==="v"?"h":"v",F=QL(C,R)),!F)return!1;if(!r.current&&"changedTouches"in x&&(S||M)&&(r.current=A),!A)return!0;var V=r.current||A;return tme(V,y,x,V==="h"?S:M)},[]),l=E.useCallback(function(x){var y=x;if(!(!Md.length||Md[Md.length-1]!==s)){var g="deltaY"in y?JL(y):Hv(y),_=e.current.filter(function(A){return A.name===y.type&&(A.target===y.target||y.target===A.shadowParent)&&nme(A.delta,g)})[0];if(_&&_.should){y.cancelable&&y.preventDefault();return}if(!_){var S=(o.current.shards||[]).map(eO).filter(Boolean).filter(function(A){return A.contains(y.target)}),M=S.length>0?a(y,S[0]):!o.current.noIsolation;M&&y.cancelable&&y.preventDefault()}}},[]),c=E.useCallback(function(x,y,g,_){var S={name:x,delta:y,target:g,should:_,shadowParent:ome(g)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(M){return M!==S})},1)},[]),u=E.useCallback(function(x){n.current=Hv(x),r.current=void 0},[]),d=E.useCallback(function(x){c(x.type,JL(x),x.target,a(x,t.lockRef.current))},[]),p=E.useCallback(function(x){c(x.type,Hv(x),x.target,a(x,t.lockRef.current))},[]);E.useEffect(function(){return Md.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,bd),document.addEventListener("touchmove",l,bd),document.addEventListener("touchstart",u,bd),function(){Md=Md.filter(function(x){return x!==s}),document.removeEventListener("wheel",l,bd),document.removeEventListener("touchmove",l,bd),document.removeEventListener("touchstart",u,bd)}},[]);var m=t.removeScrollBar,v=t.inert;return E.createElement(E.Fragment,null,v?E.createElement(s,{styles:rme(i)}):null,m?E.createElement(Ype,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function ome(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ame=Ope(a6,sme);var E3=E.forwardRef(function(t,e){return E.createElement(v1,Oo({},t,{ref:e,sideCar:ame}))});E3.classNames=v1.classNames;var QE=["Enter"," "],lme=["ArrowDown","PageUp","Home"],f6=["ArrowUp","PageDown","End"],cme=[...lme,...f6],ume={ltr:[...QE,"ArrowRight"],rtl:[...QE,"ArrowLeft"]},dme={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Mg="Menu",[km,fme,hme]=g_(Mg),[Uu,h6]=mo(Mg,[hme,M_,m1]),x1=M_(),p6=m1(),[pme,Bu]=Uu(Mg),[mme,Eg]=Uu(Mg),m6=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=x1(e),[l,c]=E.useState(null),u=E.useRef(!1),d=$i(s),p=f1(i);return E.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),T.jsx(eK,{...a,children:T.jsx(pme,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:T.jsx(mme,{scope:e,onClose:E.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:p,modal:o,children:r})})})};m6.displayName=Mg;var gme="MenuAnchor",T3=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=x1(n);return T.jsx(ZU,{...i,...r,ref:e})});T3.displayName=gme;var C3="MenuPortal",[vme,g6]=Uu(C3,{forceMount:void 0}),v6=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Bu(C3,e);return T.jsx(vme,{scope:e,forceMount:n,children:T.jsx(Bs,{present:n||s.open,children:T.jsx(v_,{asChild:!0,container:i,children:r})})})};v6.displayName=C3;var Os="MenuContent",[xme,A3]=Uu(Os),x6=E.forwardRef((t,e)=>{const n=g6(Os,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Bu(Os,t.__scopeMenu),o=Eg(Os,t.__scopeMenu);return T.jsx(km.Provider,{scope:t.__scopeMenu,children:T.jsx(Bs,{present:r||s.open,children:T.jsx(km.Slot,{scope:t.__scopeMenu,children:o.modal?T.jsx(yme,{...i,ref:e}):T.jsx(_me,{...i,ref:e})})})})}),yme=E.forwardRef((t,e)=>{const n=Bu(Os,t.__scopeMenu),r=E.useRef(null),i=sr(e,r);return E.useEffect(()=>{const s=r.current;if(s)return i6(s)},[]),T.jsx(R3,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:zt(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),_me=E.forwardRef((t,e)=>{const n=Bu(Os,t.__scopeMenu);return T.jsx(R3,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),wme=vpe("MenuContent.ScrollLock"),R3=E.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,onDismiss:m,disableOutsideScroll:v,...x}=t,y=Bu(Os,n),g=Eg(Os,n),_=x1(n),S=p6(n),M=fme(n),[A,R]=E.useState(null),C=E.useRef(null),D=sr(e,C,y.onContentChange),N=E.useRef(0),I=E.useRef(""),F=E.useRef(0),V=E.useRef(null),Y=E.useRef("right"),G=E.useRef(0),ee=v?E3:E.Fragment,Q=v?{as:wme,allowPinchZoom:!0}:void 0,ie=H=>{var fe,je;const $=I.current+H,oe=M().filter(ct=>!ct.disabled),pe=document.activeElement,Me=(fe=oe.find(ct=>ct.ref.current===pe))==null?void 0:fe.textValue,Ue=oe.map(ct=>ct.textValue),at=Dme(Ue,$,Me),ae=(je=oe.find(ct=>ct.textValue===at))==null?void 0:je.ref.current;(function ct(st){I.current=st,window.clearTimeout(N.current),st!==""&&(N.current=window.setTimeout(()=>ct(""),1e3))})($),ae&&setTimeout(()=>ae.focus())};E.useEffect(()=>()=>window.clearTimeout(N.current),[]),t6();const z=E.useCallback(H=>{var oe,pe;return Y.current===((oe=V.current)==null?void 0:oe.side)&&Ome(H,(pe=V.current)==null?void 0:pe.area)},[]);return T.jsx(xme,{scope:n,searchRef:I,onItemEnter:E.useCallback(H=>{z(H)&&H.preventDefault()},[z]),onItemLeave:E.useCallback(H=>{var $;z(H)||(($=C.current)==null||$.focus(),R(null))},[z]),onTriggerLeave:E.useCallback(H=>{z(H)&&H.preventDefault()},[z]),pointerGraceTimerRef:F,onPointerGraceIntentChange:E.useCallback(H=>{V.current=H},[]),children:T.jsx(ee,{...Q,children:T.jsx(M3,{asChild:!0,trapped:i,onMountAutoFocus:zt(s,H=>{var $;H.preventDefault(),($=C.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:T.jsx(Zm,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,onDismiss:m,children:T.jsx(k8,{asChild:!0,...S,dir:g.dir,orientation:"vertical",loop:r,currentTabStopId:A,onCurrentTabStopIdChange:R,onEntryFocus:zt(l,H=>{g.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:T.jsx(QU,{role:"menu","aria-orientation":"vertical","data-state":L6(y.open),"data-radix-menu-content":"",dir:g.dir,..._,...x,ref:D,style:{outline:"none",...x.style},onKeyDown:zt(x.onKeyDown,H=>{const oe=H.target.closest("[data-radix-menu-content]")===H.currentTarget,pe=H.ctrlKey||H.altKey||H.metaKey,Me=H.key.length===1;oe&&(H.key==="Tab"&&H.preventDefault(),!pe&&Me&&ie(H.key));const Ue=C.current;if(H.target!==Ue||!cme.includes(H.key))return;H.preventDefault();const ae=M().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);f6.includes(H.key)&&ae.reverse(),Ime(ae)}),onBlur:zt(t.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(N.current),I.current="")}),onPointerMove:zt(t.onPointerMove,Um(H=>{const $=H.target,oe=G.current!==H.clientX;if(H.currentTarget.contains($)&&oe){const pe=H.clientX>G.current?"right":"left";Y.current=pe,G.current=H.clientX}}))})})})})})})});x6.displayName=Os;var Sme="MenuGroup",P3=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return T.jsx(hn.div,{role:"group",...r,ref:e})});P3.displayName=Sme;var bme="MenuLabel",y6=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return T.jsx(hn.div,{...r,ref:e})});y6.displayName=bme;var qy="MenuItem",tO="menu.itemSelect",y1=E.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=E.useRef(null),o=Eg(qy,t.__scopeMenu),a=A3(qy,t.__scopeMenu),l=sr(e,s),c=E.useRef(!1),u=()=>{const d=s.current;if(!n&&d){const p=new CustomEvent(tO,{bubbles:!0,cancelable:!0});d.addEventListener(tO,m=>r==null?void 0:r(m),{once:!0}),iC(d,p),p.defaultPrevented?c.current=!1:o.onClose()}};return T.jsx(_6,{...i,ref:l,disabled:n,onClick:zt(t.onClick,u),onPointerDown:d=>{var p;(p=t.onPointerDown)==null||p.call(t,d),c.current=!0},onPointerUp:zt(t.onPointerUp,d=>{var p;c.current||(p=d.currentTarget)==null||p.click()}),onKeyDown:zt(t.onKeyDown,d=>{const p=a.searchRef.current!=="";n||p&&d.key===" "||QE.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});y1.displayName=qy;var _6=E.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=A3(qy,n),a=p6(n),l=E.useRef(null),c=sr(e,l),[u,d]=E.useState(!1),[p,m]=E.useState("");return E.useEffect(()=>{const v=l.current;v&&m((v.textContent??"").trim())},[s.children]),T.jsx(km.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:T.jsx(U8,{asChild:!0,...a,focusable:!r,children:T.jsx(hn.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:zt(t.onPointerMove,Um(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:zt(t.onPointerLeave,Um(v=>o.onItemLeave(v))),onFocus:zt(t.onFocus,()=>d(!0)),onBlur:zt(t.onBlur,()=>d(!1))})})})}),Mme="MenuCheckboxItem",w6=E.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return T.jsx(T6,{scope:t.__scopeMenu,checked:n,children:T.jsx(y1,{role:"menuitemcheckbox","aria-checked":Ky(n)?"mixed":n,...i,ref:e,"data-state":N3(n),onSelect:zt(i.onSelect,()=>r==null?void 0:r(Ky(n)?!0:!n),{checkForDefaultPrevented:!1})})})});w6.displayName=Mme;var S6="MenuRadioGroup",[Eme,Tme]=Uu(S6,{value:void 0,onValueChange:()=>{}}),b6=E.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=$i(r);return T.jsx(Eme,{scope:t.__scopeMenu,value:n,onValueChange:s,children:T.jsx(P3,{...i,ref:e})})});b6.displayName=S6;var M6="MenuRadioItem",E6=E.forwardRef((t,e)=>{const{value:n,...r}=t,i=Tme(M6,t.__scopeMenu),s=n===i.value;return T.jsx(T6,{scope:t.__scopeMenu,checked:s,children:T.jsx(y1,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":N3(s),onSelect:zt(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});E6.displayName=M6;var I3="MenuItemIndicator",[T6,Cme]=Uu(I3,{checked:!1}),C6=E.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=Cme(I3,n);return T.jsx(Bs,{present:r||Ky(s.checked)||s.checked===!0,children:T.jsx(hn.span,{...i,ref:e,"data-state":N3(s.checked)})})});C6.displayName=I3;var Ame="MenuSeparator",A6=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return T.jsx(hn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});A6.displayName=Ame;var Rme="MenuArrow",R6=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=x1(n);return T.jsx(JU,{...i,...r,ref:e})});R6.displayName=Rme;var Pme="MenuSub",[f0e,P6]=Uu(Pme),mp="MenuSubTrigger",I6=E.forwardRef((t,e)=>{const n=Bu(mp,t.__scopeMenu),r=Eg(mp,t.__scopeMenu),i=P6(mp,t.__scopeMenu),s=A3(mp,t.__scopeMenu),o=E.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},u=E.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return E.useEffect(()=>u,[u]),E.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),T.jsx(T3,{asChild:!0,...c,children:T.jsx(_6,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":L6(n.open),...t,ref:Jl(e,i.onTriggerChange),onClick:d=>{var p;(p=t.onClick)==null||p.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:zt(t.onPointerMove,Um(d=>{s.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:zt(t.onPointerLeave,Um(d=>{var m,v;u();const p=(m=n.content)==null?void 0:m.getBoundingClientRect();if(p){const x=(v=n.content)==null?void 0:v.dataset.side,y=x==="right",g=y?-5:5,_=p[y?"left":"right"],S=p[y?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+g,y:d.clientY},{x:_,y:p.top},{x:S,y:p.top},{x:S,y:p.bottom},{x:_,y:p.bottom}],side:x}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:zt(t.onKeyDown,d=>{var m;const p=s.searchRef.current!=="";t.disabled||p&&d.key===" "||ume[r.dir].includes(d.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),d.preventDefault())})})})});I6.displayName=mp;var N6="MenuSubContent",D6=E.forwardRef((t,e)=>{const n=g6(Os,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Bu(Os,t.__scopeMenu),o=Eg(Os,t.__scopeMenu),a=P6(N6,t.__scopeMenu),l=E.useRef(null),c=sr(e,l);return T.jsx(km.Provider,{scope:t.__scopeMenu,children:T.jsx(Bs,{present:r||s.open,children:T.jsx(km.Slot,{scope:t.__scopeMenu,children:T.jsx(R3,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;o.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:zt(t.onFocusOutside,u=>{u.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:zt(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:zt(t.onKeyDown,u=>{var m;const d=u.currentTarget.contains(u.target),p=dme[o.dir].includes(u.key);d&&p&&(s.onOpenChange(!1),(m=a.trigger)==null||m.focus(),u.preventDefault())})})})})})});D6.displayName=N6;function L6(t){return t?"open":"closed"}function Ky(t){return t==="indeterminate"}function N3(t){return Ky(t)?"indeterminate":t?"checked":"unchecked"}function Ime(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Nme(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Dme(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=Nme(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Lme(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,d=l.x,p=l.y;u>r!=p>r&&n<(d-c)*(r-u)/(p-u)+c&&(i=!i)}return i}function Ome(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Lme(n,e)}function Um(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Fme=m6,kme=T3,Ume=v6,Bme=x6,zme=P3,Vme=y6,Hme=y1,jme=w6,Gme=b6,Wme=E6,Xme=C6,$me=A6,Yme=R6,qme=I6,Kme=D6,_1="DropdownMenu",[Zme]=mo(_1,[h6]),Ri=h6(),[Qme,O6]=Zme(_1),F6=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=Ri(e),c=E.useRef(null),[u,d]=ec({prop:i,defaultProp:s??!1,onChange:o,caller:_1});return T.jsx(Qme,{scope:e,triggerId:Ma(),triggerRef:c,contentId:Ma(),open:u,onOpenChange:d,onOpenToggle:E.useCallback(()=>d(p=>!p),[d]),modal:a,children:T.jsx(Fme,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:n})})};F6.displayName=_1;var k6="DropdownMenuTrigger",U6=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=O6(k6,n),o=Ri(n);return T.jsx(kme,{asChild:!0,...o,children:T.jsx(hn.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Jl(e,s.triggerRef),onPointerDown:zt(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:zt(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});U6.displayName=k6;var Jme="DropdownMenuPortal",B6=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Ri(e);return T.jsx(Ume,{...r,...n})};B6.displayName=Jme;var z6="DropdownMenuContent",V6=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=O6(z6,n),s=Ri(n),o=E.useRef(!1);return T.jsx(Bme,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:zt(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:zt(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});V6.displayName=z6;var ege="DropdownMenuGroup",tge=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ri(n);return T.jsx(zme,{...i,...r,ref:e})});tge.displayName=ege;var nge="DropdownMenuLabel",H6=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ri(n);return T.jsx(Vme,{...i,...r,ref:e})});H6.displayName=nge;var rge="DropdownMenuItem",j6=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ri(n);return T.jsx(Hme,{...i,...r,ref:e})});j6.displayName=rge;var ige="DropdownMenuCheckboxItem",G6=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ri(n);return T.jsx(jme,{...i,...r,ref:e})});G6.displayName=ige;var sge="DropdownMenuRadioGroup",oge=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ri(n);return T.jsx(Gme,{...i,...r,ref:e})});oge.displayName=sge;var age="DropdownMenuRadioItem",W6=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ri(n);return T.jsx(Wme,{...i,...r,ref:e})});W6.displayName=age;var lge="DropdownMenuItemIndicator",X6=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ri(n);return T.jsx(Xme,{...i,...r,ref:e})});X6.displayName=lge;var cge="DropdownMenuSeparator",$6=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ri(n);return T.jsx($me,{...i,...r,ref:e})});$6.displayName=cge;var uge="DropdownMenuArrow",dge=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ri(n);return T.jsx(Yme,{...i,...r,ref:e})});dge.displayName=uge;var fge="DropdownMenuSubTrigger",Y6=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ri(n);return T.jsx(qme,{...i,...r,ref:e})});Y6.displayName=fge;var hge="DropdownMenuSubContent",q6=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ri(n);return T.jsx(Kme,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});q6.displayName=hge;var pge=F6,mge=U6,gge=B6,K6=V6,Z6=H6,Q6=j6,J6=G6,eH=W6,tH=X6,nH=$6,rH=Y6,iH=q6;const vge=pge,xge=mge,yge=E.forwardRef(({className:t,inset:e,children:n,...r},i)=>T.jsxs(rH,{ref:i,className:Ht("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...r,children:[n,T.jsx($X,{className:"ml-auto h-4 w-4"})]}));yge.displayName=rH.displayName;const _ge=E.forwardRef(({className:t,...e},n)=>T.jsx(iH,{ref:n,className:Ht("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));_ge.displayName=iH.displayName;const sH=E.forwardRef(({className:t,sideOffset:e=4,...n},r)=>T.jsx(gge,{children:T.jsx(K6,{ref:r,sideOffset:e,className:Ht("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));sH.displayName=K6.displayName;const xx=E.forwardRef(({className:t,inset:e,...n},r)=>T.jsx(Q6,{ref:r,className:Ht("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));xx.displayName=Q6.displayName;const wge=E.forwardRef(({className:t,children:e,checked:n,...r},i)=>T.jsxs(J6,{ref:i,className:Ht("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[T.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:T.jsx(tH,{children:T.jsx(WX,{className:"h-4 w-4"})})}),e]}));wge.displayName=J6.displayName;const Sge=E.forwardRef(({className:t,children:e,...n},r)=>T.jsxs(eH,{ref:r,className:Ht("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[T.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:T.jsx(tH,{children:T.jsx(KX,{className:"h-2 w-2 fill-current"})})}),e]}));Sge.displayName=eH.displayName;const bge=E.forwardRef(({className:t,inset:e,...n},r)=>T.jsx(Z6,{ref:r,className:Ht("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));bge.displayName=Z6.displayName;const Mge=E.forwardRef(({className:t,...e},n)=>T.jsx(nH,{ref:n,className:Ht("-mx-1 my-1 h-px bg-muted",t),...e}));Mge.displayName=nH.displayName;function nO(){const{setTheme:t}=y4();return T.jsxs(vge,{children:[T.jsx(xge,{asChild:!0,children:T.jsxs(Xi,{variant:"ghost",size:"icon",className:"focus-visible:ring-0",children:[T.jsx(p$,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),T.jsx(l$,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),T.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),T.jsxs(sH,{align:"end",children:[T.jsx(xx,{onClick:()=>t("light"),children:"Light"}),T.jsx(xx,{onClick:()=>t("dark"),children:"Dark"}),T.jsx(xx,{onClick:()=>t("system"),children:"System"})]})]})}function Ege(t){const e=Tge(t),n=E.forwardRef((r,i)=>{const{children:s,...o}=r,a=E.Children.toArray(s),l=a.find(Age);if(l){const c=l.props.children,u=a.map(d=>d===l?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:d);return T.jsx(e,{...o,ref:i,children:E.isValidElement(c)?E.cloneElement(c,void 0,u):null})}return T.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function Tge(t){const e=E.forwardRef((n,r)=>{const{children:i,...s}=n;if(E.isValidElement(i)){const o=Pge(i),a=Rge(s,i.props);return i.type!==E.Fragment&&(a.ref=r?Jl(r,o):o),E.cloneElement(i,a)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Cge=Symbol("radix.slottable");function Age(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Cge}function Rge(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Pge(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var w1="Dialog",[oH]=mo(w1),[Ige,xo]=oH(w1),aH=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=E.useRef(null),l=E.useRef(null),[c,u]=ec({prop:r,defaultProp:i??!1,onChange:s,caller:w1});return T.jsx(Ige,{scope:e,triggerRef:a,contentRef:l,contentId:Ma(),titleId:Ma(),descriptionId:Ma(),open:c,onOpenChange:u,onOpenToggle:E.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};aH.displayName=w1;var lH="DialogTrigger",cH=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xo(lH,n),s=sr(e,i.triggerRef);return T.jsx(hn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":O3(i.open),...r,ref:s,onClick:zt(t.onClick,i.onOpenToggle)})});cH.displayName=lH;var D3="DialogPortal",[Nge,uH]=oH(D3,{forceMount:void 0}),dH=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=xo(D3,e);return T.jsx(Nge,{scope:e,forceMount:n,children:E.Children.map(r,o=>T.jsx(Bs,{present:n||s.open,children:T.jsx(v_,{asChild:!0,container:i,children:o})}))})};dH.displayName=D3;var Zy="DialogOverlay",fH=E.forwardRef((t,e)=>{const n=uH(Zy,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=xo(Zy,t.__scopeDialog);return s.modal?T.jsx(Bs,{present:r||s.open,children:T.jsx(Lge,{...i,ref:e})}):null});fH.displayName=Zy;var Dge=Ege("DialogOverlay.RemoveScroll"),Lge=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xo(Zy,n);return T.jsx(E3,{as:Dge,allowPinchZoom:!0,shards:[i.contentRef],children:T.jsx(hn.div,{"data-state":O3(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Au="DialogContent",hH=E.forwardRef((t,e)=>{const n=uH(Au,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=xo(Au,t.__scopeDialog);return T.jsx(Bs,{present:r||s.open,children:s.modal?T.jsx(Oge,{...i,ref:e}):T.jsx(Fge,{...i,ref:e})})});hH.displayName=Au;var Oge=E.forwardRef((t,e)=>{const n=xo(Au,t.__scopeDialog),r=E.useRef(null),i=sr(e,n.contentRef,r);return E.useEffect(()=>{const s=r.current;if(s)return i6(s)},[]),T.jsx(pH,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:zt(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:zt(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:zt(t.onFocusOutside,s=>s.preventDefault())})}),Fge=E.forwardRef((t,e)=>{const n=xo(Au,t.__scopeDialog),r=E.useRef(!1),i=E.useRef(!1);return T.jsx(pH,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),pH=E.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=xo(Au,n),l=E.useRef(null),c=sr(e,l);return t6(),T.jsxs(T.Fragment,{children:[T.jsx(M3,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:T.jsx(Zm,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":O3(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),T.jsxs(T.Fragment,{children:[T.jsx(kge,{titleId:a.titleId}),T.jsx(Bge,{contentRef:l,descriptionId:a.descriptionId})]})]})}),L3="DialogTitle",mH=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xo(L3,n);return T.jsx(hn.h2,{id:i.titleId,...r,ref:e})});mH.displayName=L3;var gH="DialogDescription",vH=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xo(gH,n);return T.jsx(hn.p,{id:i.descriptionId,...r,ref:e})});vH.displayName=gH;var xH="DialogClose",yH=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xo(xH,n);return T.jsx(hn.button,{type:"button",...r,ref:e,onClick:zt(t.onClick,()=>i.onOpenChange(!1))})});yH.displayName=xH;function O3(t){return t?"open":"closed"}var _H="DialogTitleWarning",[h0e,wH]=j7(_H,{contentName:Au,titleName:L3,docsSlug:"dialog"}),kge=({titleId:t})=>{const e=wH(_H),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Uge="DialogDescriptionWarning",Bge=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wH(Uge).contentName}}.`;return E.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},zge=aH,Vge=cH,Hge=dH,SH=fH,bH=hH,MH=mH,EH=vH,TH=yH;const jge=zge,Gge=Vge,Db=TH,Wge=Hge,CH=E.forwardRef(({className:t,...e},n)=>T.jsx(SH,{className:Ht("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));CH.displayName=SH.displayName;const Xge=lC("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),AH=E.forwardRef(({side:t="right",className:e,children:n,...r},i)=>T.jsxs(Wge,{children:[T.jsx(CH,{}),T.jsxs(bH,{ref:i,className:Ht(Xge({side:t}),e),...r,children:[n,T.jsxs(TH,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[T.jsx(yU,{className:"h-4 w-4"}),T.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));AH.displayName=bH.displayName;const $ge=E.forwardRef(({className:t,...e},n)=>T.jsx(MH,{ref:n,className:Ht("text-lg font-semibold text-foreground",t),...e}));$ge.displayName=MH.displayName;const Yge=E.forwardRef(({className:t,...e},n)=>T.jsx(EH,{ref:n,className:Ht("text-sm text-muted-foreground",t),...e}));Yge.displayName=EH.displayName;const rO=[{href:"/",label:"Home"},{href:"/services",label:"Services"},{href:"/portfolio",label:"Work"},{href:"/packages",label:"Pricing"},{href:"/about",label:"Studio"}];function qge(){const{stage:t,setStage:e,isHome:n}=rC(),[r,i]=E.useState(!1),s=Fa(),o=!n||t==="navbar"||t==="complete";return E.useEffect(()=>{const a=()=>{i(window.scrollY>10)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]),T.jsx(Su.header,{initial:{y:-100,opacity:0},animate:{y:o?0:-100,opacity:o?1:0},transition:{duration:.8,ease:"circOut"},onAnimationComplete:()=>{n&&t==="navbar"&&e("complete")},className:Ht("fixed top-0 left-0 right-0 z-50 transition-all duration-500",r?"bg-background/20 backdrop-blur-md border-none py-2 shadow-lg supports-[backdrop-filter]:bg-background/20":"bg-transparent border-none py-3 md:py-4"),children:T.jsxs("div",{className:"container mx-auto px-4 flex items-center justify-between",children:[T.jsxs(Mr,{to:"/",className:"flex items-center gap-2 group relative z-50",children:[T.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 relative",children:T.jsx(e6,{className:"w-full h-full"})}),T.jsx("span",{className:"text-lg md:text-xl font-heading font-bold tracking-tight group-hover:opacity-80 transition-opacity",children:"PhotoStudio"})]}),T.jsx("nav",{className:"hidden md:flex items-center gap-6",children:rO.map(a=>T.jsx(Mr,{to:a.href,className:Ht("text-sm font-medium transition-colors hover:text-primary relative py-2",s.pathname===a.href?"text-primary font-bold after:absolute after:bottom-0 after:left-0 after:right-0 after:h-[2px] after:bg-primary after:content-['']":"text-muted-foreground hover:text-foreground"),children:a.label},a.href))}),T.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[T.jsx("div",{className:"h-6 w-px bg-border/40 mx-1"}),T.jsx(nO,{}),T.jsx(Xi,{asChild:!0,size:"sm",className:"ml-2 px-6 font-semibold shadow-md shadow-primary/20",children:T.jsx(Mr,{to:"/contact",children:"Book Now"})})]}),T.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[T.jsx(nO,{}),T.jsxs(jge,{children:[T.jsx(Gge,{asChild:!0,children:T.jsxs(Xi,{variant:"ghost",size:"icon",className:"h-10 w-10",children:[T.jsx(s$,{className:"h-6 w-6"}),T.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),T.jsxs(AH,{side:"right",className:"w-[85vw] max-w-[400px] flex flex-col p-0 border-l border-border/20 bg-background/95 backdrop-blur-xl",children:[T.jsx("div",{className:"p-6 pt-12 flex-grow overflow-y-auto",children:T.jsxs("div",{className:"flex flex-col gap-1",children:[rO.map(a=>T.jsx(Db,{asChild:!0,children:T.jsx(Mr,{to:a.href,className:Ht("text-2xl font-heading font-medium py-4 border-b border-border/10 transition-colors",s.pathname===a.href?"text-primary pl-4 border-l-4 border-l-primary bg-primary/5":"text-foreground/80 hover:text-primary hover:pl-2"),children:a.label})},a.href)),T.jsx(Db,{asChild:!0,children:T.jsx(Mr,{to:"/contact",className:"text-2xl font-heading font-medium py-4 text-foreground/80 hover:text-primary hover:pl-2 transition-all",children:"Contact"})})]})}),T.jsx("div",{className:"p-6 bg-muted/10 border-t border-border/20",children:T.jsx(Db,{asChild:!0,children:T.jsx(Xi,{size:"lg",className:"w-full text-lg h-12 shadow-lg shadow-primary/20",asChild:!0,children:T.jsx(Mr,{to:"/contact",children:"Book a Session"})})})})]})]})]})]})})}var Kge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zge=Kge.reduce((t,e)=>{const n=t3(`Primitive.${e}`),r=E.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),Qge="Separator",iO="horizontal",Jge=["horizontal","vertical"],RH=E.forwardRef((t,e)=>{const{decorative:n,orientation:r=iO,...i}=t,s=e0e(r)?r:iO,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return T.jsx(Zge.div,{"data-orientation":s,...a,...i,ref:e})});RH.displayName=Qge;function e0e(t){return Jge.includes(t)}var PH=RH;const IH=E.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>T.jsx(PH,{ref:i,decorative:n,orientation:e,className:Ht("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));IH.displayName=PH.displayName;function t0e(){const t=new Date().getFullYear();return T.jsx("footer",{className:"bg-transparent pt-16 pb-8",children:T.jsxs("div",{className:"container mx-auto px-6 md:px-4",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 md:gap-8 mb-12",children:[T.jsxs("div",{className:"space-y-4",children:[T.jsxs(Mr,{to:"/",className:"flex items-center gap-2 w-fit",children:[T.jsx("div",{className:"w-8 h-8",children:T.jsx(e6,{className:"w-full h-full"})}),T.jsx("span",{className:"text-xl font-heading font-bold",children:"PhotoStudio"})]}),T.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed max-w-xs",children:"Capturing your most important moments with cinematic quality and professional reliability."}),T.jsxs("div",{className:"flex gap-3 pt-2",children:[T.jsx(jv,{href:"#",icon:T.jsx(t$,{size:18}),label:"Instagram"}),T.jsx(jv,{href:"#",icon:T.jsx(m$,{size:18}),label:"Twitter"}),T.jsx(jv,{href:"#",icon:T.jsx(n$,{size:18}),label:"LinkedIn"}),T.jsx(jv,{href:"#",icon:T.jsx(JX,{size:18}),label:"Facebook"})]})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-heading font-semibold mb-4 text-foreground/90",children:"Services"}),T.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[T.jsx(Ro,{to:"/services/event-photography",children:"Event Photography"}),T.jsx(Ro,{to:"/services/event-videography",children:"Event Videography"}),T.jsx(Ro,{to:"/services/studio-portraits",children:"Studio Portraits"}),T.jsx(Ro,{to:"/services/live-streaming",children:"Live Streaming"}),T.jsx(Ro,{to:"/services/creative-editing",children:"Editing & Retouching"})]})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-heading font-semibold mb-4 text-foreground/90",children:"Studio"}),T.jsxs("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[T.jsx(Ro,{to:"/about",children:"Our Team"}),T.jsx(Ro,{to:"/portfolio",children:"Portfolio Gallery"}),T.jsx(Ro,{to:"/packages",children:"Packages & Pricing"}),T.jsx(Ro,{to:"/contact",children:"Inquiry Form"}),T.jsx(Ro,{to:"/faq",children:"Common Questions"})]})]}),T.jsxs("div",{className:"bg-muted/30 p-6 rounded-lg border border-border/50 md:bg-transparent md:p-0 md:border-0",children:[T.jsx("h3",{className:"font-heading font-semibold mb-4 text-foreground/90",children:"Contact Us"}),T.jsxs("ul",{className:"space-y-4 text-sm text-muted-foreground",children:[T.jsxs("li",{className:"flex items-start gap-3",children:[T.jsx(i$,{size:18,className:"text-primary shrink-0 mt-0.5"}),T.jsxs("span",{children:["123 Creative Avenue,",T.jsx("br",{}),"Design District, NY 10012"]})]}),T.jsxs("li",{className:"flex items-center gap-3",children:[T.jsx(u$,{size:18,className:"text-primary shrink-0"}),T.jsx("a",{href:"tel:+15551234567",className:"hover:text-primary transition-colors",children:"+1 (555) 123-4567"})]}),T.jsxs("li",{className:"flex items-center gap-3",children:[T.jsx(r$,{size:18,className:"text-primary shrink-0"}),T.jsx("a",{href:"mailto:hello@photostudio.com",className:"hover:text-primary transition-colors",children:"hello@photostudio.com"})]})]})]})]}),T.jsx(IH,{className:"bg-border/60 mb-8"}),T.jsxs("div",{className:"flex flex-col-reverse md:flex-row justify-between items-center gap-4 text-sm text-muted-foreground text-center md:text-left",children:[T.jsxs("p",{children:[" ",t," PhotoStudio. All rights reserved."]}),T.jsxs("div",{className:"flex flex-wrap justify-center gap-x-6 gap-y-2",children:[T.jsx(Mr,{to:"/privacy",className:"hover:text-foreground transition-colors py-1",children:"Privacy Policy"}),T.jsx(Mr,{to:"/terms",className:"hover:text-foreground transition-colors py-1",children:"Terms of Service"}),T.jsx(Mr,{to:"/sitemap",className:"hover:text-foreground transition-colors py-1",children:"Sitemap"})]})]})]})})}function jv({href:t,icon:e,label:n}){return T.jsx("a",{href:t,"aria-label":n,className:"p-2.5 rounded-full bg-secondary text-secondary-foreground hover:bg-primary hover:text-primary-foreground transition-all duration-300",target:"_blank",rel:"noopener noreferrer",children:e})}function Ro({to:t,children:e}){return T.jsx("li",{children:T.jsx(Mr,{to:t,className:"block py-1 hover:text-foreground transition-colors hover:translate-x-1 duration-200",children:e})})}const n0e=()=>{const e=Fa().pathname==="/";return T.jsxs("div",{className:"min-h-screen bg-transparent flex flex-col font-body text-foreground",children:[T.jsx(qge,{}),T.jsx("main",{className:Ht("flex-grow",!e&&"pt-20"),children:T.jsx(Wk,{})}),T.jsx(t0e,{}),T.jsx(P7,{})]})},r0e=new WK,i0e=()=>T.jsx(F7,{children:T.jsxs("div",{className:"min-h-screen relative font-sans antialiased",children:[T.jsx(aZ,{}),T.jsx("div",{className:"relative z-10",children:T.jsx(Wk,{})}),T.jsx(eY,{}),T.jsx(NY,{})]})}),s0e=g7(RM(T.jsx(rx,{element:T.jsx(i0e,{}),errorElement:T.jsx(lZ,{}),children:T.jsx(rx,{element:T.jsx(n0e,{}),children:T.jsx(rx,{path:"/",element:T.jsx(ape,{})})})}))),o0e=()=>T.jsx($K,{client:r0e,children:T.jsx(oZ,{defaultTheme:"light",storageKey:"vite-ui-theme",children:T.jsx(_K,{children:T.jsx(E7,{router:s0e})})})});Ak(document.getElementById("root")).render(T.jsx(o0e,{}));
